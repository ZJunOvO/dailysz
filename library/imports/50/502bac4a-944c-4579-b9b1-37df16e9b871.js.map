{"version":3,"sources":["assets\\scripts\\page_jigsaw.js"],"names":["n","Object","defineProperty","exports","value","_evts","require","_mySafeArea","_global","_jigsawMgr","_newJigMgr","_tipMgr","_jigMenu","h","cc","_decorator","f","ccclass","g","property","y","t","e","apply","arguments","jigsawItem","menuView","newView","btnsNode","pageNodes","jigsawNum","jigsawNum1","jigTypes","bgNode","menuItem","THEME_H","themeSpace","top_offest","bottom_offest","last_view_inner_y","themes","newThemes","touching_theme_id","jigBID","jigEID","jigCount","newJigBID","newJigEID","newJigCount","designContH","btnsComp","curPageIdx","isAni","isFirstLoad","__extends","prototype","onLoad","jisawCount","ins","jigsawThemeNum","node","height","winSize","padScale","scale","opE","on","onOperTap","bind","upNewJigRed","action","FINISH_PUZZLE","UPD_MAIN_RED","parent","active","getUnPlacedNum","string","x","getCharXOffset","start","scheduleOnce","adapter","getSafeAreaRect","yMin","o","getChildByName","initMenuView","onEnable","Math","ceil","content","setContentSize","size","width","initItemView1","loadMenuItem","instantiate","getComponent","opacity","tween","to","i","r","a","s","position","v3","init","reItemVis1","loadNewItem","initItemView2","getNowJigsawLv","ScrollToItem1","reItemVis2","ScrollToItem2","abs","max","getScrollOffset","Number","EPSILON","scrollToOffset","v2","getContentPosition","convertToWorldSpaceAR","children","c","length","l","u","p","chgToFes","onBtnChgJigType","Tween","stopAllByTarget","view","getVisibleSize","easing","customEaseInOut","call","showTip","pow","__decorate","Prefab","ScrollView","Node","Label","Component"],"mappings":"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","sourceRoot":"/","sourcesContent":["var n;\nObject.defineProperty(exports, \"__esModule\", {value: !0});\nvar _evts = require(\"evts\");\nvar _mySafeArea = require(\"mySafeArea\");\nvar _global = require(\"global\");\nvar _jigsawMgr = require(\"jigsawMgr\");\nvar _newJigMgr = require(\"newJigMgr\");\nvar _tipMgr = require(\"tipMgr\");\nvar _jigMenu = require(\"jigMenu\");\nvar h = cc._decorator;\nvar f = h.ccclass;\nvar g = h.property;\nvar y = (function (t) {\n    function e() {\n        var e = (null !== t && t.apply(this, arguments)) || this;\n        e.jigsawItem = null;\n        e.menuView = null;\n        e.newView = null;\n        e.btnsNode = null;\n        e.pageNodes = null;\n        e.jigsawNum = null;\n        e.jigsawNum1 = null;\n        e.jigTypes = [];\n        e.bgNode = null;\n        e.menuItem = null;\n        e.THEME_H = 276;\n        e.themeSpace = 10;\n        e.top_offest = 30;\n        e.bottom_offest = 200;\n        e.last_view_inner_y = -1;\n        e.themes = {};\n        e.newThemes = {};\n        e.touching_theme_id = 0;\n        e.jigBID = 1;\n        e.jigEID = 27;\n        e.jigCount = 27;\n        e.newJigBID = 1;\n        e.newJigEID = 18;\n        e.newJigCount = 18;\n        e.designContH = 1100;\n        e.btnsComp = [];\n        e.curPageIdx = 0;\n        e.isAni = !1;\n        e.isFirstLoad = !0;\n        return e;\n    }\n    __extends(e, t);\n    e.prototype.onLoad = function () {\n        this.jigEID = this.jigCount = _global.default.jisawCount;\n        this.newJigEID = this.newJigCount = _newJigMgr.default.ins.jigsawThemeNum;\n        this.node.height = cc.winSize.height;\n        _global.default.padScale && (this.bgNode.scale = _global.default.padScale);\n        _evts.default.opE.on(this.onOperTap.bind(this));\n        this.upNewJigRed();\n    };\n    e.prototype.onOperTap = function (t) {\n        var e = null == t ? void 0 : t.action;\n        if (e)\n            switch (e) {\n                case _evts.default.FINISH_PUZZLE:\n                    break;\n                case _evts.default.UPD_MAIN_RED:\n                    this.upNewJigRed();\n            }\n    };\n    e.prototype.upNewJigRed = function () {\n        this.jigsawNum1.node.parent.active = !1;\n        var t = _newJigMgr.default.ins.getUnPlacedNum();\n        if (t > 0) {\n            var e = t > 99 ? \"99+\" : t + \"\";\n            this.jigsawNum.node.parent.active = !0;\n            this.jigsawNum.string = e + \"\";\n            this.jigsawNum.node.x = _global.default.getCharXOffset(this.jigsawNum.string);\n        } else (this.jigsawNum.node.parent.active = !1), (this.jigsawNum1.node.parent.active = !1);\n    };\n    e.prototype.start = function () {\n        var t = this;\n        this.scheduleOnce(function () {\n            t.adapter();\n            var e = _mySafeArea.getSafeAreaRect().yMin;\n            var o = t.node.height - 1280 - e;\n            t.newView.node.height = t.menuView.node.height = t.designContH + o;\n            t.newView.node.getChildByName(\"view\").height = t.menuView.node.getChildByName(\"view\").height =\n                t.designContH + o;\n            t.menuView.node.y -= e / 2;\n            t.newView.node.y -= e / 2;\n            t.initMenuView();\n        });\n    };\n    e.prototype.adapter = function () {\n        var t = _mySafeArea.getSafeAreaRect().yMin;\n        this.btnsNode.y -= t;\n    };\n    e.prototype.onEnable = function () {\n        var t = this;\n        this.isFirstLoad ||\n            this.scheduleOnce(function () {\n                t.adapter();\n            });\n        this.isFirstLoad = !1;\n    };\n    e.prototype.initMenuView = function () {\n        var t = (Math.ceil(this.jigCount / 3) + 1) * (this.themeSpace + this.THEME_H);\n        this.menuView.content.setContentSize(cc.size(cc.winSize.width, t));\n        this.initItemView1();\n        this.loadMenuItem(0);\n    };\n    e.prototype.loadMenuItem = function (t) {\n        if (t < this.jigCount) {\n            var e = this.jigBID + t;\n            var o = cc.instantiate(this.menuItem);\n            var n = o.getComponent(_jigMenu.default);\n            n.node.active = !0;\n            o.opacity = 0;\n            cc.tween(o).to(0.5, {opacity: 255}).start();\n            var i = t % 3;\n            var r = Math.ceil(e / 3);\n            var a = 128 + 232 * i;\n            var s = -this.top_offest - this.THEME_H / 2 + (r - 1) * -(this.THEME_H + this.themeSpace);\n            n.node.parent = this.menuView.content;\n            n.node.position = cc.v3(a, s);\n            this.themes[e] = n;\n            n.init(t, 1);\n            t++;\n            this.scheduleOnce(this.loadMenuItem.bind(this, t), 0);\n        } else this.reItemVis1(), this.loadNewItem(0);\n    };\n    e.prototype.loadNewItem = function (t) {\n        if (t < this.newJigCount) {\n            var e = this.newJigBID + t;\n            var o = cc.instantiate(this.menuItem).getComponent(_jigMenu.default);\n            o.node.active = !0;\n            var n = t % 3;\n            var i = Math.ceil(e / 3);\n            var r = 128 + 232 * n;\n            var a = -this.top_offest - this.THEME_H / 2 + (i - 1) * -(this.THEME_H + this.themeSpace);\n            o.node.parent = this.newView.content;\n            o.node.position = cc.v3(r, a);\n            this.newThemes[e] = o;\n            o.init(t, 2);\n            t++;\n            this.scheduleOnce(this.loadNewItem.bind(this, t), 0);\n        } else this.initItemView2();\n    };\n    e.prototype.initItemView1 = function () {\n        var t = this;\n        this.menuView.node.on(\n            \"scrolling\",\n            function () {\n                t.reItemVis1();\n            },\n            this\n        );\n        var e = _jigsawMgr.default.ins.getNowJigsawLv();\n        e >= this.jigBID && e <= this.jigEID ? this.ScrollToItem1(e) : this.ScrollToItem1(this.jigBID);\n    };\n    e.prototype.initItemView2 = function () {\n        var t = this;\n        this.newView.node.on(\n            \"scrolling\",\n            function () {\n                t.reItemVis2();\n            },\n            this\n        );\n        var e = _newJigMgr.default.ins.getNowJigsawLv();\n        e >= this.newJigBID && e <= this.newJigEID ? this.ScrollToItem2(e) : this.ScrollToItem2(this.newJigBID);\n    };\n    e.prototype.ScrollToItem1 = function (t) {\n        if (((this.last_view_inner_y = -1), !(t < this.jigBID || t > this.jigEID))) {\n            var e = Math.ceil(t / 3);\n            var o = Math.abs(-279 * (e - 1));\n            var n = Math.max(o, 0);\n            var i = this.menuView.getScrollOffset();\n            Math.abs(n - i.y) < Number.EPSILON || this.menuView.scrollToOffset(cc.v2(0, n), 0.5);\n        }\n    };\n    e.prototype.ScrollToItem2 = function (t) {\n        if (((this.last_view_inner_y = -1), !(t < this.newJigBID || t > this.newJigEID))) {\n            var e = Math.ceil(t / 3);\n            var o = Math.abs((e - 1) * -this.THEME_H);\n            var n = Math.max(o, 0);\n            var i = this.newView.getScrollOffset();\n            Math.abs(n - i.y) < Number.EPSILON || this.newView.scrollToOffset(cc.v2(0, n));\n        }\n        this.reItemVis2();\n    };\n    e.prototype.reItemVis1 = function () {\n        var t = this.menuView.getContentPosition();\n        if (!(Math.abs(this.last_view_inner_y - t.y) < 0.01)) {\n            this.last_view_inner_y = t.y;\n            for (\n                var e = this.menuView.node,\n                    o = e.height / 2,\n                    n = e.parent.convertToWorldSpaceAR(e.position),\n                    i = n.y + o,\n                    r = n.y - o,\n                    a = this.menuView.content.children,\n                    s = 0,\n                    c = a.length;\n                s < c;\n                s++\n            ) {\n                var l = a[s];\n                var u = l.parent.convertToWorldSpaceAR(l.position);\n                var p = u.y - 125 > i || u.y + 125 < r;\n                l.active = !p;\n            }\n        }\n    };\n    e.prototype.reItemVis2 = function () {};\n    e.prototype.chgToFes = function () {};\n    e.prototype.onBtnChgJigType = function () {\n        var t = this;\n        if (0 !== this.curPageIdx) {\n            var e = this.curPageIdx;\n            var o = 0 === e ? 1 : 0;\n            if (!this.isAni) {\n                this.isAni = !0;\n                this.jigTypes[e].active = !1;\n                this.jigTypes[o].active = !0;\n                this.curPageIdx = 0 === e ? 1 : 0;\n                var n = this.pageNodes.children[o];\n                var i = this.pageNodes.children[e];\n                cc.Tween.stopAllByTarget(this.pageNodes);\n                var r = o > e ? -1 : 1;\n                var a = this.pageNodes.x + cc.view.getVisibleSize().width * r;\n                n.x = -a;\n                n && (n.active = !0);\n                cc.tween(this.pageNodes)\n                    .to(0.5, {x: a}, {easing: this.customEaseInOut})\n                    .call(function () {\n                        i && (i.active = !1);\n                        t.isAni = !1;\n                    })\n                    .start();\n            }\n        } else _tipMgr.default.ins.showTip(\"暂未开启\");\n    };\n    e.prototype.customEaseInOut = function (t) {\n        return t < 0.5 ? 8 * t * t * t * t : 1 - Math.pow(-2 * t + 2, 4) / 2;\n    };\n    __decorate([g(cc.Prefab)], e.prototype, \"jigsawItem\", void 0);\n    __decorate([g(cc.ScrollView)], e.prototype, \"menuView\", void 0);\n    __decorate([g(cc.ScrollView)], e.prototype, \"newView\", void 0);\n    __decorate([g(cc.Node)], e.prototype, \"btnsNode\", void 0);\n    __decorate([g(cc.Node)], e.prototype, \"pageNodes\", void 0);\n    __decorate([g(cc.Label)], e.prototype, \"jigsawNum\", void 0);\n    __decorate([g(cc.Label)], e.prototype, \"jigsawNum1\", void 0);\n    __decorate([g([cc.Node])], e.prototype, \"jigTypes\", void 0);\n    __decorate([g(cc.Node)], e.prototype, \"bgNode\", void 0);\n    __decorate([g(cc.Node)], e.prototype, \"menuItem\", void 0);\n    return __decorate([f], e);\n})(cc.Component);\nexports.default = y;\n"]}