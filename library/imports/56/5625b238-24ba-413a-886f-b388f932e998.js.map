{"version":3,"sources":["assets\\scripts\\questItem.js"],"names":["n","Object","defineProperty","exports","value","_evts","require","_idx","_veBtn","_lang","_panelMgr","_taskMgr","_loading","_item","y","cc","_decorator","m","ccclass","v","property","_","t","e","apply","arguments","nameLbl","itemsNode","itemPrefab","pro","proLbl","getBtnNode","goBtnNode","adNode","goImgNode","scrollView","getedNode","questPool","NodePool","eventFunc","__extends","prototype","init","_taskData","string","lang","temp","key","font","DEFAULTFONT","progress","node","width","tween","to","data","count","nums","start","val","hasOwnProperty","o","get","instantiate","content","addChild","getComponent","children","childrenCount","x","Math","min","scrollToLeft","active","removeComponent","get_by","TaskType","ad_reward","i","addComponent","r","Component","EventHandler","target","component","handler","customEventData","onWatchEndEvent","state","taskState","Receive","Finish","Rewared","updateTask","unuse","forEach","put","removeAllChildren","reuse","onOperTap","action","UPDTASK","onEnable","on","jumpPage","onAward","bind","opE","onDisable","off","__awaiter","__generator","label","onClick","ins","closeAllPanel","emit","MAINJUMP","platform","share","sent","doTask","enumerable","configurable","parent","convertToWorldSpaceAR","position","itemId","worldPos","push","open","itemDatas","onWatchEnd","log","__decorate","Label","Node","Prefab","ProgressBar","ScrollView"],"mappings":"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","sourceRoot":"/","sourcesContent":["var n;\nObject.defineProperty(exports, \"__esModule\", {value: !0});\nvar _evts = require(\"evts\");\nvar _idx = require(\"idx\");\nvar _veBtn = require(\"veBtn\");\nvar _lang = require(\"lang\");\nvar _panelMgr = require(\"panelMgr\");\nvar _taskMgr = require(\"taskMgr\");\nvar _loading = require(\"loading\");\nvar _item = require(\"item\");\nvar y = cc._decorator;\nvar m = y.ccclass;\nvar v = y.property;\nvar _ = (function (t) {\n    function e() {\n        var e = (null !== t && t.apply(this, arguments)) || this;\n        e.nameLbl = null;\n        e.itemsNode = null;\n        e.itemPrefab = null;\n        e.pro = null;\n        e.proLbl = null;\n        e.getBtnNode = null;\n        e.goBtnNode = null;\n        e.adNode = null;\n        e.goImgNode = null;\n        e.scrollView = null;\n        e.getedNode = null;\n        e.questPool = new cc.NodePool(_item.default);\n        e.eventFunc = null;\n        return e;\n    }\n    __extends(e, t);\n    e.prototype.init = function (t) {\n        for (var e in ((this._taskData = t),\n        (this.nameLbl.string = _lang.lang[t.temp.key]),\n        (this.nameLbl.font = _loading.DEFAULTFONT),\n        (this.pro.progress = 0),\n        (this.scrollView.node.width = 360),\n        cc\n            .tween(this.pro)\n            .to(0.5, {progress: t.data.count / t.temp.nums})\n            .start(),\n        (this.proLbl.string = t.data.count + \"/\" + t.temp.nums),\n        t.temp.val))\n            if (t.temp.val.hasOwnProperty(e)) {\n                var o = this.questPool.get();\n                o || (o = cc.instantiate(this.itemPrefab));\n                this.scrollView.content.addChild(o);\n                o.getComponent(_item.default).init(t.temp, e);\n            }\n        var n = this.scrollView.content.children[0].width * this.scrollView.content.childrenCount;\n        if (\n            ((this.scrollView.node.x =\n                n > this.scrollView.node.width ? -283 : (this.scrollView.node.width - n) / 2 - 283),\n            (n = Math.min(n, 360)),\n            (this.scrollView.node.width = n),\n            this.scrollView.scrollToLeft(),\n            (this.adNode.active = !1),\n            (this.goImgNode.x = 0),\n            this.goBtnNode.getComponent(_veBtn.default) && this.goBtnNode.removeComponent(_veBtn.default),\n            t.temp.get_by == _taskMgr.TaskType.ad_reward)\n        ) {\n            var i = this.goBtnNode.addComponent(_veBtn.default);\n            var r = new cc.Component.EventHandler();\n            r.target = this.node;\n            r.component = \"questItem\";\n            r.handler = \"onWatchEnd\";\n            \"task_1\" == t.temp.key && (r.customEventData = \"每日任务-道具礼包\");\n            i.onWatchEndEvent = r;\n            this.adNode.active = !0;\n            this.goImgNode.x = 25;\n        }\n        this.goBtnNode.active = this._taskData.data.state === _taskMgr.taskState.Receive;\n        this.getBtnNode.active = this._taskData.data.state === _taskMgr.taskState.Finish;\n        this.getedNode.active = this._taskData.data.state === _taskMgr.taskState.Rewared;\n    };\n    e.prototype.updateTask = function (t) {\n        t &&\n            t.temp.key == this._taskData.temp.key &&\n            ((this._taskData = t),\n            cc\n                .tween(this.pro)\n                .to(0.5, {progress: t.data.count / t.temp.nums})\n                .start(),\n            (this.proLbl.string = t.data.count + \"/\" + t.temp.nums),\n            (this.goBtnNode.active = this._taskData.data.state === _taskMgr.taskState.Receive),\n            (this.getBtnNode.active = this._taskData.data.state === _taskMgr.taskState.Finish),\n            (this.getedNode.active = this._taskData.data.state === _taskMgr.taskState.Rewared));\n    };\n    e.prototype.unuse = function () {\n        var t = this;\n        this.scrollView.content.children.forEach(function (e) {\n            t.questPool.put(e);\n        });\n        this.scrollView.content.removeAllChildren();\n    };\n    e.prototype.reuse = function () {};\n    e.prototype.onOperTap = function (t) {\n        var e = null == t ? void 0 : t.action;\n        if (e)\n            switch (e) {\n                case _evts.default.UPDTASK:\n                    this.updateTask(t.data);\n            }\n    };\n    e.prototype.onEnable = function () {\n        this.goBtnNode.on(\"click\", this.jumpPage, this);\n        this.getBtnNode.on(\"click\", this.onAward, this);\n        this.eventFunc = this.onOperTap.bind(this);\n        _evts.default.opE.on(this.eventFunc);\n    };\n    e.prototype.onDisable = function () {\n        this.goBtnNode.off(\"click\", this.jumpPage, this);\n        this.getBtnNode.off(\"click\", this.onAward, this);\n        _evts.default.opE.off(this.eventFunc);\n        this.eventFunc = null;\n    };\n    e.prototype.jumpPage = function (t) {\n        var e;\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (o) {\n                switch (o.label) {\n                    case 0:\n                        if (this._taskData.data.state != _taskMgr.taskState.Receive) return [2];\n                        switch (this._taskData.temp.get_by) {\n                            case \"ad_reward\":\n                                return [3, 1];\n                            case \"cg_line\":\n                                return [3, 2];\n                            case \"qw_line\":\n                                return [3, 3];\n                            case \"daily_challenge\":\n                                return [3, 4];\n                            case \"share\":\n                                return [3, 5];\n                        }\n                        return [3, 7];\n                    case 1:\n                        return (\n                            null === (e = this.goBtnNode.getComponent(_veBtn.default)) || void 0 === e || e.onClick(t),\n                            [3, 8]\n                        );\n                    case 2:\n                        return (\n                            _panelMgr.default.ins.closeAllPanel(),\n                            _evts.default.opE.emit({action: _evts.default.MAINJUMP, data: 2}),\n                            [3, 8]\n                        );\n                    case 3:\n                        return (\n                            _panelMgr.default.ins.closeAllPanel(),\n                            _evts.default.opE.emit({action: _evts.default.MAINJUMP, data: 4}),\n                            [3, 8]\n                        );\n                    case 4:\n                        return (\n                            _panelMgr.default.ins.closeAllPanel(),\n                            _evts.default.opE.emit({action: _evts.default.MAINJUMP, data: 3}),\n                            [3, 8]\n                        );\n                    case 5:\n                        return [4, _idx.platform.share()];\n                    case 6:\n                        return o.sent() && _taskMgr.default.doTask(this._taskData.temp.key), [3, 8];\n                    case 7:\n                        return [3, 8];\n                    case 8:\n                        return [2];\n                }\n            });\n        });\n    };\n    Object.defineProperty(e.prototype, \"taskData\", {\n        get: function () {\n            return this._taskData;\n        },\n        enumerable: !1,\n        configurable: !0\n    });\n    e.prototype.onAward = function () {\n        _taskMgr.default.updateTask(this._taskData);\n        for (var t = [], e = this.scrollView.content.childrenCount - 1; e >= 0; e--) {\n            var o = this.scrollView.content.children[e];\n            var n = o.parent.convertToWorldSpaceAR(o.position);\n            var i = {};\n            i.itemId = o.getComponent(_item.default).key;\n            i.worldPos = n;\n            i.value = o.getComponent(_item.default).count;\n            t.push(i);\n        }\n        _panelMgr.default.ins.open(\"ui/ui_flyAni\", {itemDatas: t});\n    };\n    e.prototype.onWatchEnd = function () {\n        cc.log(\"广告的回调\");\n        _taskMgr.default.doTask(this._taskData.temp.key);\n    };\n    __decorate([v(cc.Label)], e.prototype, \"nameLbl\", void 0);\n    __decorate([v(cc.Node)], e.prototype, \"itemsNode\", void 0);\n    __decorate([v(cc.Prefab)], e.prototype, \"itemPrefab\", void 0);\n    __decorate([v(cc.ProgressBar)], e.prototype, \"pro\", void 0);\n    __decorate([v(cc.Label)], e.prototype, \"proLbl\", void 0);\n    __decorate([v(cc.Node)], e.prototype, \"getBtnNode\", void 0);\n    __decorate([v(cc.Node)], e.prototype, \"goBtnNode\", void 0);\n    __decorate([v(cc.Node)], e.prototype, \"adNode\", void 0);\n    __decorate([v(cc.Node)], e.prototype, \"goImgNode\", void 0);\n    __decorate([v(cc.ScrollView)], e.prototype, \"scrollView\", void 0);\n    __decorate([v(cc.Node)], e.prototype, \"getedNode\", void 0);\n    return __decorate([m], e);\n})(cc.Component);\nexports.default = _;\n"]}