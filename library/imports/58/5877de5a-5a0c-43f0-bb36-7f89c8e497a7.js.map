{"version":3,"sources":["assets\\scripts\\ui_record.js"],"names":["n","Object","defineProperty","exports","value","_baseUI","require","_pInfo","_chaptBtn","l","cc","_decorator","u","ccclass","p","property","d","t","e","apply","arguments","view","viewItem","btnsNode","nameStrs","main","gTimes","wTimes","heWins","winRate","daily","race","tPoints","hePoints","allData","btnsComp","rowSpace","top_offest","curPageIdx","__extends","prototype","start","ins","getRecordData","o","i","r","getComponent","setState","push","on","chgViewData","children","a","length","assign","toFixed","initListView","content","childrenCount","active","s","c","timeFormat","getChildByName","Label","string","instantiate","parent","y","hideThis","hide","PrefixInteger","Math","floor","pow","substring","__decorate","ScrollView","Node"],"mappings":"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","sourceRoot":"/","sourcesContent":["var n;\nObject.defineProperty(exports, \"__esModule\", {value: !0});\nvar _baseUI = require(\"baseUI\");\nvar _pInfo = require(\"pInfo\");\nvar _chaptBtn = require(\"chaptBtn\");\nvar l = cc._decorator;\nvar u = l.ccclass;\nvar p = l.property;\nvar d = (function (t) {\n    function e() {\n        var e = (null !== t && t.apply(this, arguments)) || this;\n        e.view = null;\n        e.viewItem = null;\n        e.btnsNode = null;\n        e.nameStrs = {\n            main: {gTimes: \"游戏次数\", wTimes: \"胜利次数\", heWins: \"最高连胜\", winRate: \"胜率\"},\n            daily: {gTimes: \"游戏次数\", wTimes: \"胜利次数\", winRate: \"胜率\"},\n            race: {gTimes: \"游戏次数\", tPoints: \"总积分\", hePoints: \"最高积分\"}\n        };\n        e.allData = {};\n        e.btnsComp = [];\n        e.rowSpace = 108;\n        e.top_offest = 50;\n        e.curPageIdx = 1;\n        return e;\n    }\n    __extends(e, t);\n    e.prototype.start = function () {\n        for (\n            var t = this,\n                e = _pInfo.default.ins.getRecordData(),\n                o = function (e, o, i) {\n                    var r = o[e].getComponent(_chaptBtn.default);\n                    r.setState(!1);\n                    i.push(r);\n                    o[e].on(\n                        \"click\",\n                        function () {\n                            t.chgViewData(e);\n                        },\n                        n\n                    );\n                },\n                n = this,\n                i = 0,\n                r = this.btnsNode.children,\n                a = this.btnsComp,\n                l = r.length;\n            i < l;\n            i++\n        )\n            o(i, r, a);\n        this.allData = Object.assign({}, e);\n        this.chgViewData(0);\n    };\n    e.prototype.chgViewData = function (t) {\n        var e = this.curPageIdx;\n        if (e != t) {\n            var o;\n            var n = {};\n            var i = {};\n            switch (t) {\n                case 0:\n                    (n = this.allData.main),\n                        (i = this.nameStrs.main),\n                        (o = (n.wTimes / n.gTimes) * 100 || 0),\n                        (n.winRate = o.toFixed(0) + \"%\");\n                    break;\n                case 1:\n                    (n = this.allData.daily),\n                        (i = this.nameStrs.daily),\n                        (o = (n.wTimes / n.gTimes) * 100 || 0),\n                        (n.winRate = o.toFixed(0) + \"%\");\n                    break;\n                case 2:\n                    (n = this.allData.race), (i = this.nameStrs.race);\n            }\n            this.initListView(n, i);\n            var r = this.btnsComp;\n            r[e].setState(!1);\n            r[t].setState(!0);\n            this.curPageIdx = t;\n        }\n    };\n    e.prototype.initListView = function (t, e) {\n        for (var o = 0, n = this.view.content.childrenCount; o < n; o++) this.view.content.children[o].active = !1;\n        var i = 0;\n        for (var r in e) {\n            var a;\n            var s = e[r];\n            var c = t[r] || 0;\n            \"feTime\" == r && (c = this.timeFormat(c));\n            this.view.content.childrenCount > i\n                ? (((a = this.view.content.children[i]).active = !0),\n                  (a.getChildByName(\"name\").getComponent(cc.Label).string = s),\n                  (a.getChildByName(\"num\").getComponent(cc.Label).string = c))\n                : (((a = cc.instantiate(this.viewItem)).parent = this.view.content),\n                  (a.y = -i * this.rowSpace - this.top_offest),\n                  (a.active = !0),\n                  (a.getChildByName(\"name\").getComponent(cc.Label).string = s),\n                  (a.getChildByName(\"num\").getComponent(cc.Label).string = c));\n            i++;\n        }\n    };\n    e.prototype.hideThis = function () {\n        this.hide();\n    };\n    e.prototype.timeFormat = function (t, e) {\n        void 0 === e && (e = !0);\n        var o = this.PrefixInteger;\n        if (t < 86400) {\n            var n = o(Math.floor(t / 3600), 2);\n            var i = o(Math.floor((t % 3600) / 60), 2);\n            var r = o(t % 60, 2);\n            return e && \"00\" == n ? i + \":\" + r : n + \":\" + i + \":\" + r;\n        }\n        return (\n            Math.floor(t / 86400) +\n            \"d \" +\n            o(Math.floor((t % 86400) / 3600), 2) +\n            \":\" +\n            o(Math.floor((t % 3600) / 60), 2) +\n            \":\" +\n            o(t % 60, 2)\n        );\n    };\n    e.prototype.PrefixInteger = function (t, e) {\n        return (t / Math.pow(10, e)).toFixed(e).substring(2);\n    };\n    __decorate([p(cc.ScrollView)], e.prototype, \"view\", void 0);\n    __decorate([p(cc.Node)], e.prototype, \"viewItem\", void 0);\n    __decorate([p(cc.Node)], e.prototype, \"btnsNode\", void 0);\n    return __decorate([u], e);\n})(_baseUI.default);\nexports.default = d;\n"]}