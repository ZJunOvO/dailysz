{"version":3,"sources":["assets\\scripts\\guide.js"],"names":["n","Object","defineProperty","exports","value","_idx","require","_res","_sound","_vb","_grid","_global","_pInfo","_game","f","cc","_decorator","g","ccclass","y","property","m","color","v","_","b","t","e","apply","arguments","top","fadeNode","fadeAni","dialogAni","mapAni","hintsLbl","grids","contentLbl","glows","arrows","arrowTops","finger","soundIdx","emptyArr","steps","data","hint","x","width","content","curStep","maxStep","length","__extends","prototype","onLoad","padScale","view","setDesignResolutionSize","ResolutionPolicy","FIXED_HEIGHT","node","scale","ins","playBGM","updateView","on","Animation","EventType","FINISHED","stepDone","reCanTouch","Node","TOUCH_START","o","TOUCH_MOVE","TOUCH_END","i","TOUCH_CANCEL","forEach","r","touchStart","touchMove","touchEnd","lSF","getBundleByString","then","load","Prefab","isValid","instantiate","parent","addChild","setPosition","setSiblingIndex","topGirlSk","getComponent","sp","Skeleton","animation","grilAni","idle","setEndListener","playGirlEnd","bind","Error","message","console","error","preLoad","playGirlAni","curGirlAni","loop","getLocation","chg","getBoundingBoxToWorld","contains","isRight","isEmpty","p","VEnum3","SHORT","play","select","a","s","d","active","equals","h","curRightCount","allRightCount","playHL","happy","setGuideDone","platform","reportEvent","ERepEvt","guide","step","string","c","clear","l","push","init","emptyNode","stateNodes","w","S","T","I","D","P","k","R","position","N","moveTo","quadraticCurveTo","stroke","canTouch","name","onQuit","byGuide","chgScene","sceneType","game","gameType","practice","director","preloadScene","__decorate","Sprite","Label","Graphics","Component"],"mappings":"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","sourceRoot":"/","sourcesContent":["var n;\nObject.defineProperty(exports, \"__esModule\", {value: !0});\nvar _idx = require(\"idx\");\nvar _res = require(\"res\");\nvar _sound = require(\"sound\");\nvar _vb = require(\"vb\");\nvar _grid = require(\"grid\");\nvar _global = require(\"global\");\nvar _pInfo = require(\"pInfo\");\nvar _game = require(\"game\");\nvar f = cc._decorator;\nvar g = f.ccclass;\nvar y = f.property;\nvar m = cc.color(252, 254, 94);\nvar v = cc.color(169, 109, 52, 255);\nvar _ = {\n    2e4: \"数字会告诉你一行中有多少方块需要涂上颜色。试试吧！\",\n    20001: \"太棒了！如果有多个数字，那么每段涂色的方块中间至少会有一个空格。\",\n    20002: \"顺序也很重要。涂色的方块的个数的顺序，需要同数字的顺序一致。\",\n    20003: \"恭喜！您已完成教程！让我们去练习一下吧！\"\n};\nvar b = (function (t) {\n    function e() {\n        var e = (null !== t && t.apply(this, arguments)) || this;\n        e.top = null;\n        e.fadeNode = null;\n        e.fadeAni = null;\n        e.dialogAni = null;\n        e.mapAni = null;\n        e.hintsLbl = [];\n        e.grids = [];\n        e.contentLbl = null;\n        e.glows = [];\n        e.arrows = [];\n        e.arrowTops = [];\n        e.finger = null;\n        e.soundIdx = 1;\n        e.emptyArr = [];\n        e.steps = [\n            {data: [1, 1, 1, 1, 1], hint: [5], x: [231], width: [472], content: _[2e4]},\n            {data: [1, 1, 0, 1, 1], hint: [2, 2], x: [99, 363], width: [208, 208], content: _[20001]},\n            {data: [1, 0, 1, 1, 1], hint: [1, 3], x: [55, 319], width: [120, 296], content: _[20002]},\n            {content: _[20003]}\n        ];\n        e.curStep = 0;\n        e.maxStep = e.steps.length - 1;\n        return e;\n    }\n    __extends(e, t);\n    e.prototype.onLoad = function () {\n        var t = this;\n        _global.default.padScale &&\n            (cc.view.setDesignResolutionSize(720, 1280, cc.ResolutionPolicy.FIXED_HEIGHT),\n            (this.top.node.scale = _global.default.padScale));\n        _sound.default.ins.playBGM();\n        this.updateView(1);\n        this.fadeAni.on(cc.Animation.EventType.FINISHED, this.stepDone, this);\n        this.mapAni.on(cc.Animation.EventType.FINISHED, this.reCanTouch, this);\n        var e = cc.Node.EventType.TOUCH_START;\n        var o = cc.Node.EventType.TOUCH_MOVE;\n        var n = cc.Node.EventType.TOUCH_END;\n        var i = cc.Node.EventType.TOUCH_CANCEL;\n        this.grids.forEach(function (r) {\n            r.on(e, t.touchStart, t), r.on(o, t.touchMove, t), r.on(n, t.touchEnd, t), r.on(i, t.touchEnd, t);\n        });\n        _res.default.ins.lSF(\"game/normal/top1\", this.top);\n        _res.default.ins\n            .getBundleByString(\"prefab\")\n            .then(function (e) {\n                e.load(\"skin/girl1\", cc.Prefab, function (e, o) {\n                    if (t.node && !e && t.node.isValid) {\n                        var n = cc.instantiate(o);\n                        t.dialogAni.node.parent.addChild(n), n.setPosition(250, -251), n.setSiblingIndex(0);\n                        var i = (t.topGirlSk = n.getComponent(sp.Skeleton));\n                        (i.animation = _game.grilAni.idle), i.setEndListener(t.playGirlEnd.bind(t));\n                    }\n                    if (e) throw new Error(e.message);\n                });\n            })\n            .catch(function (t) {\n                console.error(\"guide scene girl load fail\", t);\n            });\n        this.preLoad();\n    };\n    e.prototype.playGirlAni = function (t) {\n        t != this.curGirlAni &&\n            this.topGirlSk &&\n            ((this.curGirlAni = t),\n            (this.topGirlSk.animation = t),\n            (this.topGirlSk.loop = t == _game.grilAni.idle) && (this.curGirlAni = null));\n    };\n    e.prototype.playGirlEnd = function () {\n        this.curGirlAni != _game.grilAni.idle &&\n            ((this.curGirlAni = null), this.playGirlAni && this.playGirlAni(_game.grilAni.idle));\n    };\n    e.prototype.touchStart = function (t) {\n        var e = t.getLocation();\n        this.chg(e);\n    };\n    e.prototype.touchMove = function (t) {\n        var e = t.getLocation();\n        this.chg(e);\n    };\n    e.prototype.touchEnd = function () {\n        this.soundIdx = 1;\n    };\n    e.prototype.chg = function (t) {\n        var e = this;\n        var o = this.grids;\n        o.forEach(function (n) {\n            if (n.getBoundingBoxToWorld().contains(t)) {\n                var i = n.getComponent(_grid.default);\n                if (i.isRight && i.isEmpty) {\n                    _vb.default.p(_vb.VEnum3.SHORT);\n                    _sound.default.ins.play(\"tile_note_\" + e.soundIdx);\n                    e.soundIdx++;\n                    i.select(1);\n                    for (var r = e.hintsLbl, a = e.steps[e.curStep].hint, s = 0, p = r.length; s < p; s++) {\n                        var d = r[s].node;\n                        if (d.active && d.color.equals(m)) {\n                            for (var h = a[s], f = 1 == s ? a[s - 1] + 1 : 0, g = 0, y = f; y < h + f; y++) {\n                                var _ = o[y].getComponent(_grid.default);\n                                !_.isEmpty && _.isRight && g++;\n                            }\n                            g == h && (d.color = v);\n                        }\n                    }\n                    if ((e.curRightCount++, e.curRightCount == e.allRightCount)) {\n                        e.emptyArr.forEach(function (t) {\n                            o[t].getComponent(_grid.default).select(0, !0);\n                        });\n                        for (var b = 0; b < 5; b++) o[b].getComponent(_grid.default).playHL(0.04 * b);\n                        e.fadeNode.active = !0;\n                        e.fadeAni.play();\n                    }\n                }\n            }\n        });\n    };\n    e.prototype.stepDone = function () {\n        this.fadeNode.active = !1;\n        this.finger.active = !1;\n        this.curStep++;\n        this.curStep == this.maxStep &&\n            (this.playGirlAni(_game.grilAni.happy),\n            _pInfo.default.ins.setGuideDone(),\n            this.getComponent(cc.Animation).play());\n        this.mapAni.play(\"mapHide\");\n        _idx.platform.reportEvent(_idx.ERepEvt.guide, {step: this.curStep});\n    };\n    e.prototype.updateView = function (t) {\n        this.curStep = this.curStep > this.maxStep ? this.maxStep : this.curStep;\n        var e = this.curStep;\n        var o = this.steps[e];\n        var n = o.data;\n        var i = o.hint;\n        var r = o.content;\n        var a = o.x;\n        var s = o.width;\n        this.contentLbl.string = \"        \" + r;\n        var c = this.arrows;\n        if (\n            (c.forEach(function (t) {\n                return t.clear();\n            }),\n            e < this.maxStep)\n        ) {\n            var l = this.grids;\n            var p = this.emptyArr;\n            p.length = 0;\n            for (var d = 0, h = void 0, f = 0; f < 5; f++) {\n                var g = l[f];\n                var y = n[f];\n                d += y;\n                y || (p.push(f), (h = g));\n                g.setSiblingIndex(f + 2);\n                var v = g.getComponent(_grid.default);\n                v.init(y);\n                v.isEmpty = !0;\n                v.emptyNode.active = !0;\n                v.stateNodes.forEach(function (t) {\n                    t.active = !1;\n                });\n            }\n            h && h.setSiblingIndex(0);\n            this.curRightCount = 0;\n            this.allRightCount = d;\n            for (\n                var _ = this.glows, b = this.arrowTops, w = this.hintsLbl, S = void (f = 0), T = i.length;\n                f < 2;\n                f++\n            ) {\n                S = 2 == e || 1 == e ? 1 - f : f;\n                var I = _[f];\n                var D = c[S];\n                var P = b[S];\n                var k = w[f];\n                if ((I.active = D.node.active = P.active = k.node.active = f < T)) {\n                    k.string = i[f] + \"\";\n                    k.node.setSiblingIndex(0);\n                    k.node.color = m;\n                    I.x = P.x = a[f];\n                    I.width = s[f];\n                    var R = D.node.position;\n                    var N = I.position;\n                    D.moveTo(0, 0);\n                    D.quadraticCurveTo((R.x + N.x) / 2, 150, N.x, 44);\n                    D.stroke();\n                }\n            }\n            this.mapAni.play(\"mapShow\");\n        }\n        t || this.dialogAni.play();\n        this.canTouch = !1;\n    };\n    e.prototype.reCanTouch = function (t, e) {\n        \"mapShow\" == e.name ? (this.canTouch = !0) : this.updateView();\n    };\n    e.prototype.onQuit = function () {\n        _global.default.byGuide = 1;\n        _pInfo.chgScene(_pInfo.sceneType.game, {gameType: _pInfo.gameType.practice});\n    };\n    e.prototype.preLoad = function () {\n        cc.director.preloadScene(_pInfo.sceneType.game);\n    };\n    __decorate([y(cc.Sprite)], e.prototype, \"top\", void 0);\n    __decorate([y(cc.Node)], e.prototype, \"fadeNode\", void 0);\n    __decorate([y(cc.Animation)], e.prototype, \"fadeAni\", void 0);\n    __decorate([y(cc.Animation)], e.prototype, \"dialogAni\", void 0);\n    __decorate([y(cc.Animation)], e.prototype, \"mapAni\", void 0);\n    __decorate([y([cc.Label])], e.prototype, \"hintsLbl\", void 0);\n    __decorate([y([cc.Node])], e.prototype, \"grids\", void 0);\n    __decorate([y(cc.Label)], e.prototype, \"contentLbl\", void 0);\n    __decorate([y([cc.Node])], e.prototype, \"glows\", void 0);\n    __decorate([y([cc.Graphics])], e.prototype, \"arrows\", void 0);\n    __decorate([y([cc.Node])], e.prototype, \"arrowTops\", void 0);\n    __decorate([y(cc.Node)], e.prototype, \"finger\", void 0);\n    return __decorate([g], e);\n})(cc.Component);\nexports.default = b;\n"]}