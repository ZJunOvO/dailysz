{"version":3,"sources":["assets\\scripts\\ui_selectMode.js"],"names":["n","Object","defineProperty","exports","value","_pInfo","require","_baseUI","_cfgMgr","_panelMgr","_main","_festivalMgr","d","cc","_decorator","h","ccclass","f","property","g","t","e","apply","arguments","costNums","btnsNode","costs","__extends","prototype","start","initData","serverCfg","difficulty_rules","rules","o","i","Number","times_val","push","string","onBtnStart","ins","getPower","open","itemId","convertToWorldSpaceAR","Vec3","ZERO","r","blockComp","enabled","updPro","fesTaskKey","costPower","usePower","hideThis","hide","__decorate","Label","Node"],"mappings":"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","sourceRoot":"/","sourcesContent":["var n;\nObject.defineProperty(exports, \"__esModule\", {value: !0});\nvar _pInfo = require(\"pInfo\");\nvar _baseUI = require(\"baseUI\");\nvar _cfgMgr = require(\"cfgMgr\");\nvar _panelMgr = require(\"panelMgr\");\nvar _main = require(\"main\");\nvar _festivalMgr = require(\"festivalMgr\");\nvar d = cc._decorator;\nvar h = d.ccclass;\nvar f = d.property;\nvar g = (function (t) {\n    function e() {\n        var e = (null !== t && t.apply(this, arguments)) || this;\n        e.costNums = [];\n        e.btnsNode = [];\n        e.costs = [];\n        return e;\n    }\n    __extends(e, t);\n    e.prototype.start = function () {\n        this.initData();\n    };\n    e.prototype.initData = function () {\n        var t = _cfgMgr.default.serverCfg.difficulty_rules.rules;\n        var e = [];\n        var o = 10;\n        for (var n in t) {\n            var i = t[n];\n            o = Number(i.times_val);\n            e.push(o);\n        }\n        this.costNums[0].string = e[0];\n        this.costNums[1].string = e[2];\n        this.costNums[2].string = e[3];\n        this.costs = [e[0], e[2], e[3]];\n    };\n    e.prototype.onBtnStart = function (t, e) {\n        var o = 5 * Number(e);\n        var n = this.costs[Number(e) - 1];\n        if (_pInfo.default.ins.getPower() < n) _panelMgr.default.ins.open(\"ui/ui_getRes\", {itemId: \"times\"});\n        else {\n            var i = this.btnsNode[Number(e) - 1].convertToWorldSpaceAR(cc.Vec3.ZERO);\n            var r = _main.default.ins;\n            r && (r.blockComp.enabled = !0);\n            _festivalMgr.default.ins.updPro(_festivalMgr.fesTaskKey.costPower, n);\n            r.usePower(-n, i, o);\n        }\n    };\n    e.prototype.hideThis = function () {\n        this.hide();\n    };\n    __decorate([f([cc.Label])], e.prototype, \"costNums\", void 0);\n    __decorate([f([cc.Node])], e.prototype, \"btnsNode\", void 0);\n    return __decorate([h], e);\n})(_baseUI.default);\nexports.default = g;\n"]}