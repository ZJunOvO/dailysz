{"version":3,"sources":["assets\\scripts\\head.js"],"names":["n","Object","defineProperty","exports","value","_evts","require","_res","_global","_skinMgr","_pInfo","p","cc","_decorator","d","ccclass","h","property","f","t","e","apply","arguments","bg","headIcon","__extends","prototype","onLoad","eventFunc","onOperTap","bind","opE","on","onDestroy","off","action","SKIN_CHG","data","skinId","SkinIdEnum","headFrame","isUse","updateHeadFrame","ins","getUsingSkin","loadHeadImg","o","assetManager","loadRemote","ext","headImgExt","node","isValid","setDefaultHead","spriteFrame","SpriteFrame","getBundleByString","then","load","console","error","__decorate","Sprite","Component"],"mappings":"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","sourceRoot":"/","sourcesContent":["//电子邮件puhalskijsemen@gmail.com\n//源码网站 开vpn全局模式打开 http://web3incubators.com/\n//电报https://t.me/gamecode999\n//网页客服 http://web3incubators.com/kefu.html\nvar n;\nObject.defineProperty(exports, \"__esModule\", {value: !0});\nvar _evts = require(\"evts\");\nvar _res = require(\"res\");\nvar _global = require(\"global\");\nvar _skinMgr = require(\"skinMgr\");\nvar _pInfo = require(\"pInfo\");\nvar p = cc._decorator;\nvar d = p.ccclass;\nvar h = p.property;\nvar f = (function (t) {\n    function e() {\n        var e = (null !== t && t.apply(this, arguments)) || this;\n        e.bg = null;\n        e.headIcon = null;\n        return e;\n    }\n    __extends(e, t);\n    e.prototype.onLoad = function () {\n        this.eventFunc = this.onOperTap.bind(this);\n        _evts.default.opE.on(this.eventFunc);\n    };\n    e.prototype.onDestroy = function () {\n        _evts.default.opE.off(this.eventFunc);\n        this.eventFunc = null;\n    };\n    e.prototype.onOperTap = function (t) {\n        var e;\n        (null == t ? void 0 : t.action) === _evts.default.SKIN_CHG &&\n            (null === (e = t.data) || void 0 === e ? void 0 : e.skinId) === _skinMgr.SkinIdEnum.headFrame &&\n            t.data.isUse &&\n            this.updateHeadFrame();\n    };\n    e.prototype.updateHeadFrame = function (t) {\n        var e = t || _pInfo.default.ins.getUsingSkin()[_skinMgr.SkinIdEnum.headFrame];\n        _skinMgr.default.ins.updateHeadFrame(e, this.bg);\n    };\n    e.prototype.loadHeadImg = function (t, e) {\n        var o = this;\n        t\n            ? cc.assetManager.loadRemote(t, {ext: _global.headImgExt}, function (t, e) {\n                  o.node &&\n                      o.node.isValid &&\n                      (t ? o.setDefaultHead() : (o.headIcon.spriteFrame = new cc.SpriteFrame(e)));\n              })\n            : this.setDefaultHead();\n        this.updateHeadFrame(e);\n    };\n    e.prototype.setDefaultHead = function () {\n        var t = this;\n        var e = this;\n        _res.default.ins\n            .getBundleByString(\"resSps\")\n            .then(function (o) {\n                o.load(\"common/head_1\", cc.SpriteFrame, function (o, n) {\n                    !o && t.node && t.node.isValid && (e.headIcon.spriteFrame = n);\n                });\n            })\n            .catch(function (t) {\n                console.error(\"RTool.ins.getBundleByString('resSps')\", t);\n            });\n    };\n    __decorate([h(cc.Sprite)], e.prototype, \"bg\", void 0);\n    __decorate([h(cc.Sprite)], e.prototype, \"headIcon\", void 0);\n    return __decorate([d], e);\n})(cc.Component);\nexports.default = f;\n"]}