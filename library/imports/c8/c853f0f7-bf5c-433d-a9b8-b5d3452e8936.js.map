{"version":3,"sources":["assets\\scripts\\0\\request.js"],"names":["Object","defineProperty","exports","value","_cfgMgr","require","_idx","_uData","_pConst","_time","_evts","_flyio","_errorCode","h","window","fly","f","t","_urlCache","APPID","platform","appId","get","_ins","enumerable","configurable","prototype","getUserToken","__awaiter","__generator","label","_userToken","desynclogin","sent","set","_post","e","o","n","i","r","s","Authorization","Date","now","toString","Promise","l","u","headers","timeout","PFCode","Alipay","string","isNative","responseType","post","then","data","JSON","parse","console","warn","stringify","errorCode","HTTP_ERR","c","login","code","anonymous_code","ins","state","Error","sync","server_time","userToken","token","openId","openid","getJson","appid","system_info","getSystemData","unionid","grant_type","launch_options","getLaunchOption","getTime","updateUserInfo","setHeadImg","avatar","avatarUrl","setName","nickName","nickname","user_info","opE","emit","action","UPD_TOP_HEADINFO","error","addHomepageConsult","alipay_user_id","uploadRank","client_data","type","getRank","a","resolve","res","cc","resources","load","err","json","adDot","serverCfg","upload_ad_result","val","path","ad_nums","status","userFeedBack","content","updateServerData","user_data","save_tag","title","extra_data","getServerData","getMailData","exp_ids","updateChallengeData","level","getChallengeData","getUserDataByUid","game_uid","sendSevenCard","aid","open_id","reward_index","paymentResult","getPayGamecoins","log","getUnshippedOrders"],"mappings":"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","sourceRoot":"/","sourcesContent":["Object.defineProperty(exports, \"__esModule\", { value: !0 });\nvar _cfgMgr = require(\"cfgMgr\");\nvar _idx = require(\"idx\");\nvar _uData = require(\"uData\");\nvar _pConst = require(\"pConst\");\nvar _time = require(\"time\");\nvar _evts = require(\"evts\");\nvar _flyio = require(\"flyio\");\nvar _errorCode = require(\"errorCode\");\nvar h = window.fly || _flyio.default;\nvar f = (function() {\n    function t() {\n        this._urlCache = {};\n        this.APPID = _idx.platform.appId;\n    }\n    Object.defineProperty(t, \"ins\", {\n        get: function() {\n            this._ins || (this._ins = new t());\n            return this._ins;\n        },\n        enumerable: !1,\n        configurable: !0\n    });\n    t.prototype.getUserToken = function() {\n        return __awaiter(this, void 0, void 0, function() {\n            return __generator(this, function(t) {\n                switch (t.label) {\n                    case 0:\n                        return this._userToken ? [3, 2] : [4, this.desynclogin()];\n                    case 1:\n                        t.sent(), (t.label = 2);\n                    case 2:\n                        return [2, this._userToken];\n                }\n            });\n        });\n    };\n    Object.defineProperty(t.prototype, \"userToken\", {\n        set: function(t) {\n            this._userToken = t;\n        },\n        enumerable: !1,\n        configurable: !0\n    });\n    t.prototype._post = function(t, e, o, n, i, r) {\n        return;\n        void 0 === n && (n = !1);\n        void 0 === i && (i = 5e3);\n        void 0 === r && (r = \"https://adapi.tjkj300.com\");\n        var s = { Authorization: e };\n        n && ((s[\"X-Fc-Invocation-Type\"] = \"Async\"), (s[\"X-Fc-Stateful-Async-Invocation-Id\"] = Date.now().toString()));\n        return new Promise(function(e, l) {\n            var u = { headers: s, timeout: i };\n            (_pConst.PFCode.Alipay === _idx.platform.string() || _idx.platform.isNative) && (u.responseType = \"json\");\n            h.post(r + t, o, u)\n                .then(function(t) {\n                    var o = \"string\" != typeof t.data || n ? t.data : JSON.parse(t.data);\n                    e(o);\n                })\n                .catch(function(t) {\n                    console.warn(\"[reason]\", JSON.stringify(t));\n                    l(_errorCode.errorCode.HTTP_ERR);\n                });\n        });\n    };\n    t.prototype.desynclogin = function() {\n        return __awaiter(this, void 0, void 0, function() {\n            var e;\n            var o;\n            var n;\n            var r;\n            var s;\n            var c;\n            return __generator(this, function(i) {\n                switch (i.label) {\n                    case 0:\n                        return [4, _idx.platform.login()];\n                    case 1:\n                        return (e = i.sent()), (o = e.code), (n = e.anonymous_code), o ? [4, t.ins.login(o, n)] : [2];\n                    case 2:\n                        if (0 == (r = i.sent()).state) throw new Error(\"登录状态吗错误：\" + r.state);\n                        return (\n                            (s = t.ins),\n                            (c = r.data),\n                            _time.default.ins.sync(r.server_time),\n                            (s.userToken = c.token),\n                            (s.openId = c.openid), [2]\n                        );\n                }\n            });\n        });\n    };\n    t.prototype.getJson = function() {\n        var t = {};\n        t.appid = this.APPID;\n        return this._post(\"/v1/GameConfigApi/get_game_init_config\", \"N644UF9VMU9OFTTYHOV3DEGY7L2DMMVP\", t, !1);\n    };\n    t.prototype.login = function(t, e, o, n) {\n        var i = {};\n        i.appid = this.APPID;\n        i.system_info = _idx.platform.getSystemData();\n        i.code = t;\n        i.openid = o;\n        i.unionid = n;\n        _pConst.PFCode.Alipay === _idx.platform.string() && (i.grant_type = \"authorization_code\");\n        i.anonymous_code = e;\n        i.launch_options = _uData.default.ins.getLaunchOption();\n        return this._post(\"/v1/GameConfigApi/game_user_login\", \"N644UF9VMU9OFTTYHOV3DEGY7L2DMMVP\", i, void 0, 2e3);\n    };\n    t.prototype.getTime = function() {\n        return this._post(\"/v1/GameConfigApi/game_user_login\", \"123456\", {}, void 0, 2e3);\n    };\n    t.prototype.updateUserInfo = function(t) {\n        var e = this;\n        this.getUserToken()\n            .then(function(o) {\n                if (o && t) {\n                    var n = _uData.default.ins;\n                    n.setHeadImg(t.avatar || t.avatarUrl);\n                    n.setName(t.nickName || t.nickname);\n                    e._post(\"/v1/GameApi/update_game_user\", o, { user_info: t });\n                    _evts.default.opE.emit({ action: _evts.default.UPD_TOP_HEADINFO });\n                }\n            })\n            .catch(function(t) {\n                console.error(\"updateUserInfoErr\", t);\n            });\n    };\n    t.prototype.addHomepageConsult = function() {\n        return __awaiter(this, void 0, void 0, function() {\n            var t;\n            var e;\n            var o;\n            return __generator(this, function(n) {\n                switch (n.label) {\n                    case 0:\n                        return (\n                            (t = \"/v1/GameApi/get_addHome\"),\n                            ((e = {}).alipay_user_id = this.openId), [4, this.getUserToken()]\n                        );\n                    case 1:\n                        return (o = n.sent()), [2, this._post(t, o, e, !1)];\n                }\n            });\n        });\n    };\n    t.prototype.uploadRank = function(t, e) {\n        var o = this;\n        this.getUserToken()\n            .then(function(n) {\n                if (n) {\n                    var i = {};\n                    i.client_data = [t];\n                    i.type = e;\n                    o._post(\"/v1/GameApi/upload_gamer_score\", n, i, !0);\n                }\n            })\n            .catch(function(t) {\n                console.error(\"uploadRankErr\", t);\n            });\n    };\n    t.prototype.getRank = function(t, e, o, n, i, r) {\n        var a = this;\n        return Promise.resolve(res => {\n                cc.resources.load('rank', (err, json) => {\n                    res(json.json);\n                })\n\n            })\n            // return this.getUserToken()\n            //     .then(function(s) {\n            //         if (!s) return Promise.reject(\"no auth\");\n            //         var c = {};\n            //         c.rank_tag = t;\n            //         c.sort_type = o;\n            //         c.sec_sort_type = r;\n            //         c.type = e;\n            //         c.limit = i || 100;\n            //         c.date = n;\n            //         return a._post(\"/v1/GameApi/get_rank_list\", s, c);\n            //     })\n            //     .catch(function(t) {\n            //         console.error(\"getRankErr\", t);\n            //     });\n    };\n    t.prototype.adDot = function(t, e, o, n) {\n        var i = this;\n        void 0 === o && (o = 1);\n        void 0 === n && (n = 1);\n        this.getUserToken()\n            .then(function(a) {\n                if (a) {\n                    var s = _cfgMgr.default.serverCfg.upload_ad_result;\n                    if (s && 1 == s.val) {\n                        var c = {};\n                        c.type = o;\n                        c.path = t;\n                        c.ad_nums = n;\n                        c.status = e;\n                        i._post(\"/v1/GameApi/upload_gamer_ad_recode\", a, c, !0);\n                    }\n                }\n            })\n            .catch(function(t) {\n                console.error(\"adDotErr\", t);\n            });\n    };\n    t.prototype.userFeedBack = function(t) {\n        var e = this;\n        return this.getUserToken()\n            .then(function(o) {\n                if (o) {\n                    var n = {};\n                    n.content = t;\n                    return e._post(\"/v1/GameApi/add_reply\", o, n);\n                }\n            })\n            .catch(function(t) {\n                console.error(\"userFeedBackErr\", t);\n            });\n    };\n    t.prototype.updateServerData = function(t, e, o, n) {\n        var i = this;\n        return this.getUserToken()\n            .then(function(r) {\n                if (r) {\n                    var a = {};\n                    a.user_data = t;\n                    a.save_tag = e;\n                    a.title = o;\n                    a.extra_data = n;\n                    var s = \"backData\" != e;\n                    return i._post(\"/v1/GameApi/backup_user_data\", r, a, s, 5500);\n                }\n            })\n            .catch(function(t) {\n                console.error(\"updateServerDataErr\", t);\n            });\n    };\n    t.prototype.getServerData = function(t) {\n        return __awaiter(this, void 0, void 0, function() {\n            var e;\n            var o;\n            var n;\n            return __generator(this, function(i) {\n                switch (i.label) {\n                    case 0:\n                        return (e = \"/v1/GameApi/get_user_backup\"), [4, this.getUserToken()];\n                    case 1:\n                        return (o = i.sent()) ? (((n = {}).save_tag = t), [2, this._post(e, o, n)]) : [2];\n                }\n            });\n        });\n    };\n    t.prototype.getMailData = function(t, e) {\n        var o = this;\n        return this.getUserToken()\n            .then(function(n) {\n                if (n) {\n                    var i = {};\n                    i.type = t;\n                    i.exp_ids = e;\n                    return o._post(\"/v1/GameApi/get_mail\", n, i);\n                }\n            })\n            .catch(function(t) {\n                console.error(\"getMailDataErr\", t);\n            });\n    };\n    t.prototype.updateChallengeData = function(t) {\n        var e = this;\n        this.getUserToken()\n            .then(function(o) {\n                if (o && t) {\n                    var n = {};\n                    n.level = t;\n                    e._post(\"/v1/GameApi/passLevel\", o, n);\n                }\n            })\n            .catch(function(t) {\n                console.error(\"updateUserInfoErr\", t);\n            });\n    };\n    t.prototype.getChallengeData = function(t) {\n        var e = this;\n        return this.getUserToken()\n            .then(function(o) {\n                if (o && t) {\n                    var n = {};\n                    n.level = t;\n                    return e._post(\"/v1/GameApi/getCompletionInfo\", o, n);\n                }\n            })\n            .catch(function(t) {\n                console.error(\"updateUserInfoErr\", t);\n            });\n    };\n    t.prototype.getUserDataByUid = function(t) {\n        var e = this;\n        return this.getUserToken()\n            .then(function(o) {\n                if (o && t) {\n                    var n = {};\n                    n.game_uid = t;\n                    return e._post(\"/v1/GameApi/getUserData\", o, n);\n                }\n            })\n            .catch(function(t) {\n                console.error(\"getUserDataByUid\", t);\n            });\n    };\n    t.prototype.sendSevenCard = function(t, e) {\n        var o = this;\n        this.getUserToken()\n            .then(function(n) {\n                if (n && e) {\n                    var i = {};\n                    i.aid = t;\n                    i.open_id = o.openId;\n                    i.reward_index = e;\n                    return o._post(\"/v1/GameApi/saveUserAlienCard\", n, i);\n                }\n            })\n            .catch(function(t) {\n                console.error(\"sendSevenCard\", t);\n            });\n    };\n    t.prototype.paymentResult = function(t) {\n        var e = this;\n        return this.getUserToken()\n            .then(function(o) {\n                if (o) {\n                    var n = t;\n                    return e._post(\"/v1/GameApi/get_delivery_status\", o, n);\n                }\n            })\n            .catch(function(t) {\n                console.error(\"get_delivery_status\", t);\n            });\n    };\n    t.prototype.getPayGamecoins = function() {\n        var t = this;\n        return this.getUserToken().then(function(e) {\n            if (e) {\n                var o = {};\n                o.open_id = t.openId;\n                console.log(\"获取游戏币参数\", o);\n                return t._post(\"/v1/GameApi/get_balance\", e, o);\n            }\n        });\n    };\n    t.prototype.getUnshippedOrders = function() {\n        var t = this;\n        return this.getUserToken()\n            .then(function(e) {\n                if (e) {\n                    var o = {};\n                    o.open_id = t.openId;\n                    return t._post(\"/v1/GameApi/get_unshipped_orders\", e, o);\n                }\n            })\n            .catch(function(t) {\n                console.error(\"get_unshipped_orders\", t);\n            });\n    };\n    return t;\n})();\nexports.default = f;"]}