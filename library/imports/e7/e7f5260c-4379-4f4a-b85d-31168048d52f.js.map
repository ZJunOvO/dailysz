{"version":3,"sources":["assets\\scripts\\ui_getReward.js"],"names":["n","Object","defineProperty","exports","value","_res","require","_bagMgr","_festivalMgr","_levelMgr","_panelMgr","_pInfo","_game","_baseUI","_rewardMgr","f","cc","_decorator","g","ccclass","y","property","m","t","e","apply","arguments","rew1Lbl","rew2Lbl","rew3Lbl","rew4Lbl","adGetBtn","typeSps","hasCashReward","__extends","prototype","init","o","gold","goldNum","pieceNum","console","log","string","error","rew1","rew2","rew3","rew4","initAdDotEvent","setupCashReward","i","r","type","gameType","festival","ins","isJigsawMax","getBundleByString","then","load","SpriteFrame","node","isValid","forEach","spriteFrame","undefined","tempGet","getCoin","addCoin","addItem","a","h","convertToWorldSpaceAR","position","open","itemDatas","itemId","worldPos","hideCb","chgScene","sceneType","main","cb","updJigAndPop","showCoin","hideThis","hide","onGet","cashAmount","window","alert","alertError","showLoveSupportMessage","clearCashRewardFlag","hasPendingCashReward","onAdGet","onGetCashReward","adDotData","hasRecentReward","getLastRewardInfo","amount","_tipMgr","showTip","tipError","__decorate","Label","Button","Sprite"],"mappings":"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","sourceRoot":"/","sourcesContent":["var n;\nObject.defineProperty(exports, \"__esModule\", {value: !0});\nvar _res = require(\"res\");\nvar _bagMgr = require(\"bagMgr\");\nvar _festivalMgr = require(\"festivalMgr\");\nvar _levelMgr = require(\"levelMgr\");\nvar _panelMgr = require(\"panelMgr\");\nvar _pInfo = require(\"pInfo\");\nvar _game = require(\"game\");\nvar _baseUI = require(\"baseUI\");\nvar _rewardMgr = require(\"rewardMgr\");  // ğŸ’ ç°é‡‘å¥–åŠ±ç®¡ç†å™¨\nvar f = cc._decorator;\nvar g = f.ccclass;\nvar y = f.property;\nvar m = (function (t) {\n    function e() {\n        var e = (null !== t && t.apply(this, arguments)) || this;\n        e.rew1Lbl = null;\n        e.rew2Lbl = null;\n        e.rew3Lbl = null;\n        e.rew4Lbl = null;\n        e.adGetBtn = null;\n        e.typeSps = [];\n        // ğŸ’ ç°é‡‘å¥–åŠ±çŠ¶æ€ï¼ˆå¤ç”¨åŸæœ‰UIç»“æ„ï¼‰\n        e.hasCashReward = false;  // æ˜¯å¦æœ‰ç°é‡‘å¥–åŠ±\n        return e;\n    }\n    __extends(e, t);\n    e.prototype.init = function (t) {\n        var e = this;\n        var o = t.gold;\n        this.goldNum = o;\n        var n = (this.pieceNum = 1);\n        \n        // ğŸ’ æ·»åŠ ç©ºæŒ‡é’ˆä¿æŠ¤å’Œé”™è¯¯æ•è·\n        try {\n            console.log(\"ğŸ” å¼€å§‹Labelæ£€æŸ¥...\");\n            if (this.rew1Lbl) this.rew1Lbl.string = \"x\" + o;\n            if (this.rew2Lbl) this.rew2Lbl.string = \"x\" + n;  \n            if (this.rew3Lbl) this.rew3Lbl.string = \"x\" + 10 * o;\n            if (this.rew4Lbl) {\n                this.rew4Lbl.string = \"x\" + 10 * n;\n            } else {\n                console.log(\"â„¹ï¸ rew4Lblä¸å­˜åœ¨ï¼ˆç”¨æˆ·å·²æ”¹ä¸ºç°é‡‘å¥–åŠ±å•ä¸€æ˜¾ç¤ºï¼‰\");\n            }\n            console.log(\"âœ… Labelè®¾ç½®å®Œæˆ - rew1:\", !!this.rew1Lbl, \"rew2:\", !!this.rew2Lbl, \"rew3:\", !!this.rew3Lbl, \"rew4:\", !!this.rew4Lbl);\n        } catch (error) {\n            console.log(\"âŒ Labelè®¾ç½®å¤±è´¥:\", error);\n            console.log(\"ğŸ” LabelçŠ¶æ€:\", {\n                rew1: !!this.rew1Lbl,\n                rew2: !!this.rew2Lbl, \n                rew3: !!this.rew3Lbl,\n                rew4: !!this.rew4Lbl\n            });\n        }\n        \n        this.initAdDotEvent();\n        \n        // ğŸ’ æ£€æŸ¥å¹¶è®¾ç½®ç°é‡‘å¥–åŠ±æ˜¾ç¤º\n        this.setupCashReward();\n        var i;\n        var r = _game.default.type;\n        i =\n            r !== _pInfo.gameType.festival || _festivalMgr.default.ins.isJigsawMax()\n                ? \"puzzle_pieces\"\n                : \"newYear_pieces\";\n        _res.default.ins\n            .getBundleByString(\"resSps\")\n            .then(function (t) {\n                t.load(\"item/\" + i, cc.SpriteFrame, function (t, o) {\n                    !t &&\n                        e.node &&\n                        e.node.isValid &&\n                        e.typeSps.forEach(function (t) {\n                            if (t && t.spriteFrame !== undefined) {\n                                t.spriteFrame = o;\n                            }\n                        });\n                });\n            })\n            .catch(function (t) {\n                console.error(\"RTool.ins.getBundleByString('resSps')\", t);\n            });\n    };\n    e.prototype.tempGet = function (t) {\n        var e = t ? 10 : 1;\n        var o = _pInfo.default.ins.getCoin();\n        _pInfo.default.ins.addCoin(this.goldNum * e);\n        var n;\n        n =\n            _game.default.type !== _pInfo.gameType.festival || _festivalMgr.default.ins.isJigsawMax()\n                ? \"puzzle_pieces\"\n                : \"newYear_pieces\";\n        _bagMgr.default.ins.addItem(n, e);\n        var i = this.goldNum * e;\n        var r = e;\n        var a = this.rew1Lbl.node;\n        var h = this.rew2Lbl.node;\n        var f = this.node;\n        var g = f.convertToWorldSpaceAR(a.position);\n        var y = f.convertToWorldSpaceAR(h.position);\n        _panelMgr.default.ins.open(\"ui/ui_flyAni\", {\n            itemDatas: [\n                {itemId: \"coin\", worldPos: g, value: i},\n                {itemId: n, worldPos: y, value: r}\n            ],\n            hideCb: function () {\n                _pInfo.chgScene(_pInfo.sceneType.main, {cb: _levelMgr.default.ins.updJigAndPop});\n            },\n            showCoin: o\n        });\n        this.hideThis();\n    };\n    e.prototype.hideThis = function () {\n        this.hide();\n    };\n    e.prototype.onGet = function () {\n        // ğŸ’ æ£€æŸ¥æ˜¯å¦ä¸ºç°é‡‘å¥–åŠ±æ¨¡å¼\n        if (this.hasCashReward) {\n            // ç°é‡‘å¥–åŠ±æ¨¡å¼ä¸‹ï¼Œå•å€ä¹Ÿæ˜¯é¢†å–ç°é‡‘\n            console.log(\"ğŸ’° é¢†å–å•å€ç°é‡‘å¥–åŠ±: Â¥\" + this.cashAmount);\n            \n            // ğŸ’ ç°é‡‘åœ¨æ¸¸æˆå®Œæˆæ—¶å·²ç»æ·»åŠ äº†ï¼Œè¿™é‡Œåªæ˜¯ç¡®è®¤é¢†å–\n            try {\n                if (typeof window !== 'undefined' && window.alert) {\n                    window.alert(\"ğŸ’ å·å·é¢†å–äº†ï¿¥\" + this.cashAmount + \"ç°é‡‘å¥–åŠ±ï¼æ£’æ£’å“’ï¼\");\n                }\n            } catch (alertError) {\n                console.log(\"Alertæ˜¾ç¤ºå¤±è´¥:\", alertError);\n            }\n            \n            _rewardMgr.default.showLoveSupportMessage();\n            _rewardMgr.default.clearCashRewardFlag();\n            this.hideThis();\n        } else {\n            // ğŸ’ å¦‚æœä¸æ˜¯ç°é‡‘å¥–åŠ±ä½†æœ‰å¾…å¤„ç†æ ‡è®°ï¼Œä¹Ÿè¦æ¸…é™¤\n            if (_rewardMgr.default.hasPendingCashReward()) {\n                _rewardMgr.default.clearCashRewardFlag();\n            }\n            this.tempGet(!1);\n        }\n    };\n    e.prototype.onAdGet = function () {\n        console.log(\"ğŸ”˜ ç‚¹å‡»é¢†å–å¥–é‡‘æŒ‰é’®\");\n        console.log(\"ğŸ” å½“å‰hasCashRewardçŠ¶æ€:\", this.hasCashReward);\n        console.log(\"ğŸ” å½“å‰cashAmount:\", this.cashAmount);\n        \n        // ğŸ’ æ£€æŸ¥æ˜¯å¦ä¸ºç°é‡‘å¥–åŠ±æ¨¡å¼\n        if (this.hasCashReward) {\n            console.log(\"ğŸ’° æ‰§è¡Œç°é‡‘å¥–åŠ±é€»è¾‘\");\n            this.onGetCashReward();\n        } else {\n            console.log(\"ğŸ® æ‰§è¡Œæ¸¸æˆé“å…·å¥–åŠ±é€»è¾‘\");\n            this.tempGet(!0);\n        }\n    };\n    e.prototype.initAdDotEvent = function () {\n        _game.default.type !== _pInfo.gameType.festival || _festivalMgr.default.ins.isJigsawMax()\n            ? (this.adGetBtn.node.adDotData = \"ä¸»çº¿åå€å¥–åŠ±\")\n            : (this.adGetBtn.node.adDotData = \"æ´»åŠ¨åå€å¥–åŠ±\");\n    };\n\n    // ğŸ’ è®¾ç½®ç°é‡‘å¥–åŠ±æ˜¾ç¤ºï¼ˆå¤ç”¨åŸæœ‰UIç»“æ„ï¼‰\n    e.prototype.setupCashReward = function() {\n        try {\n            console.log(\"ğŸ” å¼€å§‹æ£€æŸ¥ç°é‡‘å¥–åŠ±...\");\n            // æ£€æŸ¥æ˜¯å¦åˆšåˆšè·å¾—äº†ç°é‡‘å¥–åŠ±\n            var hasRecentReward = _rewardMgr.default.getLastRewardInfo();\n            console.log(\"ğŸ¯ getLastRewardInfoè¿”å›:\", hasRecentReward);\n            \n            if (hasRecentReward) {\n                console.log(\"ğŸ’° æ£€æµ‹åˆ°ç°é‡‘å¥–åŠ±: Â¥\" + hasRecentReward.amount);\n                \n                // è®¾ç½®ç°é‡‘å¥–åŠ±çŠ¶æ€\n                this.hasCashReward = true;\n                this.cashAmount = hasRecentReward.amount;\n                \n                // ä¿®æ”¹ç°é‡‘å¥–åŠ±æ˜¾ç¤ºï¼ˆç”¨æˆ·å·²å°†å³ä¾§æ”¹ä¸ºå•ä¸€ç°é‡‘å¥–åŠ±æ˜¾ç¤ºï¼‰\n                if (this.rew3Lbl) {\n                    this.rew3Lbl.string = \"+Â¥\" + hasRecentReward.amount;\n                    console.log(\"ğŸ’° rew3Lblè®¾ç½®ä¸ºç°é‡‘å¥–åŠ±: +Â¥\" + hasRecentReward.amount);\n                }\n                // rew4Lblå·²åˆ é™¤ï¼Œä¸å†è®¾ç½®\n                \n                console.log(\"âœ… ç°é‡‘å¥–åŠ±UIå·²è®¾ç½®: \" + (this.rew3Lbl ? this.rew3Lbl.string : \"rew3Lblæœªç»‘å®š\"));\n                console.log(\"âœ… hasCashRewardçŠ¶æ€:\", this.hasCashReward);\n                console.log(\"âœ… cashAmount:\", this.cashAmount);\n            } else {\n                console.log(\"ğŸ’° æ— ç°é‡‘å¥–åŠ±ï¼Œä½¿ç”¨åŸæœ‰é€»è¾‘\");\n                this.hasCashReward = false;\n                // æ¢å¤åŸæœ‰çš„æ¸¸æˆé“å…·æ˜¾ç¤ºé€»è¾‘å·²ç»åœ¨initä¸­å¤„ç†äº†\n            }\n        } catch (error) {\n            console.log(\"âŒ è®¾ç½®ç°é‡‘å¥–åŠ±å¤±è´¥:\", error);\n            this.hasCashReward = false;\n        }\n    };\n\n    // ğŸ’ é¢†å–ç°é‡‘å¥–åŠ±\n    e.prototype.onGetCashReward = function() {\n        try {\n            console.log(\"ğŸ’° ç‚¹å‡»é¢†å–ç°é‡‘å¥–åŠ±: Â¥\" + this.cashAmount);\n            \n            // ğŸ’ ç°é‡‘åœ¨æ¸¸æˆå®Œæˆæ—¶å·²ç»æ·»åŠ äº†ï¼Œè¿™é‡Œåªæ˜¯ç¡®è®¤é¢†å–\n            \n            // æ˜¾ç¤ºå¥–åŠ±é¢†å–æˆåŠŸæç¤º\n            try {\n                if (typeof window !== 'undefined' && window.alert) {\n                    window.alert(\"ğŸ‰ æ­å–œå·å·ï¼ï¿¥\" + this.cashAmount + \"ç°é‡‘å¥–åŠ±å·²æˆåŠŸé¢†å–ï¼\");\n                } else {\n                    var _tipMgr = require(\"tipMgr\");\n                    _tipMgr.default.ins.showTip(\"å·å·è·å¾—ï¿¥\" + this.cashAmount + \"å¥–åŠ±ï¼\", false);\n                }\n            } catch (tipError) {\n                console.log(\"æç¤ºæ˜¾ç¤ºå¤±è´¥:\", tipError);\n            }\n            \n            // æ˜¾ç¤ºèŒå­æ”¯æŒæ¶ˆæ¯\n            _rewardMgr.default.showLoveSupportMessage();\n            \n            // ğŸ’ æ¸…é™¤ç°é‡‘å¥–åŠ±æ ‡è®°ï¼Œé˜²æ­¢ç¬¬äºŒæ¬¡å¼¹çª—\n            _rewardMgr.default.clearCashRewardFlag();\n            \n            // å…³é—­å¼¹çª—\n            this.hideThis();\n            \n            console.log(\"ğŸ‰ ç°é‡‘å¥–åŠ±ç¡®è®¤å®Œæˆï¼ï¼ˆä½™é¢å·²åœ¨æ¸¸æˆå®Œæˆæ—¶æ›´æ–°ï¼‰\");\n            \n        } catch (error) {\n            console.log(\"âŒ é¢†å–ç°é‡‘å¥–åŠ±å¤±è´¥:\", error);\n        }\n    };\n    __decorate([y(cc.Label)], e.prototype, \"rew1Lbl\", void 0);\n    __decorate([y(cc.Label)], e.prototype, \"rew2Lbl\", void 0);\n    __decorate([y(cc.Label)], e.prototype, \"rew3Lbl\", void 0);\n    __decorate([y(cc.Label)], e.prototype, \"rew4Lbl\", void 0);\n    __decorate([y(cc.Button)], e.prototype, \"adGetBtn\", void 0);\n    __decorate([y([cc.Sprite])], e.prototype, \"typeSps\", void 0);\n    return __decorate([g], e);\n})(_baseUI.default);\nexports.default = m;\n"]}