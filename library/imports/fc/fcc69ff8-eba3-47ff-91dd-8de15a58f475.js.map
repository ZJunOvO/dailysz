{"version":3,"sources":["assets\\scripts\\challengeMgr.js"],"names":["Object","defineProperty","exports","value","_numberUtils","require","_request","_time","_uData","_global","_pInfo","p","t","firstYear","firstMonth","lvDatas","defalutLvData","id","type","diff","count","size","denstiy","get","_ins","enumerable","configurable","prototype","initNowMonthData","__awaiter","e","o","n","r","a","c","__generator","loaded","ins","serverTime","Date","getFullYear","getMonth","getIdxByDate","cc","resources","load","JsonAsset","json","getTodayIsFin","i","getDate","getfinData","getMonthData","getDay","getLvData","getChallengeData","getIsFin","push","getLastUnFinIdx","isLocked","getFinLvNum","length","getTheMonthIsFin","Array","isArray","getLvDataByDate","s","RandomInt","winChallenge","year","month","day","Math","pow","setChallengeData","updateChallengeData","_setLocalAndCloudData","addZeroToNum","getRequestChallengeData","getChaPackData","getChallengePackData","setChaPackData","setChallengePackData","getMonthRed","getBeforeMonthRed","getAllMonthRed"],"mappings":"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","sourceRoot":"/","sourcesContent":["Object.defineProperty(exports, \"__esModule\", { value: !0 });\nvar _numberUtils = require(\"NumberUtils\");\nvar _request = require(\"request\");\nvar _time = require(\"time\");\nvar _uData = require(\"uData\");\nvar _global = require(\"global\");\nvar _pInfo = require(\"pInfo\");\nvar p = (function() {\n    function t() {\n        this.firstYear = 2024;\n        this.firstMonth = 2;\n        this.lvDatas = [];\n        this.defalutLvData = [\n            { id: 1, type: 1, diff: 3, count: 500 },\n            { id: 2, type: 2, diff: 4, size: 15, denstiy: 0.6, count: 10 },\n            { id: 3, type: 3, diff: 3, size: 15, denstiy: 0.6, count: 5 },\n            { id: 4, type: 1, diff: 3, count: 501 },\n            { id: 5, type: 2, diff: 4, size: 15, denstiy: 0.6, count: 10 },\n            { id: 6, type: 3, diff: 3, size: 15, denstiy: 0.6, count: 5 },\n            { id: 7, type: 1, diff: 3, count: 502 },\n            { id: 8, type: 2, diff: 4, size: 15, denstiy: 0.6, count: 10 },\n            { id: 9, type: 3, diff: 3, size: 15, denstiy: 0.6, count: 5 },\n            { id: 10, type: 1, diff: 3, count: 503 },\n            { id: 11, type: 2, diff: 4, size: 15, denstiy: 0.6, count: 10 },\n            { id: 12, type: 3, diff: 3, size: 15, denstiy: 0.6, count: 5 },\n            { id: 13, type: 1, diff: 3, count: 504 },\n            { id: 14, type: 2, diff: 4, size: 15, denstiy: 0.6, count: 10 },\n            { id: 15, type: 3, diff: 3, size: 15, denstiy: 0.6, count: 5 },\n            { id: 16, type: 1, diff: 3, count: 505 },\n            { id: 17, type: 2, diff: 4, size: 15, denstiy: 0.6, count: 10 },\n            { id: 18, type: 3, diff: 3, size: 15, denstiy: 0.6, count: 5 },\n            { id: 19, type: 1, diff: 3, count: 506 },\n            { id: 20, type: 2, diff: 4, size: 15, denstiy: 0.6, count: 10 },\n            { id: 21, type: 3, diff: 3, size: 15, denstiy: 0.6, count: 5 },\n            { id: 22, type: 1, diff: 3, count: 507 },\n            { id: 23, type: 2, diff: 4, size: 15, denstiy: 0.6, count: 10 },\n            { id: 24, type: 3, diff: 3, size: 15, denstiy: 0.6, count: 5 },\n            { id: 25, type: 1, diff: 3, count: 508 },\n            { id: 26, type: 2, diff: 4, size: 15, denstiy: 0.6, count: 10 },\n            { id: 27, type: 3, diff: 3, size: 15, denstiy: 0.6, count: 5 },\n            { id: 28, type: 1, diff: 3, count: 509 },\n            { id: 29, type: 2, diff: 4, size: 15, denstiy: 0.6, count: 10 },\n            { id: 30, type: 3, diff: 3, size: 15, denstiy: 0.6, count: 5 },\n            { id: 31, type: 1, diff: 3, count: 600 }\n        ];\n    }\n    Object.defineProperty(t, \"ins\", {\n        get: function() {\n            return this._ins || (this._ins = new t());\n        },\n        enumerable: !1,\n        configurable: !0\n    });\n    t.prototype.initNowMonthData = function() {\n        return __awaiter(this, void 0, void 0, function() {\n            var t;\n            var e;\n            var o;\n            var n;\n            var r;\n            var a;\n            var c = this;\n            return __generator(this, function() {\n                return this.loaded ? [2] :\n                    ((this.loaded = 1),\n                        (t = 1e3 * _time.default.ins.serverTime),\n                        (e = new Date(t)),\n                        (o = e.getFullYear()),\n                        (n = e.getMonth() + 1),\n                        (r = this.getIdxByDate(o, n)),\n                        (a = 100 * o + n),\n                        cc.resources.load(\n                            \"challenge\",\n                            cc.JsonAsset,\n                            function(t, e) {\n                                !t && e && e.json ? (c.lvDatas[r] = e.json) : (c.lvDatas[r] = c.defalutLvData);\n                            }\n                        ), [2]);\n            });\n        });\n    };\n    t.prototype.getTodayIsFin = function() {\n        var t = 1e3 * _time.default.ins.serverTime;\n        var e = new Date(t);\n        var o = e.getFullYear();\n        var n = e.getMonth() + 1;\n        var i = e.getDate() - 1;\n        return this.getfinData(o, n)[i];\n    };\n    t.prototype.getMonthData = function(t, e) {\n        var o = new Date(t, e - 1, 1).getDay();\n        return [(o = 0 == o ? 7 : o), new Date(t, e, 0).getDate()];\n    };\n    t.prototype.getfinData = function(t, e) {\n        var o = this.getIdxByDate(t, e);\n        this.getLvData(o, t, e);\n        for (var n = _pInfo.default.ins.getChallengeData()[o] || 0, i = [], r = 0; r < 31; r++) {\n            var a = this.getIsFin(n, r);\n            i.push(a);\n        }\n        return i;\n    };\n    t.prototype.getLastUnFinIdx = function(t, e) {\n        for (var o = this.getfinData(t, e), n = this.getMonthData(t, e), i = (n[0], n[1]), r = 0, a = 0; a < i; a++)\n            o[a] || this.isLocked(t, e, a) || (r = a);\n        return r;\n    };\n    t.prototype.getFinLvNum = function(t, e) {\n        for (var o = this.getfinData(t, e), n = 0, i = 0, r = o.length; i < r; i++) o[i] && n++;\n        return n;\n    };\n    t.prototype.getTheMonthIsFin = function(t, e) {\n        for (var o = this.getfinData(t, e), n = this.getMonthData(t, e), i = (n[0], n[1]), r = 0, a = 0; a < i; a++)\n            o[a] && r++;\n        return r >= i;\n    };\n    t.prototype.getIsFin = function(t, e) {\n        return (t & (1 << e)) >> e != 0;\n    };\n    t.prototype.getLvData = function(t, e, o) {\n        var n = this;\n        if (!(t < 0)) {\n            var i = this.lvDatas[t];\n            if (i) return i;\n            var r = 100 * e + o;\n            cc.resources.load(\"challenge\", cc.JsonAsset, function(e, o) {\n                !e && o && o.json && Array.isArray(o.json) ? (n.lvDatas[t] = o.json) : (n.lvDatas[t] = n.defalutLvData);\n            });\n        }\n    };\n    t.prototype.getLvDataByDate = function(t, e, o) {\n        var n = this.getIdxByDate(t, e);\n        var i = this.lvDatas[n];\n        if (i) {\n            var a = i[o];\n            var s = _numberUtils.default.RandomInt(0, this.defalutLvData.length - 1);\n            a || (a = this.defalutLvData[s]);\n            return a;\n        }\n        this.getLvData(n, t, e);\n        return this.defalutLvData[o];\n    };\n    t.prototype.winChallenge = function(t) {\n        var e = t.year;\n        var o = t.month;\n        var n = t.day;\n        if (!this.getfinData(e, o)[n - 1]) {\n            var i = this.getIdxByDate(e, o);\n            var r = _pInfo.default.ins.getChallengeData();\n            var a = r[i] || 0;\n            a += Math.pow(2, n - 1);\n            r[i] = a;\n            _pInfo.default.ins.setChallengeData(r);\n            this.updateChallengeData(e, o, n);\n            _uData.default.ins._setLocalAndCloudData();\n        }\n    };\n    t.prototype.updateChallengeData = function(t, e, o) {\n        var n = t + this.addZeroToNum(e) + this.addZeroToNum(o);\n        _request.default.ins.updateChallengeData(n);\n    };\n    t.prototype.getRequestChallengeData = function(t, e) {\n        var o = t + this.addZeroToNum(e);\n        return _request.default.ins.getChallengeData(o);\n    };\n    t.prototype.addZeroToNum = function(t) {\n        if (t < 0) return \"\";\n        var e = \"\";\n        t < 10 && (e = \"0\");\n        return e + t;\n    };\n    t.prototype.getIdxByDate = function(t, e) {\n        return 12 * (t - this.firstYear) + (e - this.firstMonth);\n    };\n    t.prototype.isLocked = function(t, e, o) {\n        var n = 1e3 * _time.default.ins.serverTime;\n        var i = new Date(n);\n        var r = i.getFullYear();\n        var a = i.getMonth() + 1;\n        var c = i.getDate() - 1;\n        return t != r ? t > r : e != a ? e > a : o > c;\n    };\n    t.prototype.getChaPackData = function(t, e) {\n        for (\n            var o = this.getIdxByDate(t, e), n = _pInfo.default.ins.getChallengePackData()[o] || 0, i = [], r = 0; r < 4; r++\n        ) {\n            var a = this.getIsFin(n, r);\n            i.push(a);\n        }\n        return i;\n    };\n    t.prototype.setChaPackData = function(t, e, o) {\n        var n = this.getIdxByDate(t, e);\n        var i = _pInfo.default.ins.getChallengePackData();\n        var r = i[n] || 0;\n        r += Math.pow(2, o);\n        i[n] = r;\n        _pInfo.default.ins.setChallengePackData(i);\n    };\n    t.prototype.getMonthRed = function(t, e) {\n        for (var o = this.getFinLvNum(t, e), n = this.getChaPackData(t, e), i = 0, r = 0; r < 4; r++)\n            o >= 7 * (r + 1) && !n[r] && i++;\n        return i;\n    };\n    t.prototype.getBeforeMonthRed = function(t, e) {\n        for (var o = t, n = e, i = this.getIdxByDate(o, n) + 1, r = 0, a = 0; a < i; a++)\n            (r += this.getMonthRed(o, n)), --n < 1 && ((o -= 1), (n = 12));\n        return r;\n    };\n    t.prototype.getAllMonthRed = function() {\n        var t = 1e3 * _time.default.ins.serverTime;\n        var e = new Date(t);\n        var o = e.getFullYear();\n        var n = e.getMonth() + 1;\n        return this.getBeforeMonthRed(o, n);\n    };\n    return t;\n})();\nexports.default = p;"]}