
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/challengeMgr.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'fcc69/466NH/5HdjeFaWPR1', 'challengeMgr');
// scripts/challengeMgr.js

"use strict";

Object.defineProperty(exports, "__esModule", {
  value: !0
});

var _numberUtils = require("NumberUtils");

var _request = require("request");

var _time = require("time");

var _uData = require("uData");

var _global = require("global");

var _pInfo = require("pInfo");

var p = function () {
  function t() {
    this.firstYear = 2024;
    this.firstMonth = 2;
    this.lvDatas = [];
    this.defalutLvData = [{
      id: 1,
      type: 1,
      diff: 3,
      count: 500
    }, {
      id: 2,
      type: 2,
      diff: 4,
      size: 15,
      denstiy: 0.6,
      count: 10
    }, {
      id: 3,
      type: 3,
      diff: 3,
      size: 15,
      denstiy: 0.6,
      count: 5
    }, {
      id: 4,
      type: 1,
      diff: 3,
      count: 501
    }, {
      id: 5,
      type: 2,
      diff: 4,
      size: 15,
      denstiy: 0.6,
      count: 10
    }, {
      id: 6,
      type: 3,
      diff: 3,
      size: 15,
      denstiy: 0.6,
      count: 5
    }, {
      id: 7,
      type: 1,
      diff: 3,
      count: 502
    }, {
      id: 8,
      type: 2,
      diff: 4,
      size: 15,
      denstiy: 0.6,
      count: 10
    }, {
      id: 9,
      type: 3,
      diff: 3,
      size: 15,
      denstiy: 0.6,
      count: 5
    }, {
      id: 10,
      type: 1,
      diff: 3,
      count: 503
    }, {
      id: 11,
      type: 2,
      diff: 4,
      size: 15,
      denstiy: 0.6,
      count: 10
    }, {
      id: 12,
      type: 3,
      diff: 3,
      size: 15,
      denstiy: 0.6,
      count: 5
    }, {
      id: 13,
      type: 1,
      diff: 3,
      count: 504
    }, {
      id: 14,
      type: 2,
      diff: 4,
      size: 15,
      denstiy: 0.6,
      count: 10
    }, {
      id: 15,
      type: 3,
      diff: 3,
      size: 15,
      denstiy: 0.6,
      count: 5
    }, {
      id: 16,
      type: 1,
      diff: 3,
      count: 505
    }, {
      id: 17,
      type: 2,
      diff: 4,
      size: 15,
      denstiy: 0.6,
      count: 10
    }, {
      id: 18,
      type: 3,
      diff: 3,
      size: 15,
      denstiy: 0.6,
      count: 5
    }, {
      id: 19,
      type: 1,
      diff: 3,
      count: 506
    }, {
      id: 20,
      type: 2,
      diff: 4,
      size: 15,
      denstiy: 0.6,
      count: 10
    }, {
      id: 21,
      type: 3,
      diff: 3,
      size: 15,
      denstiy: 0.6,
      count: 5
    }, {
      id: 22,
      type: 1,
      diff: 3,
      count: 507
    }, {
      id: 23,
      type: 2,
      diff: 4,
      size: 15,
      denstiy: 0.6,
      count: 10
    }, {
      id: 24,
      type: 3,
      diff: 3,
      size: 15,
      denstiy: 0.6,
      count: 5
    }, {
      id: 25,
      type: 1,
      diff: 3,
      count: 508
    }, {
      id: 26,
      type: 2,
      diff: 4,
      size: 15,
      denstiy: 0.6,
      count: 10
    }, {
      id: 27,
      type: 3,
      diff: 3,
      size: 15,
      denstiy: 0.6,
      count: 5
    }, {
      id: 28,
      type: 1,
      diff: 3,
      count: 509
    }, {
      id: 29,
      type: 2,
      diff: 4,
      size: 15,
      denstiy: 0.6,
      count: 10
    }, {
      id: 30,
      type: 3,
      diff: 3,
      size: 15,
      denstiy: 0.6,
      count: 5
    }, {
      id: 31,
      type: 1,
      diff: 3,
      count: 600
    }];
  }

  Object.defineProperty(t, "ins", {
    get: function get() {
      return this._ins || (this._ins = new t());
    },
    enumerable: !1,
    configurable: !0
  });

  t.prototype.initNowMonthData = function () {
    return __awaiter(this, void 0, void 0, function () {
      var t;
      var e;
      var o;
      var n;
      var r;
      var a;
      var c = this;
      return __generator(this, function () {
        return this.loaded ? [2] : (this.loaded = 1, t = 1e3 * _time["default"].ins.serverTime, e = new Date(t), o = e.getFullYear(), n = e.getMonth() + 1, r = this.getIdxByDate(o, n), a = 100 * o + n, cc.resources.load("challenge", cc.JsonAsset, function (t, e) {
          !t && e && e.json ? c.lvDatas[r] = e.json : c.lvDatas[r] = c.defalutLvData;
        }), [2]);
      });
    });
  };

  t.prototype.getTodayIsFin = function () {
    var t = 1e3 * _time["default"].ins.serverTime;
    var e = new Date(t);
    var o = e.getFullYear();
    var n = e.getMonth() + 1;
    var i = e.getDate() - 1;
    return this.getfinData(o, n)[i];
  };

  t.prototype.getMonthData = function (t, e) {
    var o = new Date(t, e - 1, 1).getDay();
    return [o = 0 == o ? 7 : o, new Date(t, e, 0).getDate()];
  };

  t.prototype.getfinData = function (t, e) {
    var o = this.getIdxByDate(t, e);
    this.getLvData(o, t, e);

    for (var n = _pInfo["default"].ins.getChallengeData()[o] || 0, i = [], r = 0; r < 31; r++) {
      var a = this.getIsFin(n, r);
      i.push(a);
    }

    return i;
  };

  t.prototype.getLastUnFinIdx = function (t, e) {
    for (var o = this.getfinData(t, e), n = this.getMonthData(t, e), i = (n[0], n[1]), r = 0, a = 0; a < i; a++) {
      o[a] || this.isLocked(t, e, a) || (r = a);
    }

    return r;
  };

  t.prototype.getFinLvNum = function (t, e) {
    for (var o = this.getfinData(t, e), n = 0, i = 0, r = o.length; i < r; i++) {
      o[i] && n++;
    }

    return n;
  };

  t.prototype.getTheMonthIsFin = function (t, e) {
    for (var o = this.getfinData(t, e), n = this.getMonthData(t, e), i = (n[0], n[1]), r = 0, a = 0; a < i; a++) {
      o[a] && r++;
    }

    return r >= i;
  };

  t.prototype.getIsFin = function (t, e) {
    return (t & 1 << e) >> e != 0;
  };

  t.prototype.getLvData = function (t, e, o) {
    var n = this;

    if (!(t < 0)) {
      var i = this.lvDatas[t];
      if (i) return i;
      var r = 100 * e + o;
      cc.resources.load("challenge", cc.JsonAsset, function (e, o) {
        !e && o && o.json && Array.isArray(o.json) ? n.lvDatas[t] = o.json : n.lvDatas[t] = n.defalutLvData;
      });
    }
  };

  t.prototype.getLvDataByDate = function (t, e, o) {
    var n = this.getIdxByDate(t, e);
    var i = this.lvDatas[n];

    if (i) {
      var a = i[o];

      var s = _numberUtils["default"].RandomInt(0, this.defalutLvData.length - 1);

      a || (a = this.defalutLvData[s]);
      return a;
    }

    this.getLvData(n, t, e);
    return this.defalutLvData[o];
  };

  t.prototype.winChallenge = function (t) {
    var e = t.year;
    var o = t.month;
    var n = t.day;

    if (!this.getfinData(e, o)[n - 1]) {
      var i = this.getIdxByDate(e, o);

      var r = _pInfo["default"].ins.getChallengeData();

      var a = r[i] || 0;
      a += Math.pow(2, n - 1);
      r[i] = a;

      _pInfo["default"].ins.setChallengeData(r);

      this.updateChallengeData(e, o, n);

      _uData["default"].ins._setLocalAndCloudData();
    }
  };

  t.prototype.updateChallengeData = function (t, e, o) {
    var n = t + this.addZeroToNum(e) + this.addZeroToNum(o);

    _request["default"].ins.updateChallengeData(n);
  };

  t.prototype.getRequestChallengeData = function (t, e) {
    var o = t + this.addZeroToNum(e);
    return _request["default"].ins.getChallengeData(o);
  };

  t.prototype.addZeroToNum = function (t) {
    if (t < 0) return "";
    var e = "";
    t < 10 && (e = "0");
    return e + t;
  };

  t.prototype.getIdxByDate = function (t, e) {
    return 12 * (t - this.firstYear) + (e - this.firstMonth);
  };

  t.prototype.isLocked = function (t, e, o) {
    var n = 1e3 * _time["default"].ins.serverTime;
    var i = new Date(n);
    var r = i.getFullYear();
    var a = i.getMonth() + 1;
    var c = i.getDate() - 1;
    return t != r ? t > r : e != a ? e > a : o > c;
  };

  t.prototype.getChaPackData = function (t, e) {
    for (var o = this.getIdxByDate(t, e), n = _pInfo["default"].ins.getChallengePackData()[o] || 0, i = [], r = 0; r < 4; r++) {
      var a = this.getIsFin(n, r);
      i.push(a);
    }

    return i;
  };

  t.prototype.setChaPackData = function (t, e, o) {
    var n = this.getIdxByDate(t, e);

    var i = _pInfo["default"].ins.getChallengePackData();

    var r = i[n] || 0;
    r += Math.pow(2, o);
    i[n] = r;

    _pInfo["default"].ins.setChallengePackData(i);
  };

  t.prototype.getMonthRed = function (t, e) {
    for (var o = this.getFinLvNum(t, e), n = this.getChaPackData(t, e), i = 0, r = 0; r < 4; r++) {
      o >= 7 * (r + 1) && !n[r] && i++;
    }

    return i;
  };

  t.prototype.getBeforeMonthRed = function (t, e) {
    for (var o = t, n = e, i = this.getIdxByDate(o, n) + 1, r = 0, a = 0; a < i; a++) {
      r += this.getMonthRed(o, n), --n < 1 && (o -= 1, n = 12);
    }

    return r;
  };

  t.prototype.getAllMonthRed = function () {
    var t = 1e3 * _time["default"].ins.serverTime;
    var e = new Date(t);
    var o = e.getFullYear();
    var n = e.getMonth() + 1;
    return this.getBeforeMonthRed(o, n);
  };

  return t;
}();

exports["default"] = p;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcY2hhbGxlbmdlTWdyLmpzIl0sIm5hbWVzIjpbIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiX251bWJlclV0aWxzIiwicmVxdWlyZSIsIl9yZXF1ZXN0IiwiX3RpbWUiLCJfdURhdGEiLCJfZ2xvYmFsIiwiX3BJbmZvIiwicCIsInQiLCJmaXJzdFllYXIiLCJmaXJzdE1vbnRoIiwibHZEYXRhcyIsImRlZmFsdXRMdkRhdGEiLCJpZCIsInR5cGUiLCJkaWZmIiwiY291bnQiLCJzaXplIiwiZGVuc3RpeSIsImdldCIsIl9pbnMiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwicHJvdG90eXBlIiwiaW5pdE5vd01vbnRoRGF0YSIsIl9fYXdhaXRlciIsImUiLCJvIiwibiIsInIiLCJhIiwiYyIsIl9fZ2VuZXJhdG9yIiwibG9hZGVkIiwiaW5zIiwic2VydmVyVGltZSIsIkRhdGUiLCJnZXRGdWxsWWVhciIsImdldE1vbnRoIiwiZ2V0SWR4QnlEYXRlIiwiY2MiLCJyZXNvdXJjZXMiLCJsb2FkIiwiSnNvbkFzc2V0IiwianNvbiIsImdldFRvZGF5SXNGaW4iLCJpIiwiZ2V0RGF0ZSIsImdldGZpbkRhdGEiLCJnZXRNb250aERhdGEiLCJnZXREYXkiLCJnZXRMdkRhdGEiLCJnZXRDaGFsbGVuZ2VEYXRhIiwiZ2V0SXNGaW4iLCJwdXNoIiwiZ2V0TGFzdFVuRmluSWR4IiwiaXNMb2NrZWQiLCJnZXRGaW5Mdk51bSIsImxlbmd0aCIsImdldFRoZU1vbnRoSXNGaW4iLCJBcnJheSIsImlzQXJyYXkiLCJnZXRMdkRhdGFCeURhdGUiLCJzIiwiUmFuZG9tSW50Iiwid2luQ2hhbGxlbmdlIiwieWVhciIsIm1vbnRoIiwiZGF5IiwiTWF0aCIsInBvdyIsInNldENoYWxsZW5nZURhdGEiLCJ1cGRhdGVDaGFsbGVuZ2VEYXRhIiwiX3NldExvY2FsQW5kQ2xvdWREYXRhIiwiYWRkWmVyb1RvTnVtIiwiZ2V0UmVxdWVzdENoYWxsZW5nZURhdGEiLCJnZXRDaGFQYWNrRGF0YSIsImdldENoYWxsZW5nZVBhY2tEYXRhIiwic2V0Q2hhUGFja0RhdGEiLCJzZXRDaGFsbGVuZ2VQYWNrRGF0YSIsImdldE1vbnRoUmVkIiwiZ2V0QmVmb3JlTW9udGhSZWQiLCJnZXRBbGxNb250aFJlZCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQUEsTUFBTSxDQUFDQyxjQUFQLENBQXNCQyxPQUF0QixFQUErQixZQUEvQixFQUE2QztFQUFFQyxLQUFLLEVBQUUsQ0FBQztBQUFWLENBQTdDOztBQUNBLElBQUlDLFlBQVksR0FBR0MsT0FBTyxDQUFDLGFBQUQsQ0FBMUI7O0FBQ0EsSUFBSUMsUUFBUSxHQUFHRCxPQUFPLENBQUMsU0FBRCxDQUF0Qjs7QUFDQSxJQUFJRSxLQUFLLEdBQUdGLE9BQU8sQ0FBQyxNQUFELENBQW5COztBQUNBLElBQUlHLE1BQU0sR0FBR0gsT0FBTyxDQUFDLE9BQUQsQ0FBcEI7O0FBQ0EsSUFBSUksT0FBTyxHQUFHSixPQUFPLENBQUMsUUFBRCxDQUFyQjs7QUFDQSxJQUFJSyxNQUFNLEdBQUdMLE9BQU8sQ0FBQyxPQUFELENBQXBCOztBQUNBLElBQUlNLENBQUMsR0FBSSxZQUFXO0VBQ2hCLFNBQVNDLENBQVQsR0FBYTtJQUNULEtBQUtDLFNBQUwsR0FBaUIsSUFBakI7SUFDQSxLQUFLQyxVQUFMLEdBQWtCLENBQWxCO0lBQ0EsS0FBS0MsT0FBTCxHQUFlLEVBQWY7SUFDQSxLQUFLQyxhQUFMLEdBQXFCLENBQ2pCO01BQUVDLEVBQUUsRUFBRSxDQUFOO01BQVNDLElBQUksRUFBRSxDQUFmO01BQWtCQyxJQUFJLEVBQUUsQ0FBeEI7TUFBMkJDLEtBQUssRUFBRTtJQUFsQyxDQURpQixFQUVqQjtNQUFFSCxFQUFFLEVBQUUsQ0FBTjtNQUFTQyxJQUFJLEVBQUUsQ0FBZjtNQUFrQkMsSUFBSSxFQUFFLENBQXhCO01BQTJCRSxJQUFJLEVBQUUsRUFBakM7TUFBcUNDLE9BQU8sRUFBRSxHQUE5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QixDQUFDLEVBQTlFO01BQ0tELENBQUMsSUFBSSxLQUFLbUQsV0FBTCxDQUFpQnJELENBQWpCLEVBQW9CQyxDQUFwQixDQUFOLEVBQStCLEVBQUVBLENBQUYsR0FBTSxDQUFOLEtBQWFELENBQUMsSUFBSSxDQUFOLEVBQVdDLENBQUMsR0FBRyxFQUEzQixDQUEvQjtJQURKOztJQUVBLE9BQU9DLENBQVA7RUFDSCxDQUpEOztFQUtBckIsQ0FBQyxDQUFDZSxTQUFGLENBQVkyRCxjQUFaLEdBQTZCLFlBQVc7SUFDcEMsSUFBSTFFLENBQUMsR0FBRyxNQUFNTCxLQUFLLFdBQUwsQ0FBYytCLEdBQWQsQ0FBa0JDLFVBQWhDO0lBQ0EsSUFBSVQsQ0FBQyxHQUFHLElBQUlVLElBQUosQ0FBUzVCLENBQVQsQ0FBUjtJQUNBLElBQUltQixDQUFDLEdBQUdELENBQUMsQ0FBQ1csV0FBRixFQUFSO0lBQ0EsSUFBSVQsQ0FBQyxHQUFHRixDQUFDLENBQUNZLFFBQUYsS0FBZSxDQUF2QjtJQUNBLE9BQU8sS0FBSzJDLGlCQUFMLENBQXVCdEQsQ0FBdkIsRUFBMEJDLENBQTFCLENBQVA7RUFDSCxDQU5EOztFQU9BLE9BQU9wQixDQUFQO0FBQ0gsQ0FsTk8sRUFBUjs7QUFtTkFWLE9BQU8sV0FBUCxHQUFrQlMsQ0FBbEIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogITAgfSk7XG52YXIgX251bWJlclV0aWxzID0gcmVxdWlyZShcIk51bWJlclV0aWxzXCIpO1xudmFyIF9yZXF1ZXN0ID0gcmVxdWlyZShcInJlcXVlc3RcIik7XG52YXIgX3RpbWUgPSByZXF1aXJlKFwidGltZVwiKTtcbnZhciBfdURhdGEgPSByZXF1aXJlKFwidURhdGFcIik7XG52YXIgX2dsb2JhbCA9IHJlcXVpcmUoXCJnbG9iYWxcIik7XG52YXIgX3BJbmZvID0gcmVxdWlyZShcInBJbmZvXCIpO1xudmFyIHAgPSAoZnVuY3Rpb24oKSB7XG4gICAgZnVuY3Rpb24gdCgpIHtcbiAgICAgICAgdGhpcy5maXJzdFllYXIgPSAyMDI0O1xuICAgICAgICB0aGlzLmZpcnN0TW9udGggPSAyO1xuICAgICAgICB0aGlzLmx2RGF0YXMgPSBbXTtcbiAgICAgICAgdGhpcy5kZWZhbHV0THZEYXRhID0gW1xuICAgICAgICAgICAgeyBpZDogMSwgdHlwZTogMSwgZGlmZjogMywgY291bnQ6IDUwMCB9LFxuICAgICAgICAgICAgeyBpZDogMiwgdHlwZTogMiwgZGlmZjogNCwgc2l6ZTogMTUsIGRlbnN0aXk6IDAuNiwgY291bnQ6IDEwIH0sXG4gICAgICAgICAgICB7IGlkOiAzLCB0eXBlOiAzLCBkaWZmOiAzLCBzaXplOiAxNSwgZGVuc3RpeTogMC42LCBjb3VudDogNSB9LFxuICAgICAgICAgICAgeyBpZDogNCwgdHlwZTogMSwgZGlmZjogMywgY291bnQ6IDUwMSB9LFxuICAgICAgICAgICAgeyBpZDogNSwgdHlwZTogMiwgZGlmZjogNCwgc2l6ZTogMTUsIGRlbnN0aXk6IDAuNiwgY291bnQ6IDEwIH0sXG4gICAgICAgICAgICB7IGlkOiA2LCB0eXBlOiAzLCBkaWZmOiAzLCBzaXplOiAxNSwgZGVuc3RpeTogMC42LCBjb3VudDogNSB9LFxuICAgICAgICAgICAgeyBpZDogNywgdHlwZTogMSwgZGlmZjogMywgY291bnQ6IDUwMiB9LFxuICAgICAgICAgICAgeyBpZDogOCwgdHlwZTogMiwgZGlmZjogNCwgc2l6ZTogMTUsIGRlbnN0aXk6IDAuNiwgY291bnQ6IDEwIH0sXG4gICAgICAgICAgICB7IGlkOiA5LCB0eXBlOiAzLCBkaWZmOiAzLCBzaXplOiAxNSwgZGVuc3RpeTogMC42LCBjb3VudDogNSB9LFxuICAgICAgICAgICAgeyBpZDogMTAsIHR5cGU6IDEsIGRpZmY6IDMsIGNvdW50OiA1MDMgfSxcbiAgICAgICAgICAgIHsgaWQ6IDExLCB0eXBlOiAyLCBkaWZmOiA0LCBzaXplOiAxNSwgZGVuc3RpeTogMC42LCBjb3VudDogMTAgfSxcbiAgICAgICAgICAgIHsgaWQ6IDEyLCB0eXBlOiAzLCBkaWZmOiAzLCBzaXplOiAxNSwgZGVuc3RpeTogMC42LCBjb3VudDogNSB9LFxuICAgICAgICAgICAgeyBpZDogMTMsIHR5cGU6IDEsIGRpZmY6IDMsIGNvdW50OiA1MDQgfSxcbiAgICAgICAgICAgIHsgaWQ6IDE0LCB0eXBlOiAyLCBkaWZmOiA0LCBzaXplOiAxNSwgZGVuc3RpeTogMC42LCBjb3VudDogMTAgfSxcbiAgICAgICAgICAgIHsgaWQ6IDE1LCB0eXBlOiAzLCBkaWZmOiAzLCBzaXplOiAxNSwgZGVuc3RpeTogMC42LCBjb3VudDogNSB9LFxuICAgICAgICAgICAgeyBpZDogMTYsIHR5cGU6IDEsIGRpZmY6IDMsIGNvdW50OiA1MDUgfSxcbiAgICAgICAgICAgIHsgaWQ6IDE3LCB0eXBlOiAyLCBkaWZmOiA0LCBzaXplOiAxNSwgZGVuc3RpeTogMC42LCBjb3VudDogMTAgfSxcbiAgICAgICAgICAgIHsgaWQ6IDE4LCB0eXBlOiAzLCBkaWZmOiAzLCBzaXplOiAxNSwgZGVuc3RpeTogMC42LCBjb3VudDogNSB9LFxuICAgICAgICAgICAgeyBpZDogMTksIHR5cGU6IDEsIGRpZmY6IDMsIGNvdW50OiA1MDYgfSxcbiAgICAgICAgICAgIHsgaWQ6IDIwLCB0eXBlOiAyLCBkaWZmOiA0LCBzaXplOiAxNSwgZGVuc3RpeTogMC42LCBjb3VudDogMTAgfSxcbiAgICAgICAgICAgIHsgaWQ6IDIxLCB0eXBlOiAzLCBkaWZmOiAzLCBzaXplOiAxNSwgZGVuc3RpeTogMC42LCBjb3VudDogNSB9LFxuICAgICAgICAgICAgeyBpZDogMjIsIHR5cGU6IDEsIGRpZmY6IDMsIGNvdW50OiA1MDcgfSxcbiAgICAgICAgICAgIHsgaWQ6IDIzLCB0eXBlOiAyLCBkaWZmOiA0LCBzaXplOiAxNSwgZGVuc3RpeTogMC42LCBjb3VudDogMTAgfSxcbiAgICAgICAgICAgIHsgaWQ6IDI0LCB0eXBlOiAzLCBkaWZmOiAzLCBzaXplOiAxNSwgZGVuc3RpeTogMC42LCBjb3VudDogNSB9LFxuICAgICAgICAgICAgeyBpZDogMjUsIHR5cGU6IDEsIGRpZmY6IDMsIGNvdW50OiA1MDggfSxcbiAgICAgICAgICAgIHsgaWQ6IDI2LCB0eXBlOiAyLCBkaWZmOiA0LCBzaXplOiAxNSwgZGVuc3RpeTogMC42LCBjb3VudDogMTAgfSxcbiAgICAgICAgICAgIHsgaWQ6IDI3LCB0eXBlOiAzLCBkaWZmOiAzLCBzaXplOiAxNSwgZGVuc3RpeTogMC42LCBjb3VudDogNSB9LFxuICAgICAgICAgICAgeyBpZDogMjgsIHR5cGU6IDEsIGRpZmY6IDMsIGNvdW50OiA1MDkgfSxcbiAgICAgICAgICAgIHsgaWQ6IDI5LCB0eXBlOiAyLCBkaWZmOiA0LCBzaXplOiAxNSwgZGVuc3RpeTogMC42LCBjb3VudDogMTAgfSxcbiAgICAgICAgICAgIHsgaWQ6IDMwLCB0eXBlOiAzLCBkaWZmOiAzLCBzaXplOiAxNSwgZGVuc3RpeTogMC42LCBjb3VudDogNSB9LFxuICAgICAgICAgICAgeyBpZDogMzEsIHR5cGU6IDEsIGRpZmY6IDMsIGNvdW50OiA2MDAgfVxuICAgICAgICBdO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodCwgXCJpbnNcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2lucyB8fCAodGhpcy5faW5zID0gbmV3IHQoKSk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6ICExLFxuICAgICAgICBjb25maWd1cmFibGU6ICEwXG4gICAgfSk7XG4gICAgdC5wcm90b3R5cGUuaW5pdE5vd01vbnRoRGF0YSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciB0O1xuICAgICAgICAgICAgdmFyIGU7XG4gICAgICAgICAgICB2YXIgbztcbiAgICAgICAgICAgIHZhciBuO1xuICAgICAgICAgICAgdmFyIHI7XG4gICAgICAgICAgICB2YXIgYTtcbiAgICAgICAgICAgIHZhciBjID0gdGhpcztcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5sb2FkZWQgPyBbMl0gOlxuICAgICAgICAgICAgICAgICAgICAoKHRoaXMubG9hZGVkID0gMSksXG4gICAgICAgICAgICAgICAgICAgICAgICAodCA9IDFlMyAqIF90aW1lLmRlZmF1bHQuaW5zLnNlcnZlclRpbWUpLFxuICAgICAgICAgICAgICAgICAgICAgICAgKGUgPSBuZXcgRGF0ZSh0KSksXG4gICAgICAgICAgICAgICAgICAgICAgICAobyA9IGUuZ2V0RnVsbFllYXIoKSksXG4gICAgICAgICAgICAgICAgICAgICAgICAobiA9IGUuZ2V0TW9udGgoKSArIDEpLFxuICAgICAgICAgICAgICAgICAgICAgICAgKHIgPSB0aGlzLmdldElkeEJ5RGF0ZShvLCBuKSksXG4gICAgICAgICAgICAgICAgICAgICAgICAoYSA9IDEwMCAqIG8gKyBuKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNjLnJlc291cmNlcy5sb2FkKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiY2hhbGxlbmdlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2MuSnNvbkFzc2V0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKHQsIGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIXQgJiYgZSAmJiBlLmpzb24gPyAoYy5sdkRhdGFzW3JdID0gZS5qc29uKSA6IChjLmx2RGF0YXNbcl0gPSBjLmRlZmFsdXRMdkRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICksIFsyXSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICB0LnByb3RvdHlwZS5nZXRUb2RheUlzRmluID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciB0ID0gMWUzICogX3RpbWUuZGVmYXVsdC5pbnMuc2VydmVyVGltZTtcbiAgICAgICAgdmFyIGUgPSBuZXcgRGF0ZSh0KTtcbiAgICAgICAgdmFyIG8gPSBlLmdldEZ1bGxZZWFyKCk7XG4gICAgICAgIHZhciBuID0gZS5nZXRNb250aCgpICsgMTtcbiAgICAgICAgdmFyIGkgPSBlLmdldERhdGUoKSAtIDE7XG4gICAgICAgIHJldHVybiB0aGlzLmdldGZpbkRhdGEobywgbilbaV07XG4gICAgfTtcbiAgICB0LnByb3RvdHlwZS5nZXRNb250aERhdGEgPSBmdW5jdGlvbih0LCBlKSB7XG4gICAgICAgIHZhciBvID0gbmV3IERhdGUodCwgZSAtIDEsIDEpLmdldERheSgpO1xuICAgICAgICByZXR1cm4gWyhvID0gMCA9PSBvID8gNyA6IG8pLCBuZXcgRGF0ZSh0LCBlLCAwKS5nZXREYXRlKCldO1xuICAgIH07XG4gICAgdC5wcm90b3R5cGUuZ2V0ZmluRGF0YSA9IGZ1bmN0aW9uKHQsIGUpIHtcbiAgICAgICAgdmFyIG8gPSB0aGlzLmdldElkeEJ5RGF0ZSh0LCBlKTtcbiAgICAgICAgdGhpcy5nZXRMdkRhdGEobywgdCwgZSk7XG4gICAgICAgIGZvciAodmFyIG4gPSBfcEluZm8uZGVmYXVsdC5pbnMuZ2V0Q2hhbGxlbmdlRGF0YSgpW29dIHx8IDAsIGkgPSBbXSwgciA9IDA7IHIgPCAzMTsgcisrKSB7XG4gICAgICAgICAgICB2YXIgYSA9IHRoaXMuZ2V0SXNGaW4obiwgcik7XG4gICAgICAgICAgICBpLnB1c2goYSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGk7XG4gICAgfTtcbiAgICB0LnByb3RvdHlwZS5nZXRMYXN0VW5GaW5JZHggPSBmdW5jdGlvbih0LCBlKSB7XG4gICAgICAgIGZvciAodmFyIG8gPSB0aGlzLmdldGZpbkRhdGEodCwgZSksIG4gPSB0aGlzLmdldE1vbnRoRGF0YSh0LCBlKSwgaSA9IChuWzBdLCBuWzFdKSwgciA9IDAsIGEgPSAwOyBhIDwgaTsgYSsrKVxuICAgICAgICAgICAgb1thXSB8fCB0aGlzLmlzTG9ja2VkKHQsIGUsIGEpIHx8IChyID0gYSk7XG4gICAgICAgIHJldHVybiByO1xuICAgIH07XG4gICAgdC5wcm90b3R5cGUuZ2V0RmluTHZOdW0gPSBmdW5jdGlvbih0LCBlKSB7XG4gICAgICAgIGZvciAodmFyIG8gPSB0aGlzLmdldGZpbkRhdGEodCwgZSksIG4gPSAwLCBpID0gMCwgciA9IG8ubGVuZ3RoOyBpIDwgcjsgaSsrKSBvW2ldICYmIG4rKztcbiAgICAgICAgcmV0dXJuIG47XG4gICAgfTtcbiAgICB0LnByb3RvdHlwZS5nZXRUaGVNb250aElzRmluID0gZnVuY3Rpb24odCwgZSkge1xuICAgICAgICBmb3IgKHZhciBvID0gdGhpcy5nZXRmaW5EYXRhKHQsIGUpLCBuID0gdGhpcy5nZXRNb250aERhdGEodCwgZSksIGkgPSAoblswXSwgblsxXSksIHIgPSAwLCBhID0gMDsgYSA8IGk7IGErKylcbiAgICAgICAgICAgIG9bYV0gJiYgcisrO1xuICAgICAgICByZXR1cm4gciA+PSBpO1xuICAgIH07XG4gICAgdC5wcm90b3R5cGUuZ2V0SXNGaW4gPSBmdW5jdGlvbih0LCBlKSB7XG4gICAgICAgIHJldHVybiAodCAmICgxIDw8IGUpKSA+PiBlICE9IDA7XG4gICAgfTtcbiAgICB0LnByb3RvdHlwZS5nZXRMdkRhdGEgPSBmdW5jdGlvbih0LCBlLCBvKSB7XG4gICAgICAgIHZhciBuID0gdGhpcztcbiAgICAgICAgaWYgKCEodCA8IDApKSB7XG4gICAgICAgICAgICB2YXIgaSA9IHRoaXMubHZEYXRhc1t0XTtcbiAgICAgICAgICAgIGlmIChpKSByZXR1cm4gaTtcbiAgICAgICAgICAgIHZhciByID0gMTAwICogZSArIG87XG4gICAgICAgICAgICBjYy5yZXNvdXJjZXMubG9hZChcImNoYWxsZW5nZVwiLCBjYy5Kc29uQXNzZXQsIGZ1bmN0aW9uKGUsIG8pIHtcbiAgICAgICAgICAgICAgICAhZSAmJiBvICYmIG8uanNvbiAmJiBBcnJheS5pc0FycmF5KG8uanNvbikgPyAobi5sdkRhdGFzW3RdID0gby5qc29uKSA6IChuLmx2RGF0YXNbdF0gPSBuLmRlZmFsdXRMdkRhdGEpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHQucHJvdG90eXBlLmdldEx2RGF0YUJ5RGF0ZSA9IGZ1bmN0aW9uKHQsIGUsIG8pIHtcbiAgICAgICAgdmFyIG4gPSB0aGlzLmdldElkeEJ5RGF0ZSh0LCBlKTtcbiAgICAgICAgdmFyIGkgPSB0aGlzLmx2RGF0YXNbbl07XG4gICAgICAgIGlmIChpKSB7XG4gICAgICAgICAgICB2YXIgYSA9IGlbb107XG4gICAgICAgICAgICB2YXIgcyA9IF9udW1iZXJVdGlscy5kZWZhdWx0LlJhbmRvbUludCgwLCB0aGlzLmRlZmFsdXRMdkRhdGEubGVuZ3RoIC0gMSk7XG4gICAgICAgICAgICBhIHx8IChhID0gdGhpcy5kZWZhbHV0THZEYXRhW3NdKTtcbiAgICAgICAgICAgIHJldHVybiBhO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZ2V0THZEYXRhKG4sIHQsIGUpO1xuICAgICAgICByZXR1cm4gdGhpcy5kZWZhbHV0THZEYXRhW29dO1xuICAgIH07XG4gICAgdC5wcm90b3R5cGUud2luQ2hhbGxlbmdlID0gZnVuY3Rpb24odCkge1xuICAgICAgICB2YXIgZSA9IHQueWVhcjtcbiAgICAgICAgdmFyIG8gPSB0Lm1vbnRoO1xuICAgICAgICB2YXIgbiA9IHQuZGF5O1xuICAgICAgICBpZiAoIXRoaXMuZ2V0ZmluRGF0YShlLCBvKVtuIC0gMV0pIHtcbiAgICAgICAgICAgIHZhciBpID0gdGhpcy5nZXRJZHhCeURhdGUoZSwgbyk7XG4gICAgICAgICAgICB2YXIgciA9IF9wSW5mby5kZWZhdWx0Lmlucy5nZXRDaGFsbGVuZ2VEYXRhKCk7XG4gICAgICAgICAgICB2YXIgYSA9IHJbaV0gfHwgMDtcbiAgICAgICAgICAgIGEgKz0gTWF0aC5wb3coMiwgbiAtIDEpO1xuICAgICAgICAgICAgcltpXSA9IGE7XG4gICAgICAgICAgICBfcEluZm8uZGVmYXVsdC5pbnMuc2V0Q2hhbGxlbmdlRGF0YShyKTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlQ2hhbGxlbmdlRGF0YShlLCBvLCBuKTtcbiAgICAgICAgICAgIF91RGF0YS5kZWZhdWx0Lmlucy5fc2V0TG9jYWxBbmRDbG91ZERhdGEoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdC5wcm90b3R5cGUudXBkYXRlQ2hhbGxlbmdlRGF0YSA9IGZ1bmN0aW9uKHQsIGUsIG8pIHtcbiAgICAgICAgdmFyIG4gPSB0ICsgdGhpcy5hZGRaZXJvVG9OdW0oZSkgKyB0aGlzLmFkZFplcm9Ub051bShvKTtcbiAgICAgICAgX3JlcXVlc3QuZGVmYXVsdC5pbnMudXBkYXRlQ2hhbGxlbmdlRGF0YShuKTtcbiAgICB9O1xuICAgIHQucHJvdG90eXBlLmdldFJlcXVlc3RDaGFsbGVuZ2VEYXRhID0gZnVuY3Rpb24odCwgZSkge1xuICAgICAgICB2YXIgbyA9IHQgKyB0aGlzLmFkZFplcm9Ub051bShlKTtcbiAgICAgICAgcmV0dXJuIF9yZXF1ZXN0LmRlZmF1bHQuaW5zLmdldENoYWxsZW5nZURhdGEobyk7XG4gICAgfTtcbiAgICB0LnByb3RvdHlwZS5hZGRaZXJvVG9OdW0gPSBmdW5jdGlvbih0KSB7XG4gICAgICAgIGlmICh0IDwgMCkgcmV0dXJuIFwiXCI7XG4gICAgICAgIHZhciBlID0gXCJcIjtcbiAgICAgICAgdCA8IDEwICYmIChlID0gXCIwXCIpO1xuICAgICAgICByZXR1cm4gZSArIHQ7XG4gICAgfTtcbiAgICB0LnByb3RvdHlwZS5nZXRJZHhCeURhdGUgPSBmdW5jdGlvbih0LCBlKSB7XG4gICAgICAgIHJldHVybiAxMiAqICh0IC0gdGhpcy5maXJzdFllYXIpICsgKGUgLSB0aGlzLmZpcnN0TW9udGgpO1xuICAgIH07XG4gICAgdC5wcm90b3R5cGUuaXNMb2NrZWQgPSBmdW5jdGlvbih0LCBlLCBvKSB7XG4gICAgICAgIHZhciBuID0gMWUzICogX3RpbWUuZGVmYXVsdC5pbnMuc2VydmVyVGltZTtcbiAgICAgICAgdmFyIGkgPSBuZXcgRGF0ZShuKTtcbiAgICAgICAgdmFyIHIgPSBpLmdldEZ1bGxZZWFyKCk7XG4gICAgICAgIHZhciBhID0gaS5nZXRNb250aCgpICsgMTtcbiAgICAgICAgdmFyIGMgPSBpLmdldERhdGUoKSAtIDE7XG4gICAgICAgIHJldHVybiB0ICE9IHIgPyB0ID4gciA6IGUgIT0gYSA/IGUgPiBhIDogbyA+IGM7XG4gICAgfTtcbiAgICB0LnByb3RvdHlwZS5nZXRDaGFQYWNrRGF0YSA9IGZ1bmN0aW9uKHQsIGUpIHtcbiAgICAgICAgZm9yIChcbiAgICAgICAgICAgIHZhciBvID0gdGhpcy5nZXRJZHhCeURhdGUodCwgZSksIG4gPSBfcEluZm8uZGVmYXVsdC5pbnMuZ2V0Q2hhbGxlbmdlUGFja0RhdGEoKVtvXSB8fCAwLCBpID0gW10sIHIgPSAwOyByIDwgNDsgcisrXG4gICAgICAgICkge1xuICAgICAgICAgICAgdmFyIGEgPSB0aGlzLmdldElzRmluKG4sIHIpO1xuICAgICAgICAgICAgaS5wdXNoKGEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpO1xuICAgIH07XG4gICAgdC5wcm90b3R5cGUuc2V0Q2hhUGFja0RhdGEgPSBmdW5jdGlvbih0LCBlLCBvKSB7XG4gICAgICAgIHZhciBuID0gdGhpcy5nZXRJZHhCeURhdGUodCwgZSk7XG4gICAgICAgIHZhciBpID0gX3BJbmZvLmRlZmF1bHQuaW5zLmdldENoYWxsZW5nZVBhY2tEYXRhKCk7XG4gICAgICAgIHZhciByID0gaVtuXSB8fCAwO1xuICAgICAgICByICs9IE1hdGgucG93KDIsIG8pO1xuICAgICAgICBpW25dID0gcjtcbiAgICAgICAgX3BJbmZvLmRlZmF1bHQuaW5zLnNldENoYWxsZW5nZVBhY2tEYXRhKGkpO1xuICAgIH07XG4gICAgdC5wcm90b3R5cGUuZ2V0TW9udGhSZWQgPSBmdW5jdGlvbih0LCBlKSB7XG4gICAgICAgIGZvciAodmFyIG8gPSB0aGlzLmdldEZpbkx2TnVtKHQsIGUpLCBuID0gdGhpcy5nZXRDaGFQYWNrRGF0YSh0LCBlKSwgaSA9IDAsIHIgPSAwOyByIDwgNDsgcisrKVxuICAgICAgICAgICAgbyA+PSA3ICogKHIgKyAxKSAmJiAhbltyXSAmJiBpKys7XG4gICAgICAgIHJldHVybiBpO1xuICAgIH07XG4gICAgdC5wcm90b3R5cGUuZ2V0QmVmb3JlTW9udGhSZWQgPSBmdW5jdGlvbih0LCBlKSB7XG4gICAgICAgIGZvciAodmFyIG8gPSB0LCBuID0gZSwgaSA9IHRoaXMuZ2V0SWR4QnlEYXRlKG8sIG4pICsgMSwgciA9IDAsIGEgPSAwOyBhIDwgaTsgYSsrKVxuICAgICAgICAgICAgKHIgKz0gdGhpcy5nZXRNb250aFJlZChvLCBuKSksIC0tbiA8IDEgJiYgKChvIC09IDEpLCAobiA9IDEyKSk7XG4gICAgICAgIHJldHVybiByO1xuICAgIH07XG4gICAgdC5wcm90b3R5cGUuZ2V0QWxsTW9udGhSZWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHQgPSAxZTMgKiBfdGltZS5kZWZhdWx0Lmlucy5zZXJ2ZXJUaW1lO1xuICAgICAgICB2YXIgZSA9IG5ldyBEYXRlKHQpO1xuICAgICAgICB2YXIgbyA9IGUuZ2V0RnVsbFllYXIoKTtcbiAgICAgICAgdmFyIG4gPSBlLmdldE1vbnRoKCkgKyAxO1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRCZWZvcmVNb250aFJlZChvLCBuKTtcbiAgICB9O1xuICAgIHJldHVybiB0O1xufSkoKTtcbmV4cG9ydHMuZGVmYXVsdCA9IHA7Il19