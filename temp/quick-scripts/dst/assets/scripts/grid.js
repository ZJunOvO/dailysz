
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/grid.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '0adafKMQFRHBqpLMtwJNSJZ', 'grid');
// scripts/grid.js

"use strict";

//电子邮件puhalskijsemen@gmail.com
//源码网站 开vpn全局模式打开 http://web3incubators.com/
//电报https://t.me/gamecode999
//网页客服 http://web3incubators.com/kefu.html
var n;
Object.defineProperty(exports, "__esModule", {
  value: !0
});
exports.GridState = void 0;

var _evts = require("evts");

var _sound = require("sound");

var c = cc._decorator;
var l = c.ccclass;
var u = c.property;

(function (t) {
  t[t.empty = 0] = "empty";
  t[t.rightTile = 1] = "rightTile";
  t[t.wrongTile = 2] = "wrongTile";
  t[t.rightCross = 3] = "rightCross";
  t[t.wrongCross = 4] = "wrongCross";
})(exports.GridState || (exports.GridState = {}));

var p = function (t) {
  function e() {
    var e = null !== t && t.apply(this, arguments) || this;
    e.emptyNode = null;
    e.itemTipNode = null;
    e.itemTipAni = null;
    e.stateNodes = [];
    e.anis = [];
    e.crossShineNode = null;
    e.crossShineAni = null;
    e.norSf = null;
    e.tileSp = null;
    e.tileHLSp = null;
    e.isEmpty = !0;
    return e;
  }

  __extends(e, t);

  e.prototype.onLoad = function () {
    for (var t = function t(_t) {
      _t.on(cc.Animation.EventType.FINISHED, function () {
        _t.node.active = !1;
      }, e);
    }, e = this, o = 0, n = this.anis; o < n.length; o++) {
      t(n[o]);
    }
  };

  e.prototype.shine = function () {
    if (this.isEmpty) {
      var t = this.crossShineNode;
      (t.active = !t.active) && this.crossShineAni.play();
    }
  };

  e.prototype.init = function (t) {
    this.isRight = t > 0 ? 1 : 0;
  };

  e.prototype.initType = function (t, e) {
    var o = t || this.norSf;
    this.tileSp.spriteFrame = this.tileHLSp.spriteFrame = o;
    e && (this.itemTipNode.getComponent(cc.Sprite).spriteFrame = e);
  };

  e.prototype.select = function (t, e) {
    if (void 0 === e && (e = !1), this.isEmpty) {
      this.isEmpty = !1;
      this.emptyNode.active = this.crossShineNode.active = !1;
      this.itemTipNode && (this.itemTipNode.active = !1);
      this.unschedule(this.tipShine);
      var o = this.isRight;
      var n = 0;
      e || (n = (t << 1) + o);
      var i = this.stateNodes[n];
      i.active = !0;
      i.getComponent(cc.Animation).play();
      e || 3 == n || _sound["default"].ins.play(0 == n ? _sound["default"].RIGHT : _sound["default"].ERROR);
      this.aniIdx = n < 2 ? 0 : 1;

      _evts["default"].opE.emit({
        action: _evts["default"].UPDATESCORE
      });

      e || 1 != n && 2 != n || _evts["default"].opE.emit({
        action: _evts["default"].LOSEHEART,
        data: this.node.position
      });
    }
  };

  e.prototype.playWormAni = function (t) {
    this.isEmpty || cc.tween(this.node).delay(t).to(7 / 30, {
      scale: 1.5
    }).to(5 / 30, {
      opacity: 0
    }).start();
  };

  e.prototype.playItemTip = function (t) {
    if (this.isEmpty) {
      var e = this.itemTipNode;
      this.unschedule(this.tipShine);
      e.active = t;
      t ? this.scheduleOnce(this.tipShine, 2 * Math.random()) : (this.itemTipAni.stop(), this.itemTipNode.opacity = 0);
    }
  };

  e.prototype.tipShine = function () {
    this.isEmpty ? (this.itemTipNode.active = !0, this.itemTipAni.play()) : this.unschedule(this.tipShine);
  };

  e.prototype.playHL = function (t) {
    this.isEmpty || (this.unschedule(this._playHL), this.scheduleOnce(this._playHL, t));
  };

  e.prototype._playHL = function () {
    var t = this.anis[this.aniIdx];
    t.node.active = !0;
    t.play();
  };

  e.prototype.playShow = function (t) {
    cc.tween(this.node).delay(6 * (Math.random() + 1.5) / 60).to(0.1, {
      scale: t + 0.2
    }).to(0.05, {
      scaleX: t - 0.1,
      scaleY: t - 0.3
    }).to(0.05, {
      scaleX: t + 0.1,
      scaleY: t + 0.1
    }).to(0.05, {
      scale: t
    }).start();
  };

  e.prototype.playFallDown = function () {
    var t = this;
    cc.tween(this.node).by(0.1, {
      angle: 60 * Math.random() - 30
    }).to(1, {
      y: -1e3
    }, {
      easing: "quadOut"
    }).call(function () {
      t.node.destroy();
    }).start();
  };

  e.prototype.playWalk = function (t) {
    var e = this.node;
    var o = e.scale;
    var n = cc.tween(e).to(0.1, {
      position: t
    });
    var i = cc.tween(e).to(0.05, {
      scale: o - 0.4
    }, {
      easing: "cubicOut"
    }).to(0.1, {
      scale: o
    }, {
      easing: "cubicIn"
    });
    cc.tween(e).delay(6 * (Math.random() + 0.5) / 60).parallel(n, i).start();
  };

  __decorate([u(cc.Node)], e.prototype, "emptyNode", void 0);

  __decorate([u(cc.Node)], e.prototype, "itemTipNode", void 0);

  __decorate([u(cc.Animation)], e.prototype, "itemTipAni", void 0);

  __decorate([u([cc.Node])], e.prototype, "stateNodes", void 0);

  __decorate([u([cc.Animation])], e.prototype, "anis", void 0);

  __decorate([u(cc.Node)], e.prototype, "crossShineNode", void 0);

  __decorate([u(cc.Animation)], e.prototype, "crossShineAni", void 0);

  __decorate([u(cc.SpriteFrame)], e.prototype, "norSf", void 0);

  __decorate([u(cc.Sprite)], e.prototype, "tileSp", void 0);

  __decorate([u(cc.Sprite)], e.prototype, "tileHLSp", void 0);

  return __decorate([l], e);
}(cc.Component);

exports["default"] = p;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcZ3JpZC5qcyJdLCJuYW1lcyI6WyJuIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwidmFsdWUiLCJHcmlkU3RhdGUiLCJfZXZ0cyIsInJlcXVpcmUiLCJfc291bmQiLCJjIiwiY2MiLCJfZGVjb3JhdG9yIiwibCIsImNjY2xhc3MiLCJ1IiwicHJvcGVydHkiLCJ0IiwiZW1wdHkiLCJyaWdodFRpbGUiLCJ3cm9uZ1RpbGUiLCJyaWdodENyb3NzIiwid3JvbmdDcm9zcyIsInAiLCJlIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJlbXB0eU5vZGUiLCJpdGVtVGlwTm9kZSIsIml0ZW1UaXBBbmkiLCJzdGF0ZU5vZGVzIiwiYW5pcyIsImNyb3NzU2hpbmVOb2RlIiwiY3Jvc3NTaGluZUFuaSIsIm5vclNmIiwidGlsZVNwIiwidGlsZUhMU3AiLCJpc0VtcHR5IiwiX19leHRlbmRzIiwicHJvdG90eXBlIiwib25Mb2FkIiwib24iLCJBbmltYXRpb24iLCJFdmVudFR5cGUiLCJGSU5JU0hFRCIsIm5vZGUiLCJhY3RpdmUiLCJvIiwibGVuZ3RoIiwic2hpbmUiLCJwbGF5IiwiaW5pdCIsImlzUmlnaHQiLCJpbml0VHlwZSIsInNwcml0ZUZyYW1lIiwiZ2V0Q29tcG9uZW50IiwiU3ByaXRlIiwic2VsZWN0IiwidW5zY2hlZHVsZSIsInRpcFNoaW5lIiwiaSIsImlucyIsIlJJR0hUIiwiRVJST1IiLCJhbmlJZHgiLCJvcEUiLCJlbWl0IiwiYWN0aW9uIiwiVVBEQVRFU0NPUkUiLCJMT1NFSEVBUlQiLCJkYXRhIiwicG9zaXRpb24iLCJwbGF5V29ybUFuaSIsInR3ZWVuIiwiZGVsYXkiLCJ0byIsInNjYWxlIiwib3BhY2l0eSIsInN0YXJ0IiwicGxheUl0ZW1UaXAiLCJzY2hlZHVsZU9uY2UiLCJNYXRoIiwicmFuZG9tIiwic3RvcCIsInBsYXlITCIsIl9wbGF5SEwiLCJwbGF5U2hvdyIsInNjYWxlWCIsInNjYWxlWSIsInBsYXlGYWxsRG93biIsImJ5IiwiYW5nbGUiLCJ5IiwiZWFzaW5nIiwiY2FsbCIsImRlc3Ryb3kiLCJwbGF5V2FsayIsInBhcmFsbGVsIiwiX19kZWNvcmF0ZSIsIk5vZGUiLCJTcHJpdGVGcmFtZSIsIkNvbXBvbmVudCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUlBLENBQUo7QUFDQUMsTUFBTSxDQUFDQyxjQUFQLENBQXNCQyxPQUF0QixFQUErQixZQUEvQixFQUE2QztFQUFDQyxLQUFLLEVBQUUsQ0FBQztBQUFULENBQTdDO0FBQ0FELE9BQU8sQ0FBQ0UsU0FBUixHQUFvQixLQUFLLENBQXpCOztBQUNBLElBQUlDLEtBQUssR0FBR0MsT0FBTyxDQUFDLE1BQUQsQ0FBbkI7O0FBQ0EsSUFBSUMsTUFBTSxHQUFHRCxPQUFPLENBQUMsT0FBRCxDQUFwQjs7QUFDQSxJQUFJRSxDQUFDLEdBQUdDLEVBQUUsQ0FBQ0MsVUFBWDtBQUNBLElBQUlDLENBQUMsR0FBR0gsQ0FBQyxDQUFDSSxPQUFWO0FBQ0EsSUFBSUMsQ0FBQyxHQUFHTCxDQUFDLENBQUNNLFFBQVY7O0FBQ0EsQ0FBQyxVQUFVQyxDQUFWLEVBQWE7RUFDVkEsQ0FBQyxDQUFFQSxDQUFDLENBQUNDLEtBQUYsR0FBVSxDQUFaLENBQUQsR0FBbUIsT0FBbkI7RUFDQUQsQ0FBQyxDQUFFQSxDQUFDLENBQUNFLFNBQUYsR0FBYyxDQUFoQixDQUFELEdBQXVCLFdBQXZCO0VBQ0FGLENBQUMsQ0FBRUEsQ0FBQyxDQUFDRyxTQUFGLEdBQWMsQ0FBaEIsQ0FBRCxHQUF1QixXQUF2QjtFQUNBSCxDQUFDLENBQUVBLENBQUMsQ0FBQ0ksVUFBRixHQUFlLENBQWpCLENBQUQsR0FBd0IsWUFBeEI7RUFDQUosQ0FBQyxDQUFFQSxDQUFDLENBQUNLLFVBQUYsR0FBZSxDQUFqQixDQUFELEdBQXdCLFlBQXhCO0FBQ0gsQ0FORCxFQU1HbEIsT0FBTyxDQUFDRSxTQUFSLEtBQXNCRixPQUFPLENBQUNFLFNB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Q0FBRCxFQUFlM0UsQ0FBQyxDQUFDZSxTQUFqQixFQUE0QixnQkFBNUIsRUFBOEMsS0FBSyxDQUFuRCxDQUFWOztFQUNBMkQsVUFBVSxDQUFDLENBQUNuRixDQUFDLENBQUNKLEVBQUUsQ0FBQytCLFNBQUosQ0FBRixDQUFELEVBQW9CbEIsQ0FBQyxDQUFDZSxTQUF0QixFQUFpQyxlQUFqQyxFQUFrRCxLQUFLLENBQXZELENBQVY7O0VBQ0EyRCxVQUFVLENBQUMsQ0FBQ25GLENBQUMsQ0FBQ0osRUFBRSxDQUFDeUYsV0FBSixDQUFGLENBQUQsRUFBc0I1RSxDQUFDLENBQUNlLFNBQXhCLEVBQW1DLE9BQW5DLEVBQTRDLEtBQUssQ0FBakQsQ0FBVjs7RUFDQTJELFVBQVUsQ0FBQyxDQUFDbkYsQ0FBQyxDQUFDSixFQUFFLENBQUM2QyxNQUFKLENBQUYsQ0FBRCxFQUFpQmhDLENBQUMsQ0FBQ2UsU0FBbkIsRUFBOEIsUUFBOUIsRUFBd0MsS0FBSyxDQUE3QyxDQUFWOztFQUNBMkQsVUFBVSxDQUFDLENBQUNuRixDQUFDLENBQUNKLEVBQUUsQ0FBQzZDLE1BQUosQ0FBRixDQUFELEVBQWlCaEMsQ0FBQyxDQUFDZSxTQUFuQixFQUE4QixVQUE5QixFQUEwQyxLQUFLLENBQS9DLENBQVY7O0VBQ0EsT0FBTzJELFVBQVUsQ0FBQyxDQUFDckYsQ0FBRCxDQUFELEVBQU1XLENBQU4sQ0FBakI7QUFDSCxDQS9JTyxDQStJTGIsRUFBRSxDQUFDMEYsU0EvSUUsQ0FBUjs7QUFnSkFqRyxPQUFPLFdBQVAsR0FBa0JtQixDQUFsQiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiLy/nlLXlrZDpgq7ku7ZwdWhhbHNraWpzZW1lbkBnbWFpbC5jb21cbi8v5rqQ56CB572R56uZIOW8gHZwbuWFqOWxgOaooeW8j+aJk+W8gCBodHRwOi8vd2ViM2luY3ViYXRvcnMuY29tL1xuLy/nlLXmiqVodHRwczovL3QubWUvZ2FtZWNvZGU5OTlcbi8v572R6aG15a6i5pyNIGh0dHA6Ly93ZWIzaW5jdWJhdG9ycy5jb20va2VmdS5odG1sXG52YXIgbjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge3ZhbHVlOiAhMH0pO1xuZXhwb3J0cy5HcmlkU3RhdGUgPSB2b2lkIDA7XG52YXIgX2V2dHMgPSByZXF1aXJlKFwiZXZ0c1wiKTtcbnZhciBfc291bmQgPSByZXF1aXJlKFwic291bmRcIik7XG52YXIgYyA9IGNjLl9kZWNvcmF0b3I7XG52YXIgbCA9IGMuY2NjbGFzcztcbnZhciB1ID0gYy5wcm9wZXJ0eTtcbihmdW5jdGlvbiAodCkge1xuICAgIHRbKHQuZW1wdHkgPSAwKV0gPSBcImVtcHR5XCI7XG4gICAgdFsodC5yaWdodFRpbGUgPSAxKV0gPSBcInJpZ2h0VGlsZVwiO1xuICAgIHRbKHQud3JvbmdUaWxlID0gMildID0gXCJ3cm9uZ1RpbGVcIjtcbiAgICB0Wyh0LnJpZ2h0Q3Jvc3MgPSAzKV0gPSBcInJpZ2h0Q3Jvc3NcIjtcbiAgICB0Wyh0Lndyb25nQ3Jvc3MgPSA0KV0gPSBcIndyb25nQ3Jvc3NcIjtcbn0pKGV4cG9ydHMuR3JpZFN0YXRlIHx8IChleHBvcnRzLkdyaWRTdGF0ZSA9IHt9KSk7XG52YXIgcCA9IChmdW5jdGlvbiAodCkge1xuICAgIGZ1bmN0aW9uIGUoKSB7XG4gICAgICAgIHZhciBlID0gKG51bGwgIT09IHQgJiYgdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpKSB8fCB0aGlzO1xuICAgICAgICBlLmVtcHR5Tm9kZSA9IG51bGw7XG4gICAgICAgIGUuaXRlbVRpcE5vZGUgPSBudWxsO1xuICAgICAgICBlLml0ZW1UaXBBbmkgPSBudWxsO1xuICAgICAgICBlLnN0YXRlTm9kZXMgPSBbXTtcbiAgICAgICAgZS5hbmlzID0gW107XG4gICAgICAgIGUuY3Jvc3NTaGluZU5vZGUgPSBudWxsO1xuICAgICAgICBlLmNyb3NzU2hpbmVBbmkgPSBudWxsO1xuICAgICAgICBlLm5vclNmID0gbnVsbDtcbiAgICAgICAgZS50aWxlU3AgPSBudWxsO1xuICAgICAgICBlLnRpbGVITFNwID0gbnVsbDtcbiAgICAgICAgZS5pc0VtcHR5ID0gITA7XG4gICAgICAgIHJldHVybiBlO1xuICAgIH1cbiAgICBfX2V4dGVuZHMoZSwgdCk7XG4gICAgZS5wcm90b3R5cGUub25Mb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBmb3IgKFxuICAgICAgICAgICAgdmFyIHQgPSBmdW5jdGlvbiAodCkge1xuICAgICAgICAgICAgICAgICAgICB0Lm9uKFxuICAgICAgICAgICAgICAgICAgICAgICAgY2MuQW5pbWF0aW9uLkV2ZW50VHlwZS5GSU5JU0hFRCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0Lm5vZGUuYWN0aXZlID0gITE7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgZVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZSA9IHRoaXMsXG4gICAgICAgICAgICAgICAgbyA9IDAsXG4gICAgICAgICAgICAgICAgbiA9IHRoaXMuYW5pcztcbiAgICAgICAgICAgIG8gPCBuLmxlbmd0aDtcbiAgICAgICAgICAgIG8rK1xuICAgICAgICApXG4gICAgICAgICAgICB0KG5bb10pO1xuICAgIH07XG4gICAgZS5wcm90b3R5cGUuc2hpbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmlzRW1wdHkpIHtcbiAgICAgICAgICAgIHZhciB0ID0gdGhpcy5jcm9zc1NoaW5lTm9kZTtcbiAgICAgICAgICAgICh0LmFjdGl2ZSA9ICF0LmFjdGl2ZSkgJiYgdGhpcy5jcm9zc1NoaW5lQW5pLnBsYXkoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgZS5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uICh0KSB7XG4gICAgICAgIHRoaXMuaXNSaWdodCA9IHQgPiAwID8gMSA6IDA7XG4gICAgfTtcbiAgICBlLnByb3RvdHlwZS5pbml0VHlwZSA9IGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgICAgIHZhciBvID0gdCB8fCB0aGlzLm5vclNmO1xuICAgICAgICB0aGlzLnRpbGVTcC5zcHJpdGVGcmFtZSA9IHRoaXMudGlsZUhMU3Auc3ByaXRlRnJhbWUgPSBvO1xuICAgICAgICBlICYmICh0aGlzLml0ZW1UaXBOb2RlLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gZSk7XG4gICAgfTtcbiAgICBlLnByb3RvdHlwZS5zZWxlY3QgPSBmdW5jdGlvbiAodCwgZSkge1xuICAgICAgICBpZiAoKHZvaWQgMCA9PT0gZSAmJiAoZSA9ICExKSwgdGhpcy5pc0VtcHR5KSkge1xuICAgICAgICAgICAgdGhpcy5pc0VtcHR5ID0gITE7XG4gICAgICAgICAgICB0aGlzLmVtcHR5Tm9kZS5hY3RpdmUgPSB0aGlzLmNyb3NzU2hpbmVOb2RlLmFjdGl2ZSA9ICExO1xuICAgICAgICAgICAgdGhpcy5pdGVtVGlwTm9kZSAmJiAodGhpcy5pdGVtVGlwTm9kZS5hY3RpdmUgPSAhMSk7XG4gICAgICAgICAgICB0aGlzLnVuc2NoZWR1bGUodGhpcy50aXBTaGluZSk7XG4gICAgICAgICAgICB2YXIgbyA9IHRoaXMuaXNSaWdodDtcbiAgICAgICAgICAgIHZhciBuID0gMDtcbiAgICAgICAgICAgIGUgfHwgKG4gPSAodCA8PCAxKSArIG8pO1xuICAgICAgICAgICAgdmFyIGkgPSB0aGlzLnN0YXRlTm9kZXNbbl07XG4gICAgICAgICAgICBpLmFjdGl2ZSA9ICEwO1xuICAgICAgICAgICAgaS5nZXRDb21wb25lbnQoY2MuQW5pbWF0aW9uKS5wbGF5KCk7XG4gICAgICAgICAgICBlIHx8IDMgPT0gbiB8fCBfc291bmQuZGVmYXVsdC5pbnMucGxheSgwID09IG4gPyBfc291bmQuZGVmYXVsdC5SSUdIVCA6IF9zb3VuZC5kZWZhdWx0LkVSUk9SKTtcbiAgICAgICAgICAgIHRoaXMuYW5pSWR4ID0gbiA8IDIgPyAwIDogMTtcbiAgICAgICAgICAgIF9ldnRzLmRlZmF1bHQub3BFLmVtaXQoe2FjdGlvbjogX2V2dHMuZGVmYXVsdC5VUERBVEVTQ09SRX0pO1xuICAgICAgICAgICAgZSB8fFxuICAgICAgICAgICAgICAgICgxICE9IG4gJiYgMiAhPSBuKSB8fFxuICAgICAgICAgICAgICAgIF9ldnRzLmRlZmF1bHQub3BFLmVtaXQoe2FjdGlvbjogX2V2dHMuZGVmYXVsdC5MT1NFSEVBUlQsIGRhdGE6IHRoaXMubm9kZS5wb3NpdGlvbn0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBlLnByb3RvdHlwZS5wbGF5V29ybUFuaSA9IGZ1bmN0aW9uICh0KSB7XG4gICAgICAgIHRoaXMuaXNFbXB0eSB8fFxuICAgICAgICAgICAgY2NcbiAgICAgICAgICAgICAgICAudHdlZW4odGhpcy5ub2RlKVxuICAgICAgICAgICAgICAgIC5kZWxheSh0KVxuICAgICAgICAgICAgICAgIC50byg3IC8gMzAsIHtzY2FsZTogMS41fSlcbiAgICAgICAgICAgICAgICAudG8oNSAvIDMwLCB7b3BhY2l0eTogMH0pXG4gICAgICAgICAgICAgICAgLnN0YXJ0KCk7XG4gICAgfTtcbiAgICBlLnByb3RvdHlwZS5wbGF5SXRlbVRpcCA9IGZ1bmN0aW9uICh0KSB7XG4gICAgICAgIGlmICh0aGlzLmlzRW1wdHkpIHtcbiAgICAgICAgICAgIHZhciBlID0gdGhpcy5pdGVtVGlwTm9kZTtcbiAgICAgICAgICAgIHRoaXMudW5zY2hlZHVsZSh0aGlzLnRpcFNoaW5lKTtcbiAgICAgICAgICAgIGUuYWN0aXZlID0gdDtcbiAgICAgICAgICAgIHRcbiAgICAgICAgICAgICAgICA/IHRoaXMuc2NoZWR1bGVPbmNlKHRoaXMudGlwU2hpbmUsIDIgKiBNYXRoLnJhbmRvbSgpKVxuICAgICAgICAgICAgICAgIDogKHRoaXMuaXRlbVRpcEFuaS5zdG9wKCksICh0aGlzLml0ZW1UaXBOb2RlLm9wYWNpdHkgPSAwKSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGUucHJvdG90eXBlLnRpcFNoaW5lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmlzRW1wdHkgPyAoKHRoaXMuaXRlbVRpcE5vZGUuYWN0aXZlID0gITApLCB0aGlzLml0ZW1UaXBBbmkucGxheSgpKSA6IHRoaXMudW5zY2hlZHVsZSh0aGlzLnRpcFNoaW5lKTtcbiAgICB9O1xuICAgIGUucHJvdG90eXBlLnBsYXlITCA9IGZ1bmN0aW9uICh0KSB7XG4gICAgICAgIHRoaXMuaXNFbXB0eSB8fCAodGhpcy51bnNjaGVkdWxlKHRoaXMuX3BsYXlITCksIHRoaXMuc2NoZWR1bGVPbmNlKHRoaXMuX3BsYXlITCwgdCkpO1xuICAgIH07XG4gICAgZS5wcm90b3R5cGUuX3BsYXlITCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHQgPSB0aGlzLmFuaXNbdGhpcy5hbmlJZHhdO1xuICAgICAgICB0Lm5vZGUuYWN0aXZlID0gITA7XG4gICAgICAgIHQucGxheSgpO1xuICAgIH07XG4gICAgZS5wcm90b3R5cGUucGxheVNob3cgPSBmdW5jdGlvbiAodCkge1xuICAgICAgICBjYy50d2Vlbih0aGlzLm5vZGUpXG4gICAgICAgICAgICAuZGVsYXkoKDYgKiAoTWF0aC5yYW5kb20oKSArIDEuNSkpIC8gNjApXG4gICAgICAgICAgICAudG8oMC4xLCB7c2NhbGU6IHQgKyAwLjJ9KVxuICAgICAgICAgICAgLnRvKDAuMDUsIHtzY2FsZVg6IHQgLSAwLjEsIHNjYWxlWTogdCAtIDAuM30pXG4gICAgICAgICAgICAudG8oMC4wNSwge3NjYWxlWDogdCArIDAuMSwgc2NhbGVZOiB0ICsgMC4xfSlcbiAgICAgICAgICAgIC50bygwLjA1LCB7c2NhbGU6IHR9KVxuICAgICAgICAgICAgLnN0YXJ0KCk7XG4gICAgfTtcbiAgICBlLnByb3RvdHlwZS5wbGF5RmFsbERvd24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB0ID0gdGhpcztcbiAgICAgICAgY2MudHdlZW4odGhpcy5ub2RlKVxuICAgICAgICAgICAgLmJ5KDAuMSwge2FuZ2xlOiA2MCAqIE1hdGgucmFuZG9tKCkgLSAzMH0pXG4gICAgICAgICAgICAudG8oMSwge3k6IC0xZTN9LCB7ZWFzaW5nOiBcInF1YWRPdXRcIn0pXG4gICAgICAgICAgICAuY2FsbChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdC5ub2RlLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuc3RhcnQoKTtcbiAgICB9O1xuICAgIGUucHJvdG90eXBlLnBsYXlXYWxrID0gZnVuY3Rpb24gKHQpIHtcbiAgICAgICAgdmFyIGUgPSB0aGlzLm5vZGU7XG4gICAgICAgIHZhciBvID0gZS5zY2FsZTtcbiAgICAgICAgdmFyIG4gPSBjYy50d2VlbihlKS50bygwLjEsIHtwb3NpdGlvbjogdH0pO1xuICAgICAgICB2YXIgaSA9IGNjXG4gICAgICAgICAgICAudHdlZW4oZSlcbiAgICAgICAgICAgIC50bygwLjA1LCB7c2NhbGU6IG8gLSAwLjR9LCB7ZWFzaW5nOiBcImN1YmljT3V0XCJ9KVxuICAgICAgICAgICAgLnRvKDAuMSwge3NjYWxlOiBvfSwge2Vhc2luZzogXCJjdWJpY0luXCJ9KTtcbiAgICAgICAgY2MudHdlZW4oZSlcbiAgICAgICAgICAgIC5kZWxheSgoNiAqIChNYXRoLnJhbmRvbSgpICsgMC41KSkgLyA2MClcbiAgICAgICAgICAgIC5wYXJhbGxlbChuLCBpKVxuICAgICAgICAgICAgLnN0YXJ0KCk7XG4gICAgfTtcbiAgICBfX2RlY29yYXRlKFt1KGNjLk5vZGUpXSwgZS5wcm90b3R5cGUsIFwiZW1wdHlOb2RlXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbdShjYy5Ob2RlKV0sIGUucHJvdG90eXBlLCBcIml0ZW1UaXBOb2RlXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbdShjYy5BbmltYXRpb24pXSwgZS5wcm90b3R5cGUsIFwiaXRlbVRpcEFuaVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW3UoW2NjLk5vZGVdKV0sIGUucHJvdG90eXBlLCBcInN0YXRlTm9kZXNcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFt1KFtjYy5BbmltYXRpb25dKV0sIGUucHJvdG90eXBlLCBcImFuaXNcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFt1KGNjLk5vZGUpXSwgZS5wcm90b3R5cGUsIFwiY3Jvc3NTaGluZU5vZGVcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFt1KGNjLkFuaW1hdGlvbildLCBlLnByb3RvdHlwZSwgXCJjcm9zc1NoaW5lQW5pXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbdShjYy5TcHJpdGVGcmFtZSldLCBlLnByb3RvdHlwZSwgXCJub3JTZlwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW3UoY2MuU3ByaXRlKV0sIGUucHJvdG90eXBlLCBcInRpbGVTcFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW3UoY2MuU3ByaXRlKV0sIGUucHJvdG90eXBlLCBcInRpbGVITFNwXCIsIHZvaWQgMCk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGUoW2xdLCBlKTtcbn0pKGNjLkNvbXBvbmVudCk7XG5leHBvcnRzLmRlZmF1bHQgPSBwO1xuIl19