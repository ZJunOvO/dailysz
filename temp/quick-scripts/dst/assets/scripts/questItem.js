
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/questItem.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '5625bI4JLpBOohvs4j5MumY', 'questItem');
// scripts/questItem.js

"use strict";

var n;
Object.defineProperty(exports, "__esModule", {
  value: !0
});

var _evts = require("evts");

var _idx = require("idx");

var _veBtn = require("veBtn");

var _lang = require("lang");

var _panelMgr = require("panelMgr");

var _taskMgr = require("taskMgr");

var _loading = require("loading");

var _item = require("item");

var y = cc._decorator;
var m = y.ccclass;
var v = y.property;

var _ = function (t) {
  function e() {
    var e = null !== t && t.apply(this, arguments) || this;
    e.nameLbl = null;
    e.itemsNode = null;
    e.itemPrefab = null;
    e.pro = null;
    e.proLbl = null;
    e.getBtnNode = null;
    e.goBtnNode = null;
    e.adNode = null;
    e.goImgNode = null;
    e.scrollView = null;
    e.getedNode = null;
    e.questPool = new cc.NodePool(_item["default"]);
    e.eventFunc = null;
    return e;
  }

  __extends(e, t);

  e.prototype.init = function (t) {
    for (var e in this._taskData = t, this.nameLbl.string = _lang.lang[t.temp.key], this.nameLbl.font = _loading.DEFAULTFONT, this.pro.progress = 0, this.scrollView.node.width = 360, cc.tween(this.pro).to(0.5, {
      progress: t.data.count / t.temp.nums
    }).start(), this.proLbl.string = t.data.count + "/" + t.temp.nums, t.temp.val) {
      if (t.temp.val.hasOwnProperty(e)) {
        var o = this.questPool.get();
        o || (o = cc.instantiate(this.itemPrefab));
        this.scrollView.content.addChild(o);
        o.getComponent(_item["default"]).init(t.temp, e);
      }
    }

    var n = this.scrollView.content.children[0].width * this.scrollView.content.childrenCount;

    if (this.scrollView.node.x = n > this.scrollView.node.width ? -283 : (this.scrollView.node.width - n) / 2 - 283, n = Math.min(n, 360), this.scrollView.node.width = n, this.scrollView.scrollToLeft(), this.adNode.active = !1, this.goImgNode.x = 0, this.goBtnNode.getComponent(_veBtn["default"]) && this.goBtnNode.removeComponent(_veBtn["default"]), t.temp.get_by == _taskMgr.TaskType.ad_reward) {
      var i = this.goBtnNode.addComponent(_veBtn["default"]);
      var r = new cc.Component.EventHandler();
      r.target = this.node;
      r.component = "questItem";
      r.handler = "onWatchEnd";
      "task_1" == t.temp.key && (r.customEventData = "每日任务-道具礼包");
      i.onWatchEndEvent = r;
      this.adNode.active = !0;
      this.goImgNode.x = 25;
    }

    this.goBtnNode.active = this._taskData.data.state === _taskMgr.taskState.Receive;
    this.getBtnNode.active = this._taskData.data.state === _taskMgr.taskState.Finish;
    this.getedNode.active = this._taskData.data.state === _taskMgr.taskState.Rewared;
  };

  e.prototype.updateTask = function (t) {
    t && t.temp.key == this._taskData.temp.key && (this._taskData = t, cc.tween(this.pro).to(0.5, {
      progress: t.data.count / t.temp.nums
    }).start(), this.proLbl.string = t.data.count + "/" + t.temp.nums, this.goBtnNode.active = this._taskData.data.state === _taskMgr.taskState.Receive, this.getBtnNode.active = this._taskData.data.state === _taskMgr.taskState.Finish, this.getedNode.active = this._taskData.data.state === _taskMgr.taskState.Rewared);
  };

  e.prototype.unuse = function () {
    var t = this;
    this.scrollView.content.children.forEach(function (e) {
      t.questPool.put(e);
    });
    this.scrollView.content.removeAllChildren();
  };

  e.prototype.reuse = function () {};

  e.prototype.onOperTap = function (t) {
    var e = null == t ? void 0 : t.action;
    if (e) switch (e) {
      case _evts["default"].UPDTASK:
        this.updateTask(t.data);
    }
  };

  e.prototype.onEnable = function () {
    this.goBtnNode.on("click", this.jumpPage, this);
    this.getBtnNode.on("click", this.onAward, this);
    this.eventFunc = this.onOperTap.bind(this);

    _evts["default"].opE.on(this.eventFunc);
  };

  e.prototype.onDisable = function () {
    this.goBtnNode.off("click", this.jumpPage, this);
    this.getBtnNode.off("click", this.onAward, this);

    _evts["default"].opE.off(this.eventFunc);

    this.eventFunc = null;
  };

  e.prototype.jumpPage = function (t) {
    var e;
    return __awaiter(this, void 0, void 0, function () {
      return __generator(this, function (o) {
        switch (o.label) {
          case 0:
            if (this._taskData.data.state != _taskMgr.taskState.Receive) return [2];

            switch (this._taskData.temp.get_by) {
              case "ad_reward":
                return [3, 1];

              case "cg_line":
                return [3, 2];

              case "qw_line":
                return [3, 3];

              case "daily_challenge":
                return [3, 4];

              case "share":
                return [3, 5];
            }

            return [3, 7];

          case 1:
            return null === (e = this.goBtnNode.getComponent(_veBtn["default"])) || void 0 === e || e.onClick(t), [3, 8];

          case 2:
            return _panelMgr["default"].ins.closeAllPanel(), _evts["default"].opE.emit({
              action: _evts["default"].MAINJUMP,
              data: 2
            }), [3, 8];

          case 3:
            return _panelMgr["default"].ins.closeAllPanel(), _evts["default"].opE.emit({
              action: _evts["default"].MAINJUMP,
              data: 4
            }), [3, 8];

          case 4:
            return _panelMgr["default"].ins.closeAllPanel(), _evts["default"].opE.emit({
              action: _evts["default"].MAINJUMP,
              data: 3
            }), [3, 8];

          case 5:
            return [4, _idx.platform.share()];

          case 6:
            return o.sent() && _taskMgr["default"].doTask(this._taskData.temp.key), [3, 8];

          case 7:
            return [3, 8];

          case 8:
            return [2];
        }
      });
    });
  };

  Object.defineProperty(e.prototype, "taskData", {
    get: function get() {
      return this._taskData;
    },
    enumerable: !1,
    configurable: !0
  });

  e.prototype.onAward = function () {
    _taskMgr["default"].updateTask(this._taskData);

    for (var t = [], e = this.scrollView.content.childrenCount - 1; e >= 0; e--) {
      var o = this.scrollView.content.children[e];
      var n = o.parent.convertToWorldSpaceAR(o.position);
      var i = {};
      i.itemId = o.getComponent(_item["default"]).key;
      i.worldPos = n;
      i.value = o.getComponent(_item["default"]).count;
      t.push(i);
    }

    _panelMgr["default"].ins.open("ui/ui_flyAni", {
      itemDatas: t
    });
  };

  e.prototype.onWatchEnd = function () {
    cc.log("广告的回调");

    _taskMgr["default"].doTask(this._taskData.temp.key);
  };

  __decorate([v(cc.Label)], e.prototype, "nameLbl", void 0);

  __decorate([v(cc.Node)], e.prototype, "itemsNode", void 0);

  __decorate([v(cc.Prefab)], e.prototype, "itemPrefab", void 0);

  __decorate([v(cc.ProgressBar)], e.prototype, "pro", void 0);

  __decorate([v(cc.Label)], e.prototype, "proLbl", void 0);

  __decorate([v(cc.Node)], e.prototype, "getBtnNode", void 0);

  __decorate([v(cc.Node)], e.prototype, "goBtnNode", void 0);

  __decorate([v(cc.Node)], e.prototype, "adNode", void 0);

  __decorate([v(cc.Node)], e.prototype, "goImgNode", void 0);

  __decorate([v(cc.ScrollView)], e.prototype, "scrollView", void 0);

  __decorate([v(cc.Node)], e.prototype, "getedNode", void 0);

  return __decorate([m], e);
}(cc.Component);

exports["default"] = _;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xccXVlc3RJdGVtLmpzIl0sIm5hbWVzIjpbIm4iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsIl9ldnRzIiwicmVxdWlyZSIsIl9pZHgiLCJfdmVCdG4iLCJfbGFuZyIsIl9wYW5lbE1nciIsIl90YXNrTWdyIiwiX2xvYWRpbmciLCJfaXRlbSIsInkiLCJjYyIsIl9kZWNvcmF0b3IiLCJtIiwiY2NjbGFzcyIsInYiLCJwcm9wZXJ0eSIsIl8iLCJ0IiwiZSIsImFwcGx5IiwiYXJndW1lbnRzIiwibmFtZUxibCIsIml0ZW1zTm9kZSIsIml0ZW1QcmVmYWIiLCJwcm8iLCJwcm9MYmwiLCJnZXRCdG5Ob2RlIiwiZ29CdG5Ob2RlIiwiYWROb2RlIiwiZ29JbWdOb2RlIiwic2Nyb2xsVmlldyIsImdldGVkTm9kZSIsInF1ZXN0UG9vbCIsIk5vZGVQb29sIiwiZXZlbnRGdW5jIiwiX19leHRlbmRzIiwicHJvdG90eXBlIiwiaW5pdCIsIl90YXNrRGF0YSIsInN0cmluZyIsImxhbmciLCJ0ZW1wIiwia2V5IiwiZm9udCIsIkRFRkFVTFRGT05UIiwicHJvZ3Jlc3MiLCJub2RlIiwid2lkdGgiLCJ0d2VlbiIsInRvIiwiZGF0YSIsImNvdW50IiwibnVtcyIsInN0YXJ0IiwidmFsIiwiaGFzT3duUHJvcGVydHkiLCJvIiwiZ2V0IiwiaW5zdGFudGlhdGUiLCJjb250ZW50IiwiYWRkQ2hpbGQiLCJnZXRDb21wb25lbnQiLCJjaGlsZHJlbiIsImNoaWxkcmVuQ291bnQiLCJ4IiwiTWF0aCIsIm1pbiIsInNjcm9sbFRvTGVmdCIsImFjdGl2ZSIsInJlbW92ZUNvbXBvbmVudCIsImdldF9ieSIsIlRhc2tUeXBlIiwiYWRfcmV3YXJkIiwiaSIsImFkZENvbXBvbmVudCIsInIiLCJDb21wb25lbnQiLCJFdmVudEhhbmRsZXIiLCJ0YXJnZXQiLCJjb21wb25lbnQiLCJoYW5kbGVyIiwiY3VzdG9tRXZlbnREYXRhIiwib25XYXRjaEVuZEV2ZW50Iiwic3RhdGUiLCJ0YXNrU3RhdGUiLCJSZWNlaXZlIiwiRmluaXNoIiwiUmV3YXJlZCIsInVwZGF0ZVRhc2siLCJ1bnVzZSIsImZvckVhY2giLCJwdXQiLCJyZW1vdmVBbGxDaGlsZHJlbiIsInJldXNlIiwib25PcGVyVGFwIiwiYWN0aW9uIiwiVVBEVEFTSyIsIm9uRW5hYmxlIiwib24iLCJqdW1wUGFnZSIsIm9uQXdhcmQiLCJiaW5kIiwib3BFIiwib25EaXNhYmxlIiwib2ZmIiwiX19hd2FpdGVyIiwiX19nZW5lcmF0b3IiLCJsYWJlbCIsIm9uQ2xpY2siLCJpbnMiLCJjbG9zZUFsbFBhbmVsIiwiZW1pdCIsIk1BSU5KVU1QIiwicGxhdGZvcm0iLCJzaGFyZSIsInNlbnQiLCJkb1Rhc2siLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwicGFyZW50IiwiY29udmVydFRvV29ybGRTcGFjZUFSIiwicG9zaXRpb24iLCJpdGVtSWQiLCJ3b3JsZFBvcyIsInB1c2giLCJvcGVuIiwiaXRlbURhdGFzIiwib25XYXRjaEVuZCIsImxvZyIsIl9fZGVjb3JhdGUiLCJMYWJlbCIsIk5vZGUiLCJQcmVmYWIiLCJQcm9ncmVzc0JhciIsIlNjcm9sbFZpZXciXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsSUFBSUEsQ0FBSjtBQUNBQyxNQUFNLENBQUNDLGNBQVAsQ0FBc0JDLE9BQXRCLEVBQStCLFlBQS9CLEVBQTZDO0VBQUNDLEtBQUssRUFBRSxDQUFDO0FBQVQsQ0FBN0M7O0FBQ0EsSUFBSUMsS0FBSyxHQUFHQyxPQUFPLENBQUMsTUFBRCxDQUFuQjs7QUFDQSxJQUFJQyxJQUFJLEdBQUdELE9BQU8sQ0FBQyxLQUFELENBQWxCOztBQUNBLElBQUlFLE1BQU0sR0FBR0YsT0FBTyxDQUFDLE9BQUQsQ0FBcEI7O0FBQ0EsSUFBSUcsS0FBSyxHQUFHSCxPQUFPLENBQUMsTUFBRCxDQUFuQjs7QUFDQSxJQUFJSSxTQUFTLEdBQUdKLE9BQU8sQ0FBQyxVQUFELENBQXZC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NEIsV0FBNUIsRUFBeUMsS0FBSyxDQUE5QyxDQUFWOztFQUNBLE9BQU82RixVQUFVLENBQUMsQ0FBQ3JILENBQUQsQ0FBRCxFQUFNTSxDQUFOLENBQWpCO0FBQ0gsQ0FuTU8sQ0FtTUxSLEVBQUUsQ0FBQ2tFLFNBbk1FLENBQVI7O0FBb01BOUUsT0FBTyxXQUFQLEdBQWtCa0IsQ0FBbEIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbInZhciBuO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7dmFsdWU6ICEwfSk7XG52YXIgX2V2dHMgPSByZXF1aXJlKFwiZXZ0c1wiKTtcbnZhciBfaWR4ID0gcmVxdWlyZShcImlkeFwiKTtcbnZhciBfdmVCdG4gPSByZXF1aXJlKFwidmVCdG5cIik7XG52YXIgX2xhbmcgPSByZXF1aXJlKFwibGFuZ1wiKTtcbnZhciBfcGFuZWxNZ3IgPSByZXF1aXJlKFwicGFuZWxNZ3JcIik7XG52YXIgX3Rhc2tNZ3IgPSByZXF1aXJlKFwidGFza01nclwiKTtcbnZhciBfbG9hZGluZyA9IHJlcXVpcmUoXCJsb2FkaW5nXCIpO1xudmFyIF9pdGVtID0gcmVxdWlyZShcIml0ZW1cIik7XG52YXIgeSA9IGNjLl9kZWNvcmF0b3I7XG52YXIgbSA9IHkuY2NjbGFzcztcbnZhciB2ID0geS5wcm9wZXJ0eTtcbnZhciBfID0gKGZ1bmN0aW9uICh0KSB7XG4gICAgZnVuY3Rpb24gZSgpIHtcbiAgICAgICAgdmFyIGUgPSAobnVsbCAhPT0gdCAmJiB0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpIHx8IHRoaXM7XG4gICAgICAgIGUubmFtZUxibCA9IG51bGw7XG4gICAgICAgIGUuaXRlbXNOb2RlID0gbnVsbDtcbiAgICAgICAgZS5pdGVtUHJlZmFiID0gbnVsbDtcbiAgICAgICAgZS5wcm8gPSBudWxsO1xuICAgICAgICBlLnByb0xibCA9IG51bGw7XG4gICAgICAgIGUuZ2V0QnRuTm9kZSA9IG51bGw7XG4gICAgICAgIGUuZ29CdG5Ob2RlID0gbnVsbDtcbiAgICAgICAgZS5hZE5vZGUgPSBudWxsO1xuICAgICAgICBlLmdvSW1nTm9kZSA9IG51bGw7XG4gICAgICAgIGUuc2Nyb2xsVmlldyA9IG51bGw7XG4gICAgICAgIGUuZ2V0ZWROb2RlID0gbnVsbDtcbiAgICAgICAgZS5xdWVzdFBvb2wgPSBuZXcgY2MuTm9kZVBvb2woX2l0ZW0uZGVmYXVsdCk7XG4gICAgICAgIGUuZXZlbnRGdW5jID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIGU7XG4gICAgfVxuICAgIF9fZXh0ZW5kcyhlLCB0KTtcbiAgICBlLnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24gKHQpIHtcbiAgICAgICAgZm9yICh2YXIgZSBpbiAoKHRoaXMuX3Rhc2tEYXRhID0gdCksXG4gICAgICAgICh0aGlzLm5hbWVMYmwuc3RyaW5nID0gX2xhbmcubGFuZ1t0LnRlbXAua2V5XSksXG4gICAgICAgICh0aGlzLm5hbWVMYmwuZm9udCA9IF9sb2FkaW5nLkRFRkFVTFRGT05UKSxcbiAgICAgICAgKHRoaXMucHJvLnByb2dyZXNzID0gMCksXG4gICAgICAgICh0aGlzLnNjcm9sbFZpZXcubm9kZS53aWR0aCA9IDM2MCksXG4gICAgICAgIGNjXG4gICAgICAgICAgICAudHdlZW4odGhpcy5wcm8pXG4gICAgICAgICAgICAudG8oMC41LCB7cHJvZ3Jlc3M6IHQuZGF0YS5jb3VudCAvIHQudGVtcC5udW1zfSlcbiAgICAgICAgICAgIC5zdGFydCgpLFxuICAgICAgICAodGhpcy5wcm9MYmwuc3RyaW5nID0gdC5kYXRhLmNvdW50ICsgXCIvXCIgKyB0LnRlbXAubnVtcyksXG4gICAgICAgIHQudGVtcC52YWwpKVxuICAgICAgICAgICAgaWYgKHQudGVtcC52YWwuaGFzT3duUHJvcGVydHkoZSkpIHtcbiAgICAgICAgICAgICAgICB2YXIgbyA9IHRoaXMucXVlc3RQb29sLmdldCgpO1xuICAgICAgICAgICAgICAgIG8gfHwgKG8gPSBjYy5pbnN0YW50aWF0ZSh0aGlzLml0ZW1QcmVmYWIpKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNjcm9sbFZpZXcuY29udGVudC5hZGRDaGlsZChvKTtcbiAgICAgICAgICAgICAgICBvLmdldENvbXBvbmVudChfaXRlbS5kZWZhdWx0KS5pbml0KHQudGVtcCwgZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIHZhciBuID0gdGhpcy5zY3JvbGxWaWV3LmNvbnRlbnQuY2hpbGRyZW5bMF0ud2lkdGggKiB0aGlzLnNjcm9sbFZpZXcuY29udGVudC5jaGlsZHJlbkNvdW50O1xuICAgICAgICBpZiAoXG4gICAgICAgICAgICAoKHRoaXMuc2Nyb2xsVmlldy5ub2RlLnggPVxuICAgICAgICAgICAgICAgIG4gPiB0aGlzLnNjcm9sbFZpZXcubm9kZS53aWR0aCA/IC0yODMgOiAodGhpcy5zY3JvbGxWaWV3Lm5vZGUud2lkdGggLSBuKSAvIDIgLSAyODMpLFxuICAgICAgICAgICAgKG4gPSBNYXRoLm1pbihuLCAzNjApKSxcbiAgICAgICAgICAgICh0aGlzLnNjcm9sbFZpZXcubm9kZS53aWR0aCA9IG4pLFxuICAgICAgICAgICAgdGhpcy5zY3JvbGxWaWV3LnNjcm9sbFRvTGVmdCgpLFxuICAgICAgICAgICAgKHRoaXMuYWROb2RlLmFjdGl2ZSA9ICExKSxcbiAgICAgICAgICAgICh0aGlzLmdvSW1nTm9kZS54ID0gMCksXG4gICAgICAgICAgICB0aGlzLmdvQnRuTm9kZS5nZXRDb21wb25lbnQoX3ZlQnRuLmRlZmF1bHQpICYmIHRoaXMuZ29CdG5Ob2RlLnJlbW92ZUNvbXBvbmVudChfdmVCdG4uZGVmYXVsdCksXG4gICAgICAgICAgICB0LnRlbXAuZ2V0X2J5ID09IF90YXNrTWdyLlRhc2tUeXBlLmFkX3Jld2FyZClcbiAgICAgICAgKSB7XG4gICAgICAgICAgICB2YXIgaSA9IHRoaXMuZ29CdG5Ob2RlLmFkZENvbXBvbmVudChfdmVCdG4uZGVmYXVsdCk7XG4gICAgICAgICAgICB2YXIgciA9IG5ldyBjYy5Db21wb25lbnQuRXZlbnRIYW5kbGVyKCk7XG4gICAgICAgICAgICByLnRhcmdldCA9IHRoaXMubm9kZTtcbiAgICAgICAgICAgIHIuY29tcG9uZW50ID0gXCJxdWVzdEl0ZW1cIjtcbiAgICAgICAgICAgIHIuaGFuZGxlciA9IFwib25XYXRjaEVuZFwiO1xuICAgICAgICAgICAgXCJ0YXNrXzFcIiA9PSB0LnRlbXAua2V5ICYmIChyLmN1c3RvbUV2ZW50RGF0YSA9IFwi5q+P5pel5Lu75YqhLemBk+WFt+ekvOWMhVwiKTtcbiAgICAgICAgICAgIGkub25XYXRjaEVuZEV2ZW50ID0gcjtcbiAgICAgICAgICAgIHRoaXMuYWROb2RlLmFjdGl2ZSA9ICEwO1xuICAgICAgICAgICAgdGhpcy5nb0ltZ05vZGUueCA9IDI1O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZ29CdG5Ob2RlLmFjdGl2ZSA9IHRoaXMuX3Rhc2tEYXRhLmRhdGEuc3RhdGUgPT09IF90YXNrTWdyLnRhc2tTdGF0ZS5SZWNlaXZlO1xuICAgICAgICB0aGlzLmdldEJ0bk5vZGUuYWN0aXZlID0gdGhpcy5fdGFza0RhdGEuZGF0YS5zdGF0ZSA9PT0gX3Rhc2tNZ3IudGFza1N0YXRlLkZpbmlzaDtcbiAgICAgICAgdGhpcy5nZXRlZE5vZGUuYWN0aXZlID0gdGhpcy5fdGFza0RhdGEuZGF0YS5zdGF0ZSA9PT0gX3Rhc2tNZ3IudGFza1N0YXRlLlJld2FyZWQ7XG4gICAgfTtcbiAgICBlLnByb3RvdHlwZS51cGRhdGVUYXNrID0gZnVuY3Rpb24gKHQpIHtcbiAgICAgICAgdCAmJlxuICAgICAgICAgICAgdC50ZW1wLmtleSA9PSB0aGlzLl90YXNrRGF0YS50ZW1wLmtleSAmJlxuICAgICAgICAgICAgKCh0aGlzLl90YXNrRGF0YSA9IHQpLFxuICAgICAgICAgICAgY2NcbiAgICAgICAgICAgICAgICAudHdlZW4odGhpcy5wcm8pXG4gICAgICAgICAgICAgICAgLnRvKDAuNSwge3Byb2dyZXNzOiB0LmRhdGEuY291bnQgLyB0LnRlbXAubnVtc30pXG4gICAgICAgICAgICAgICAgLnN0YXJ0KCksXG4gICAgICAgICAgICAodGhpcy5wcm9MYmwuc3RyaW5nID0gdC5kYXRhLmNvdW50ICsgXCIvXCIgKyB0LnRlbXAubnVtcyksXG4gICAgICAgICAgICAodGhpcy5nb0J0bk5vZGUuYWN0aXZlID0gdGhpcy5fdGFza0RhdGEuZGF0YS5zdGF0ZSA9PT0gX3Rhc2tNZ3IudGFza1N0YXRlLlJlY2VpdmUpLFxuICAgICAgICAgICAgKHRoaXMuZ2V0QnRuTm9kZS5hY3RpdmUgPSB0aGlzLl90YXNrRGF0YS5kYXRhLnN0YXRlID09PSBfdGFza01nci50YXNrU3RhdGUuRmluaXNoKSxcbiAgICAgICAgICAgICh0aGlzLmdldGVkTm9kZS5hY3RpdmUgPSB0aGlzLl90YXNrRGF0YS5kYXRhLnN0YXRlID09PSBfdGFza01nci50YXNrU3RhdGUuUmV3YXJlZCkpO1xuICAgIH07XG4gICAgZS5wcm90b3R5cGUudW51c2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB0ID0gdGhpcztcbiAgICAgICAgdGhpcy5zY3JvbGxWaWV3LmNvbnRlbnQuY2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgdC5xdWVzdFBvb2wucHV0KGUpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zY3JvbGxWaWV3LmNvbnRlbnQucmVtb3ZlQWxsQ2hpbGRyZW4oKTtcbiAgICB9O1xuICAgIGUucHJvdG90eXBlLnJldXNlID0gZnVuY3Rpb24gKCkge307XG4gICAgZS5wcm90b3R5cGUub25PcGVyVGFwID0gZnVuY3Rpb24gKHQpIHtcbiAgICAgICAgdmFyIGUgPSBudWxsID09IHQgPyB2b2lkIDAgOiB0LmFjdGlvbjtcbiAgICAgICAgaWYgKGUpXG4gICAgICAgICAgICBzd2l0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIF9ldnRzLmRlZmF1bHQuVVBEVEFTSzpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVUYXNrKHQuZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgfTtcbiAgICBlLnByb3RvdHlwZS5vbkVuYWJsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5nb0J0bk5vZGUub24oXCJjbGlja1wiLCB0aGlzLmp1bXBQYWdlLCB0aGlzKTtcbiAgICAgICAgdGhpcy5nZXRCdG5Ob2RlLm9uKFwiY2xpY2tcIiwgdGhpcy5vbkF3YXJkLCB0aGlzKTtcbiAgICAgICAgdGhpcy5ldmVudEZ1bmMgPSB0aGlzLm9uT3BlclRhcC5iaW5kKHRoaXMpO1xuICAgICAgICBfZXZ0cy5kZWZhdWx0Lm9wRS5vbih0aGlzLmV2ZW50RnVuYyk7XG4gICAgfTtcbiAgICBlLnByb3RvdHlwZS5vbkRpc2FibGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZ29CdG5Ob2RlLm9mZihcImNsaWNrXCIsIHRoaXMuanVtcFBhZ2UsIHRoaXMpO1xuICAgICAgICB0aGlzLmdldEJ0bk5vZGUub2ZmKFwiY2xpY2tcIiwgdGhpcy5vbkF3YXJkLCB0aGlzKTtcbiAgICAgICAgX2V2dHMuZGVmYXVsdC5vcEUub2ZmKHRoaXMuZXZlbnRGdW5jKTtcbiAgICAgICAgdGhpcy5ldmVudEZ1bmMgPSBudWxsO1xuICAgIH07XG4gICAgZS5wcm90b3R5cGUuanVtcFBhZ2UgPSBmdW5jdGlvbiAodCkge1xuICAgICAgICB2YXIgZTtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChvKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChvLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl90YXNrRGF0YS5kYXRhLnN0YXRlICE9IF90YXNrTWdyLnRhc2tTdGF0ZS5SZWNlaXZlKSByZXR1cm4gWzJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh0aGlzLl90YXNrRGF0YS50ZW1wLmdldF9ieSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJhZF9yZXdhcmRcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszLCAxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiY2dfbGluZVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMsIDJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJxd19saW5lXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMywgM107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImRhaWx5X2NoYWxsZW5nZVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMsIDRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJzaGFyZVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMsIDVdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszLCA3XTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBudWxsID09PSAoZSA9IHRoaXMuZ29CdG5Ob2RlLmdldENvbXBvbmVudChfdmVCdG4uZGVmYXVsdCkpIHx8IHZvaWQgMCA9PT0gZSB8fCBlLm9uQ2xpY2sodCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgWzMsIDhdXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9wYW5lbE1nci5kZWZhdWx0Lmlucy5jbG9zZUFsbFBhbmVsKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2V2dHMuZGVmYXVsdC5vcEUuZW1pdCh7YWN0aW9uOiBfZXZ0cy5kZWZhdWx0Lk1BSU5KVU1QLCBkYXRhOiAyfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgWzMsIDhdXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9wYW5lbE1nci5kZWZhdWx0Lmlucy5jbG9zZUFsbFBhbmVsKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2V2dHMuZGVmYXVsdC5vcEUuZW1pdCh7YWN0aW9uOiBfZXZ0cy5kZWZhdWx0Lk1BSU5KVU1QLCBkYXRhOiA0fSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgWzMsIDhdXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9wYW5lbE1nci5kZWZhdWx0Lmlucy5jbG9zZUFsbFBhbmVsKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2V2dHMuZGVmYXVsdC5vcEUuZW1pdCh7YWN0aW9uOiBfZXZ0cy5kZWZhdWx0Lk1BSU5KVU1QLCBkYXRhOiAzfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgWzMsIDhdXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQsIF9pZHgucGxhdGZvcm0uc2hhcmUoKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvLnNlbnQoKSAmJiBfdGFza01nci5kZWZhdWx0LmRvVGFzayh0aGlzLl90YXNrRGF0YS50ZW1wLmtleSksIFszLCA4XTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszLCA4XTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA4OlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsIFwidGFza0RhdGFcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90YXNrRGF0YTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogITEsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogITBcbiAgICB9KTtcbiAgICBlLnByb3RvdHlwZS5vbkF3YXJkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGFza01nci5kZWZhdWx0LnVwZGF0ZVRhc2sodGhpcy5fdGFza0RhdGEpO1xuICAgICAgICBmb3IgKHZhciB0ID0gW10sIGUgPSB0aGlzLnNjcm9sbFZpZXcuY29udGVudC5jaGlsZHJlbkNvdW50IC0gMTsgZSA+PSAwOyBlLS0pIHtcbiAgICAgICAgICAgIHZhciBvID0gdGhpcy5zY3JvbGxWaWV3LmNvbnRlbnQuY2hpbGRyZW5bZV07XG4gICAgICAgICAgICB2YXIgbiA9IG8ucGFyZW50LmNvbnZlcnRUb1dvcmxkU3BhY2VBUihvLnBvc2l0aW9uKTtcbiAgICAgICAgICAgIHZhciBpID0ge307XG4gICAgICAgICAgICBpLml0ZW1JZCA9IG8uZ2V0Q29tcG9uZW50KF9pdGVtLmRlZmF1bHQpLmtleTtcbiAgICAgICAgICAgIGkud29ybGRQb3MgPSBuO1xuICAgICAgICAgICAgaS52YWx1ZSA9IG8uZ2V0Q29tcG9uZW50KF9pdGVtLmRlZmF1bHQpLmNvdW50O1xuICAgICAgICAgICAgdC5wdXNoKGkpO1xuICAgICAgICB9XG4gICAgICAgIF9wYW5lbE1nci5kZWZhdWx0Lmlucy5vcGVuKFwidWkvdWlfZmx5QW5pXCIsIHtpdGVtRGF0YXM6IHR9KTtcbiAgICB9O1xuICAgIGUucHJvdG90eXBlLm9uV2F0Y2hFbmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNjLmxvZyhcIuW5v+WRiueahOWbnuiwg1wiKTtcbiAgICAgICAgX3Rhc2tNZ3IuZGVmYXVsdC5kb1Rhc2sodGhpcy5fdGFza0RhdGEudGVtcC5rZXkpO1xuICAgIH07XG4gICAgX19kZWNvcmF0ZShbdihjYy5MYWJlbCldLCBlLnByb3RvdHlwZSwgXCJuYW1lTGJsXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbdihjYy5Ob2RlKV0sIGUucHJvdG90eXBlLCBcIml0ZW1zTm9kZVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW3YoY2MuUHJlZmFiKV0sIGUucHJvdG90eXBlLCBcIml0ZW1QcmVmYWJcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFt2KGNjLlByb2dyZXNzQmFyKV0sIGUucHJvdG90eXBlLCBcInByb1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW3YoY2MuTGFiZWwpXSwgZS5wcm90b3R5cGUsIFwicHJvTGJsXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbdihjYy5Ob2RlKV0sIGUucHJvdG90eXBlLCBcImdldEJ0bk5vZGVcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFt2KGNjLk5vZGUpXSwgZS5wcm90b3R5cGUsIFwiZ29CdG5Ob2RlXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbdihjYy5Ob2RlKV0sIGUucHJvdG90eXBlLCBcImFkTm9kZVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW3YoY2MuTm9kZSldLCBlLnByb3RvdHlwZSwgXCJnb0ltZ05vZGVcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFt2KGNjLlNjcm9sbFZpZXcpXSwgZS5wcm90b3R5cGUsIFwic2Nyb2xsVmlld1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW3YoY2MuTm9kZSldLCBlLnByb3RvdHlwZSwgXCJnZXRlZE5vZGVcIiwgdm9pZCAwKTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZShbbV0sIGUpO1xufSkoY2MuQ29tcG9uZW50KTtcbmV4cG9ydHMuZGVmYXVsdCA9IF87XG4iXX0=