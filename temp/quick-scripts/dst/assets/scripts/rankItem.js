
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/rankItem.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '64824nHmPRCBqzNVohG2VVh', 'rankItem');
// scripts/rankItem.js

"use strict";

var n;
Object.defineProperty(exports, "__esModule", {
  value: !0
});

var _res = require("res");

var _global = require("global");

var _panelMgr = require("panelMgr");

var _skinMgr = require("skinMgr");

var u = cc._decorator;
var p = u.ccclass;
var d = u.property;

var h = function (t) {
  function e() {
    var e = null !== t && t.apply(this, arguments) || this;
    e.nickNameLb = null;
    e.scoreLb = null;
    e.idxLb = null;
    e.headSp = null;
    e.headFSp = null;
    e.nameFSp = null;
    e.game_uid = "";
    e.rankInfo = {};
    return e;
  }

  __extends(e, t);

  e.prototype.onLoad = function () {
    this.setHeadBtn();
    this.game_uid = "";
  };

  e.prototype.setNickName = function (t) {
    t.length > 6 && (t = t.substring(0, 5) + "...");
    this.nickNameLb.string = t;
  };

  e.prototype.setScore = function (t) {
    this.scoreLb.string = t;
  };

  e.prototype.setIdx = function (t) {
    this.idxLb.string = t;
  };

  e.prototype.setHeadSp = function (t) {
    var e = this;
    t ? cc.assetManager.loadRemote(t, {
      ext: _global.headImgExt
    }, function (t, o) {
      e.node && e.node.isValid && (t ? e.setDefaultHead() : e.headSp.spriteFrame = new cc.SpriteFrame(o));
    }) : this.setDefaultHead();
  };

  e.prototype.setDefaultHead = function () {
    _res["default"].ins.lSF("common/head_1", this.headSp);
  };

  e.prototype.setHeadBtn = function () {};

  e.prototype.setGameUid = function (t) {
    this.game_uid = t;
  };

  e.prototype.setRankData = function (t) {
    this.rankInfo = t;
  };

  e.prototype.setSkin = function (t, e, o) {
    void 0 === e && (e = !1);
    void 0 === o && (o = !1);
    t ? (t.headFrame && 1 != t.headFrame ? _skinMgr["default"].ins.updateHeadFrame(t.headFrame, this.headFSp, !0) : _skinMgr["default"].ins.updateHeadFrame(1, this.headFSp, !0), t.nameFrame && 1 != t.nameFrame ? _skinMgr["default"].ins.updateNameFrame(t.nameFrame, this.nameFSp) : this.nameFSp.spriteFrame = null) : (_skinMgr["default"].ins.updateHeadFrame(1, this.headFSp, !0), this.nameFSp.spriteFrame = null);
  };

  e.prototype.clearFrame = function () {
    _skinMgr["default"].ins.updateHeadFrame(1, this.headFSp, !0);

    this.nameFSp.spriteFrame = null;
  };

  e.prototype.clickHead = function () {
    this.game_uid && _panelMgr["default"].ins.open("ui/ui_userInfo", {
      gameUid: this.game_uid,
      baseData: this.rankInfo
    });
  };

  e.nameColor1 = new cc.Color(166, 86, 31);
  e.nameColor2 = new cc.Color(64, 109, 30);
  e.nameColor3 = new cc.Color(152, 54, 38);

  __decorate([d(cc.Label)], e.prototype, "nickNameLb", void 0);

  __decorate([d(cc.Label)], e.prototype, "scoreLb", void 0);

  __decorate([d(cc.Label)], e.prototype, "idxLb", void 0);

  __decorate([d(cc.Sprite)], e.prototype, "headSp", void 0);

  __decorate([d(cc.Sprite)], e.prototype, "headFSp", void 0);

  __decorate([d(cc.Sprite)], e.prototype, "nameFSp", void 0);

  return __decorate([p], e);
}(cc.Component);

exports["default"] = h;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xccmFua0l0ZW0uanMiXSwibmFtZXMiOlsibiIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiX3JlcyIsInJlcXVpcmUiLCJfZ2xvYmFsIiwiX3BhbmVsTWdyIiwiX3NraW5NZ3IiLCJ1IiwiY2MiLCJfZGVjb3JhdG9yIiwicCIsImNjY2xhc3MiLCJkIiwicHJvcGVydHkiLCJoIiwidCIsImUiLCJhcHBseSIsImFyZ3VtZW50cyIsIm5pY2tOYW1lTGIiLCJzY29yZUxiIiwiaWR4TGIiLCJoZWFkU3AiLCJoZWFkRlNwIiwibmFtZUZTcCIsImdhbWVfdWlkIiwicmFua0luZm8iLCJfX2V4dGVuZHMiLCJwcm90b3R5cGUiLCJvbkxvYWQiLCJzZXRIZWFkQnRuIiwic2V0Tmlja05hbWUiLCJsZW5ndGgiLCJzdWJzdHJpbmciLCJzdHJpbmciLCJzZXRTY29yZSIsInNldElkeCIsInNldEhlYWRTcCIsImFzc2V0TWFuYWdlciIsImxvYWRSZW1vdGUiLCJleHQiLCJoZWFkSW1nRXh0IiwibyIsIm5vZGUiLCJpc1ZhbGlkIiwic2V0RGVmYXVsdEhlYWQiLCJzcHJpdGVGcmFtZSIsIlNwcml0ZUZyYW1lIiwiaW5zIiwibFNGIiwic2V0R2FtZVVpZCIsInNldFJhbmtEYXRhIiwic2V0U2tpbiIsImhlYWRGcmFtZSIsInVwZGF0ZUhlYWRGcmFtZSIsIm5hbWVGcmFtZSIsInVwZGF0ZU5hbWVGcmFtZSIsImNsZWFyRnJhbWUiLCJjbGlja0hlYWQiLCJvcGVuIiwiZ2FtZVVpZCIsImJhc2VEYXRhIiwibmFtZUNvbG9yMSIsIkNvbG9yIiwibmFtZUNvbG9yMiIsIm5hbWVDb2xvcjMiLCJfX2RlY29yYXRlIiwiTGFiZWwiLCJTcHJpdGUiLCJDb21wb25lbnQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsSUFBSUEsQ0FBSjtBQUNBQyxNQUFNLENBQUNDLGNBQVAsQ0FBc0JDLE9BQXRCLEVBQStC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V0FBUCxHQUFrQmMsQ0FBbEIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbInZhciBuO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7dmFsdWU6ICEwfSk7XG52YXIgX3JlcyA9IHJlcXVpcmUoXCJyZXNcIik7XG52YXIgX2dsb2JhbCA9IHJlcXVpcmUoXCJnbG9iYWxcIik7XG52YXIgX3BhbmVsTWdyID0gcmVxdWlyZShcInBhbmVsTWdyXCIpO1xudmFyIF9za2luTWdyID0gcmVxdWlyZShcInNraW5NZ3JcIik7XG52YXIgdSA9IGNjLl9kZWNvcmF0b3I7XG52YXIgcCA9IHUuY2NjbGFzcztcbnZhciBkID0gdS5wcm9wZXJ0eTtcbnZhciBoID0gKGZ1bmN0aW9uICh0KSB7XG4gICAgZnVuY3Rpb24gZSgpIHtcbiAgICAgICAgdmFyIGUgPSAobnVsbCAhPT0gdCAmJiB0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpIHx8IHRoaXM7XG4gICAgICAgIGUubmlja05hbWVMYiA9IG51bGw7XG4gICAgICAgIGUuc2NvcmVMYiA9IG51bGw7XG4gICAgICAgIGUuaWR4TGIgPSBudWxsO1xuICAgICAgICBlLmhlYWRTcCA9IG51bGw7XG4gICAgICAgIGUuaGVhZEZTcCA9IG51bGw7XG4gICAgICAgIGUubmFtZUZTcCA9IG51bGw7XG4gICAgICAgIGUuZ2FtZV91aWQgPSBcIlwiO1xuICAgICAgICBlLnJhbmtJbmZvID0ge307XG4gICAgICAgIHJldHVybiBlO1xuICAgIH1cbiAgICBfX2V4dGVuZHMoZSwgdCk7XG4gICAgZS5wcm90b3R5cGUub25Mb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnNldEhlYWRCdG4oKTtcbiAgICAgICAgdGhpcy5nYW1lX3VpZCA9IFwiXCI7XG4gICAgfTtcbiAgICBlLnByb3RvdHlwZS5zZXROaWNrTmFtZSA9IGZ1bmN0aW9uICh0KSB7XG4gICAgICAgIHQubGVuZ3RoID4gNiAmJiAodCA9IHQuc3Vic3RyaW5nKDAsIDUpICsgXCIuLi5cIik7XG4gICAgICAgIHRoaXMubmlja05hbWVMYi5zdHJpbmcgPSB0O1xuICAgIH07XG4gICAgZS5wcm90b3R5cGUuc2V0U2NvcmUgPSBmdW5jdGlvbiAodCkge1xuICAgICAgICB0aGlzLnNjb3JlTGIuc3RyaW5nID0gdDtcbiAgICB9O1xuICAgIGUucHJvdG90eXBlLnNldElkeCA9IGZ1bmN0aW9uICh0KSB7XG4gICAgICAgIHRoaXMuaWR4TGIuc3RyaW5nID0gdDtcbiAgICB9O1xuICAgIGUucHJvdG90eXBlLnNldEhlYWRTcCA9IGZ1bmN0aW9uICh0KSB7XG4gICAgICAgIHZhciBlID0gdGhpcztcbiAgICAgICAgdFxuICAgICAgICAgICAgPyBjYy5hc3NldE1hbmFnZXIubG9hZFJlbW90ZSh0LCB7ZXh0OiBfZ2xvYmFsLmhlYWRJbWdFeHR9LCBmdW5jdGlvbiAodCwgbykge1xuICAgICAgICAgICAgICAgICAgZS5ub2RlICYmIGUubm9kZS5pc1ZhbGlkICYmICh0ID8gZS5zZXREZWZhdWx0SGVhZCgpIDogKGUuaGVhZFNwLnNwcml0ZUZyYW1lID0gbmV3IGNjLlNwcml0ZUZyYW1lKG8pKSk7XG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICA6IHRoaXMuc2V0RGVmYXVsdEhlYWQoKTtcbiAgICB9O1xuICAgIGUucHJvdG90eXBlLnNldERlZmF1bHRIZWFkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBfcmVzLmRlZmF1bHQuaW5zLmxTRihcImNvbW1vbi9oZWFkXzFcIiwgdGhpcy5oZWFkU3ApO1xuICAgIH07XG4gICAgZS5wcm90b3R5cGUuc2V0SGVhZEJ0biA9IGZ1bmN0aW9uICgpIHt9O1xuICAgIGUucHJvdG90eXBlLnNldEdhbWVVaWQgPSBmdW5jdGlvbiAodCkge1xuICAgICAgICB0aGlzLmdhbWVfdWlkID0gdDtcbiAgICB9O1xuICAgIGUucHJvdG90eXBlLnNldFJhbmtEYXRhID0gZnVuY3Rpb24gKHQpIHtcbiAgICAgICAgdGhpcy5yYW5rSW5mbyA9IHQ7XG4gICAgfTtcbiAgICBlLnByb3RvdHlwZS5zZXRTa2luID0gZnVuY3Rpb24gKHQsIGUsIG8pIHtcbiAgICAgICAgdm9pZCAwID09PSBlICYmIChlID0gITEpO1xuICAgICAgICB2b2lkIDAgPT09IG8gJiYgKG8gPSAhMSk7XG4gICAgICAgIHRcbiAgICAgICAgICAgID8gKHQuaGVhZEZyYW1lICYmIDEgIT0gdC5oZWFkRnJhbWVcbiAgICAgICAgICAgICAgICAgID8gX3NraW5NZ3IuZGVmYXVsdC5pbnMudXBkYXRlSGVhZEZyYW1lKHQuaGVhZEZyYW1lLCB0aGlzLmhlYWRGU3AsICEwKVxuICAgICAgICAgICAgICAgICAgOiBfc2tpbk1nci5kZWZhdWx0Lmlucy51cGRhdGVIZWFkRnJhbWUoMSwgdGhpcy5oZWFkRlNwLCAhMCksXG4gICAgICAgICAgICAgIHQubmFtZUZyYW1lICYmIDEgIT0gdC5uYW1lRnJhbWVcbiAgICAgICAgICAgICAgICAgID8gX3NraW5NZ3IuZGVmYXVsdC5pbnMudXBkYXRlTmFtZUZyYW1lKHQubmFtZUZyYW1lLCB0aGlzLm5hbWVGU3ApXG4gICAgICAgICAgICAgICAgICA6ICh0aGlzLm5hbWVGU3Auc3ByaXRlRnJhbWUgPSBudWxsKSlcbiAgICAgICAgICAgIDogKF9za2luTWdyLmRlZmF1bHQuaW5zLnVwZGF0ZUhlYWRGcmFtZSgxLCB0aGlzLmhlYWRGU3AsICEwKSwgKHRoaXMubmFtZUZTcC5zcHJpdGVGcmFtZSA9IG51bGwpKTtcbiAgICB9O1xuICAgIGUucHJvdG90eXBlLmNsZWFyRnJhbWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF9za2luTWdyLmRlZmF1bHQuaW5zLnVwZGF0ZUhlYWRGcmFtZSgxLCB0aGlzLmhlYWRGU3AsICEwKTtcbiAgICAgICAgdGhpcy5uYW1lRlNwLnNwcml0ZUZyYW1lID0gbnVsbDtcbiAgICB9O1xuICAgIGUucHJvdG90eXBlLmNsaWNrSGVhZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5nYW1lX3VpZCAmJlxuICAgICAgICAgICAgX3BhbmVsTWdyLmRlZmF1bHQuaW5zLm9wZW4oXCJ1aS91aV91c2VySW5mb1wiLCB7Z2FtZVVpZDogdGhpcy5nYW1lX3VpZCwgYmFzZURhdGE6IHRoaXMucmFua0luZm99KTtcbiAgICB9O1xuICAgIGUubmFtZUNvbG9yMSA9IG5ldyBjYy5Db2xvcigxNjYsIDg2LCAzMSk7XG4gICAgZS5uYW1lQ29sb3IyID0gbmV3IGNjLkNvbG9yKDY0LCAxMDksIDMwKTtcbiAgICBlLm5hbWVDb2xvcjMgPSBuZXcgY2MuQ29sb3IoMTUyLCA1NCwgMzgpO1xuICAgIF9fZGVjb3JhdGUoW2QoY2MuTGFiZWwpXSwgZS5wcm90b3R5cGUsIFwibmlja05hbWVMYlwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW2QoY2MuTGFiZWwpXSwgZS5wcm90b3R5cGUsIFwic2NvcmVMYlwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW2QoY2MuTGFiZWwpXSwgZS5wcm90b3R5cGUsIFwiaWR4TGJcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtkKGNjLlNwcml0ZSldLCBlLnByb3RvdHlwZSwgXCJoZWFkU3BcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtkKGNjLlNwcml0ZSldLCBlLnByb3RvdHlwZSwgXCJoZWFkRlNwXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbZChjYy5TcHJpdGUpXSwgZS5wcm90b3R5cGUsIFwibmFtZUZTcFwiLCB2b2lkIDApO1xuICAgIHJldHVybiBfX2RlY29yYXRlKFtwXSwgZSk7XG59KShjYy5Db21wb25lbnQpO1xuZXhwb3J0cy5kZWZhdWx0ID0gaDtcbiJdfQ==