
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/res.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'c0cdaipDaZNtoFsplufKRJV', 'res');
// scripts/res.js

"use strict";

function r(t, e, o) {
  var n = cc.assetManager.bundles;

  var i = function i(t) {
    if (!n.has(t)) return null;
    var r = n.get(t).getInfoWithPath(e, o);
    return r ? r.redirect ? i(r.redirect) : r.uuid : null;
  };

  return i(t);
}

Object.defineProperty(exports, "__esModule", {
  value: !0
});

var a = function () {
  function t() {}

  Object.defineProperty(t, "ins", {
    get: function get() {
      this._ins || (this._ins = new t());
      return this._ins;
    },
    enumerable: !1,
    configurable: !0
  });

  t.prototype.lPre = function (t) {
    return __awaiter(this, void 0, void 0, function () {
      return __generator(this, function (e) {
        switch (e.label) {
          case 0:
            return [4, this.l(t, cc.Prefab, "prefab")];

          case 1:
            return [2, e.sent()];
        }
      });
    });
  };

  t.prototype.lSF = function (t, e) {
    return __awaiter(this, void 0, void 0, function () {
      var o;
      return __generator(this, function (n) {
        switch (n.label) {
          case 0:
            return [4, this.l(t, cc.SpriteFrame, "resSps")];

          case 1:
            return o = n.sent(), e && o && (e.spriteFrame = o), [2, o];
        }
      });
    });
  };

  t.prototype.l = function (t, e, o) {
    void 0 === o && (o = "resources");
    return __awaiter(this, void 0, void 0, function () {
      var n;
      var r;
      return __generator(this, function (i) {
        switch (i.label) {
          case 0:
            return t ? (n = cc.resources).getInfoWithPath(t) ? [3, 4] : [3, 1] : [3, 6];

          case 1:
            return (n = cc.assetManager.getBundle(o)) ? [3, 4] : [3, 2];

          case 2:
            return [4, new Promise(function (t, e) {
              cc.assetManager.loadBundle(o, function (o, n) {
                o ? e(o) : t(n);
              });
            })];

          case 3:
            n = i.sent(), i.label = 4;

          case 4:
            return [4, this.d(o, t, e)];

          case 5:
            return (r = i.sent()) ? [2, r] : [2, new Promise(function (o, i) {
              n.load(t, e, function (t, e) {
                t ? i(t) : o(e);
              });
            })];

          case 6:
            return [2, null];
        }
      });
    });
  };

  t.prototype.d = function (t, e, o) {
    return __awaiter(this, void 0, void 0, function () {
      var n;
      return __generator(this, function () {
        return e && r(t, e, o) && (n = cc.assetManager.assets.get(e)) ? [2, n] : [2, null];
      });
    });
  };

  t.prototype.getBundleByString = function (t) {
    var e;
    var o;
    var n = new Promise(function (t, n) {
      e = t;
      o = n;
    });
    var i = cc.assetManager.getBundle(t);
    i ? e(i) : cc.assetManager.loadBundle(t, function (t, n) {
      t ? o() : e(n);
    });
    return n;
  };

  return t;
}();

exports["default"] = a;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xccmVzLmpzIl0sIm5hbWVzIjpbInIiLCJ0IiwiZSIsIm8iLCJuIiwiY2MiLCJhc3NldE1hbmFnZXIiLCJidW5kbGVzIiwiaSIsImhhcyIsImdldCIsImdldEluZm9XaXRoUGF0aCIsInJlZGlyZWN0IiwidXVpZCIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiYSIsIl9pbnMiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwicHJvdG90eXBlIiwibFByZSIsIl9fYXdhaXRlciIsIl9fZ2VuZXJhdG9yIiwibGFiZWwiLCJsIiwiUHJlZmFiIiwic2VudCIsImxTRiIsIlNwcml0ZUZyYW1lIiwic3ByaXRlRnJhbWUiLCJyZXNvdXJjZXMiLCJnZXRCdW5kbGUiLCJQcm9taXNlIiwibG9hZEJ1bmRsZSIsImQiLCJsb2FkIiwiYXNzZXRzIiwiZ2V0QnVuZGxlQnlTdHJpbmciXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsU0FBU0EsQ0FBVCxDQUFXQyxDQUFYLEVBQWNDLENBQWQsRUFBaUJDLENBQWpCLEVBQW9CO0VBQ2hCLElBQUlDLENBQUMsR0FBR0MsRUFBRSxDQUFDQyxZQUFILENBQWdCQyxPQUF4Qjs7RUFDQSxJQUFJQyxDQUFDLEdBQUcsU0FBSkEsQ0FBSSxDQUFVUCxDQUFWLEVBQWE7SUFDakIsSUFBSSxDQUFDRyxDQUFDLENBQUNLLEdBQUYsQ0FBTVIsQ0FBTixDQUFMLEVBQWUsT0FBTyxJQUFQO0lBQ2YsSUFBSUQsQ0FBQyxHQUFHSSxDQUFDLENBQUNNLEdBQUYsQ0FBTVQsQ0FBTixFQUFTVSxlQUFULENBQXlCVCxDQUF6QixFQUE0QkMsQ0FBNUIsQ0FBUjtJQUNBLE9BQU9ILENBQUMsR0FBSUEsQ0FBQyxDQUFDWSxRQUFGLEdBQWFKLENBQUMsQ0FBQ1IsQ0FBQyxDQUFDWSxRQUFILENBQWQsR0FBNkJaLENBQUMsQ0FBQ2EsSUFBbkMsR0FBMkMsSUFBbkQ7RUFDSCxD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R0QsQ0FBSjtNQUNBRSxDQUFDLEdBQUdDLENBQUo7SUFDSCxDQUhPLENBQVI7SUFJQSxJQUFJSSxDQUFDLEdBQUdILEVBQUUsQ0FBQ0MsWUFBSCxDQUFnQjRCLFNBQWhCLENBQTBCakMsQ0FBMUIsQ0FBUjtJQUNBTyxDQUFDLEdBQ0tOLENBQUMsQ0FBQ00sQ0FBRCxDQUROLEdBRUtILEVBQUUsQ0FBQ0MsWUFBSCxDQUFnQjhCLFVBQWhCLENBQTJCbkMsQ0FBM0IsRUFBOEIsVUFBVUEsQ0FBVixFQUFhRyxDQUFiLEVBQWdCO01BQzFDSCxDQUFDLEdBQUdFLENBQUMsRUFBSixHQUFTRCxDQUFDLENBQUNFLENBQUQsQ0FBWDtJQUNILENBRkQsQ0FGTjtJQUtBLE9BQU9BLENBQVA7RUFDSCxDQWREOztFQWVBLE9BQU9ILENBQVA7QUFDSCxDQXBHTyxFQUFSOztBQXFHQWUsT0FBTyxXQUFQLEdBQWtCRSxDQUFsQiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gcih0LCBlLCBvKSB7XG4gICAgdmFyIG4gPSBjYy5hc3NldE1hbmFnZXIuYnVuZGxlcztcbiAgICB2YXIgaSA9IGZ1bmN0aW9uICh0KSB7XG4gICAgICAgIGlmICghbi5oYXModCkpIHJldHVybiBudWxsO1xuICAgICAgICB2YXIgciA9IG4uZ2V0KHQpLmdldEluZm9XaXRoUGF0aChlLCBvKTtcbiAgICAgICAgcmV0dXJuIHIgPyAoci5yZWRpcmVjdCA/IGkoci5yZWRpcmVjdCkgOiByLnV1aWQpIDogbnVsbDtcbiAgICB9O1xuICAgIHJldHVybiBpKHQpO1xufVxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7dmFsdWU6ICEwfSk7XG52YXIgYSA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gdCgpIHt9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIFwiaW5zXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aGlzLl9pbnMgfHwgKHRoaXMuX2lucyA9IG5ldyB0KCkpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2lucztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogITEsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogITBcbiAgICB9KTtcbiAgICB0LnByb3RvdHlwZS5sUHJlID0gZnVuY3Rpb24gKHQpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChlLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCwgdGhpcy5sKHQsIGNjLlByZWZhYiwgXCJwcmVmYWJcIildO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIsIGUuc2VudCgpXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICB0LnByb3RvdHlwZS5sU0YgPSBmdW5jdGlvbiAodCwgZSkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgbztcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAobikge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAobi5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQsIHRoaXMubCh0LCBjYy5TcHJpdGVGcmFtZSwgXCJyZXNTcHNcIildO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKG8gPSBuLnNlbnQoKSksIGUgJiYgbyAmJiAoZS5zcHJpdGVGcmFtZSA9IG8pLCBbMiwgb107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgdC5wcm90b3R5cGUubCA9IGZ1bmN0aW9uICh0LCBlLCBvKSB7XG4gICAgICAgIHZvaWQgMCA9PT0gbyAmJiAobyA9IFwicmVzb3VyY2VzXCIpO1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgbjtcbiAgICAgICAgICAgIHZhciByO1xuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChpKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChpLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ID8gKChuID0gY2MucmVzb3VyY2VzKS5nZXRJbmZvV2l0aFBhdGgodCkgPyBbMywgNF0gOiBbMywgMV0pIDogWzMsIDZdO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKG4gPSBjYy5hc3NldE1hbmFnZXIuZ2V0QnVuZGxlKG8pKSA/IFszLCA0XSA6IFszLCAyXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNjLmFzc2V0TWFuYWdlci5sb2FkQnVuZGxlKG8sIGZ1bmN0aW9uIChvLCBuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvID8gZShvKSA6IHQobik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgICAgICAobiA9IGkuc2VudCgpKSwgKGkubGFiZWwgPSA0KTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0LCB0aGlzLmQobywgdCwgZSldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKHIgPSBpLnNlbnQoKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IFsyLCByXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKG8sIGkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbi5sb2FkKHQsIGUsIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ID8gaSh0KSA6IG8oZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIsIG51bGxdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIHQucHJvdG90eXBlLmQgPSBmdW5jdGlvbiAodCwgZSwgbykge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgbjtcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGUgJiYgcih0LCBlLCBvKSAmJiAobiA9IGNjLmFzc2V0TWFuYWdlci5hc3NldHMuZ2V0KGUpKSA/IFsyLCBuXSA6IFsyLCBudWxsXTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIHQucHJvdG90eXBlLmdldEJ1bmRsZUJ5U3RyaW5nID0gZnVuY3Rpb24gKHQpIHtcbiAgICAgICAgdmFyIGU7XG4gICAgICAgIHZhciBvO1xuICAgICAgICB2YXIgbiA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uICh0LCBuKSB7XG4gICAgICAgICAgICBlID0gdDtcbiAgICAgICAgICAgIG8gPSBuO1xuICAgICAgICB9KTtcbiAgICAgICAgdmFyIGkgPSBjYy5hc3NldE1hbmFnZXIuZ2V0QnVuZGxlKHQpO1xuICAgICAgICBpXG4gICAgICAgICAgICA/IGUoaSlcbiAgICAgICAgICAgIDogY2MuYXNzZXRNYW5hZ2VyLmxvYWRCdW5kbGUodCwgZnVuY3Rpb24gKHQsIG4pIHtcbiAgICAgICAgICAgICAgICAgIHQgPyBvKCkgOiBlKG4pO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG47XG4gICAgfTtcbiAgICByZXR1cm4gdDtcbn0pKCk7XG5leHBvcnRzLmRlZmF1bHQgPSBhO1xuIl19