
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/ui_challengeInfo.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'c28b4mJ0e5ASrI7YQ9qWxVY', 'ui_challengeInfo');
// scripts/ui_challengeInfo.js

"use strict";

var n;
Object.defineProperty(exports, "__esModule", {
  value: !0
});

var _cfgMgr = require("cfgMgr");

var _global = require("global");

var _pInfo = require("pInfo");

var _baseUI = require("baseUI");

var u = cc._decorator;
var p = u.ccclass;
var d = u.property;

var h = function (t) {
  function e() {
    var e = null !== t && t.apply(this, arguments) || this;
    e.lvLB = null;
    e.infoLB = null;
    e.sizeLb = null;
    e.diffLb = null;
    e.crossLb = null;
    e.costLB = null;
    e.typeSp = null;
    e.lightNode = null;
    e.tySps = [];
    return e;
  }

  __extends(e, t);

  e.prototype.onLoad = function () {
    cc.tween(this.lightNode).by(3, {
      angle: -360
    }).repeatForever().start();
  };

  e.prototype.init = function (t) {
    var e = t.lvData;
    var o = t.cost;
    var n = t.crossNum;
    this.lvData = e;
    this.cost = o;
    var i = "";
    var r = "";
    var a = 5;

    switch (e.type) {
      case _pInfo.challengeType.worm:
        i = "除虫模式", r = "虫子都是连续格子组成，\n根据提示的数字找出虫子。", this.typeSp.spriteFrame = this.tySps[0], a = e.data.size;
        break;

      case _pInfo.challengeType.tree:
        i = "除草模式", r = "点亮草丛四周的任意格子，\n可以去除草丛。", this.typeSp.spriteFrame = this.tySps[1], a = e.size;
        break;

      case _pInfo.challengeType.ice:
        i = "除冰模式", r = "点亮冰块周围4个格子，\n可以去除冰块。", this.typeSp.spriteFrame = this.tySps[2], a = e.size;
    }

    this.lvLB.string = i;
    this.infoLB.string = r;
    this.crossLb.string = n;
    this.sizeLb.string = a + "x" + a;
    this.diffLb.string = this.getLevelDiffStrByDiff(e.diff);
    this.costLB.string = o + "/" + _pInfo["default"].ins.getPower();
  };

  e.prototype.onBtnStart = function () {
    var t = this.cost;
    var e = Object.assign({}, this.lvData);

    _pInfo["default"].ins.addPower(-t);

    var o = e.date;
    var n = 1e4 * o.year + 100 * o.month + o.day;
    _global["default"].challengeLv = n;

    _pInfo.chgScene(_pInfo.sceneType.game, {
      gameType: _pInfo.gameType.challenge,
      challengeData: e
    });
  };

  e.prototype.hideThis = function () {
    this.hide();
  };

  e.prototype.getLevelDiffStrByDiff = function (t) {
    var e = _cfgMgr["default"].serverCfg.difficulty_rules.rules;
    var o = "入门难度";
    var n = 1;

    for (var i in e) {
      if (o = e[i].title, n === t) break;
      n++;
    }

    return o.slice(0, -2);
  };

  __decorate([d(cc.Label)], e.prototype, "lvLB", void 0);

  __decorate([d(cc.Label)], e.prototype, "infoLB", void 0);

  __decorate([d(cc.Label)], e.prototype, "sizeLb", void 0);

  __decorate([d(cc.Label)], e.prototype, "diffLb", void 0);

  __decorate([d(cc.Label)], e.prototype, "crossLb", void 0);

  __decorate([d(cc.Label)], e.prototype, "costLB", void 0);

  __decorate([d(cc.Sprite)], e.prototype, "typeSp", void 0);

  __decorate([d(cc.Node)], e.prototype, "lightNode", void 0);

  __decorate([d([cc.SpriteFrame])], e.prototype, "tySps", void 0);

  return __decorate([p], e);
}(_baseUI["default"]);

exports["default"] = h;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcdWlfY2hhbGxlbmdlSW5mby5qcyJdLCJuYW1lcyI6WyJuIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwidmFsdWUiLCJfY2ZnTWdyIiwicmVxdWlyZSIsIl9nbG9iYWwiLCJfcEluZm8iLCJfYmFzZVVJIiwidSIsImNjIiwiX2RlY29yYXRvciIsInAiLCJjY2NsYXNzIiwiZCIsInByb3BlcnR5IiwiaCIsInQiLCJlIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJsdkxCIiwiaW5mb0xCIiwic2l6ZUxiIiwiZGlmZkxiIiwiY3Jvc3NMYiIsImNvc3RMQiIsInR5cGVTcCIsImxpZ2h0Tm9kZSIsInR5U3BzIiwiX19leHRlbmRzIiwicHJvdG90eXBlIiwib25Mb2FkIiwidHdlZW4iLCJieSIsImFuZ2xlIiwicmVwZWF0Rm9yZXZlciIsInN0YXJ0IiwiaW5pdCIsImx2RGF0YSIsIm8iLCJjb3N0IiwiY3Jvc3NOdW0iLCJpIiwiciIsImEiLCJ0eXBlIiwiY2hhbGxlbmdlVHlwZSIsIndvcm0iLCJzcHJpdGVGcmFtZSIsImRhdGEiLCJzaXplIiwidHJlZSIsImljZSIsInN0cmluZyIsImdldExldmVsRGlmZlN0ckJ5RGlmZiIsImRpZmYiLCJpbnMiLCJnZXRQb3dlciIsIm9uQnRuU3RhcnQiLCJhc3NpZ24iLCJhZGRQb3dlciIsImRhdGUiLCJ5ZWFyIiwibW9udGgiLCJkYXkiLCJjaGFsbGVuZ2VMdiIsImNoZ1NjZW5lIiwic2NlbmVUeXBlIiwiZ2FtZSIsImdhbWVUeXBlIiwiY2hhbGxlbmdlIiwiY2hhbGxlbmdlRGF0YSIsImhpZGVUaGlzIiwiaGlkZSIsInNlcnZlckNmZyIsImRpZmZpY3VsdHlfcnVsZXMiLCJydWxlcyIsInRpdGxlIiwic2xpY2UiLCJfX2RlY29yYXRlIiwiTGFiZWwiLCJTcHJpdGUiLCJOb2RlIiwiU3ByaXRlRnJhbWUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsSUFBSUEsQ0FBSjtBQUNBQyxNQUFNLENBQUNDLGNBQVAsQ0FBc0JDLE9BQXRCLEVBQStCLFlBQS9CLEVBQTZDO0VBQUNDLEtBQUssRUFBRSxDQUFDO0FBQVQsQ0FBN0M7O0FBQ0EsSUFBSUMsT0FBTyxHQUFHQyxPQUFPLENBQUMsUUFBRCxDQUFyQjs7QUFDQSxJQUFJQyxPQUFPLEdBQUdELE9BQU8sQ0FBQyxRQUFELENBQXJCOztBQUNBLElBQUlFLE1BQU0sR0FBR0YsT0FBTyxDQUFDLE9BQUQsQ0FBcEI7O0FBQ0EsSUFBSUcsT0FBTyxHQUFHSCxPQUFPLENBQUMsUUFBRCxDQUFyQjs7QUFDQSxJQUFJSSxDQUFDLEdBQUdDLEVBQUUsQ0FBQ0MsVUFBWDtBQUNBLElBQUlDLENBQUMsR0FBR0gsQ0FBQyxDQUFDSSxPQUFWO0FBQ0EsSUFBSUMsQ0FBQyxHQUFHTCxDQUFDLENBQUNNLFFBQVY7O0FBQ0EsSUFBSUMsQ0FBQyxHQUFJLFVBQVVDLENBQVYsRUFBYTtFQUNsQixTQUFTQyxDQUFULEdBQWE7SUFDVCxJQUFJQSxDQUFDLEdBQUksU0FBU0QsQ0FBVCxJQUFjQSxDQUFDLENBQUNFLEtBQUYsQ0FBUSxJQUFSLEVBQWNDLFNBQWQsQ0FBZixJQUE0QyxJQUFwRDtJQUNBRixDQUFDLENBQUNHLElBQUYsR0FBUyxJQUFUO0lBQ0FILENBQUMsQ0FBQ0ksTUFBRixHQUFXLElBQVg7SUFDQUosQ0FBQyxDQUFDSyxNQUFGLEdBQVcsSUFBWDtJQUNBTCxDQUFDLENBQUNNLE1BQUYsR0FBVyxJQUFYO0lBQ0FOLENBQUMsQ0FBQ08sT0FBRixHQUFZLElBQVo7SUFDQVAsQ0FBQyxDQUFDUSxNQUFGLEdBQVcsSUFBWDtJQUNBUixDQUFDLENBQUNTLE1BQUYsR0FBVyxJQUFYO0lBQ0FULENBQUMsQ0FBQ1UsU0FBRixHQUFjLElBQWQ7SUFDQVYsQ0FBQyxDQUFDVyxLQUFGLEdBQVUsRUFBVjtJQUNBLE9BQU9YLENBQVA7RUFDSDs7RUFDRFksU0FBUyxDQUFDWixDQUFELEVBQUlELENBQUosQ0FBVDs7RUFDQUMsQ0FBQyxDQUFDYSxTQUFGLENBQVlDLE1BQVosR0FBcUIsWUFBWTtJQUM3QnRCLEVBQUUsQ0FBQ3VCLEtBQUgsQ0FBUyxLQUFLTCxTQUFkLEVBQXlCTSxFQUF6QixDQUE0QixDQUE1QixFQUErQjtNQUFDQyxLQUFLLEVBQUUsQ0FBQztJQUFULENBQS9CLEVBQThDQyxhQUE5QyxHQUE4REMsS0FBOUQ7RUFDSCxDQUZEOztFQUdBbkIsQ0FBQyxDQUFDYSxTQUFGLENBQVlPLElBQVosR0FBbUIsVUFBVXJCLENBQVYsRUFBYTtJQUM1QixJQUFJQyxDQUFDLEdBQUdELENBQUMsQ0FBQ3NCLE1BQVY7SUFDQSxJQUFJQyxDQUFDLEdBQUd2QixDQUFDLENBQUN3QixJQUFWO0lBQ0EsSUFBSTFDLENBQUMsR0FBR2tCLENBQUMsQ0FBQ3lCLFFBQVY7SUFDQSxLQUFLSCxNQUFMLEdBQWNyQixDQUFkO0lBQ0EsS0FBS3VCLElBQUwsR0FBWUQsQ0FBWjtJQUNBLElBQUlHLENBQUMsR0FBRyxFQUFSO0lBQ0EsSUFBSUMsQ0FBQyxHQUFHLEVBQVI7SUFDQSxJQUFJQyxDQUFDLEdBQUcsQ0FBUjs7SUFDQSxRQUFRM0IsQ0FBQyxDQUFDNEIsSUFBVjtNQUNJLEtBQUt2QyxNQUFNLENBQUN3QyxhQUFQLENBQXFCQyxJQUExQjtRQUNLTCxDQUFDLEdBQUcsTUFBTCxFQUNLQyxDQUFDLEdBQUcsMkJBRFQsRUFFSyxLQUFLakIsTUFBTCxDQUFZc0IsV0FBWixHQUEwQixLQUFLcEIsS0FBTCxDQUFXLENBQVgsQ0FGL0IsRUFHS2dCLENBQUMsR0FBRzNCLENBQUMsQ0FBQ2dDLElBQUYsQ0FBT0MsSUFIaEI7UUFJQTs7TUFDSixLQUFLNUMsTUFBTSxDQUFDd0MsYUFBUCxDQUFxQkssSUFBMUI7UUFDS1QsQ0FBQyxHQUFHLE1BQUwsRUFDS0MsQ0FBQyxHQUFHLHVCQURULEVBRUssS0FBS2pCLE1BQUwsQ0FBWXNCLFdBQVosR0FBMEIsS0FBS3BCLEtBQUwsQ0FBVyxDQUFYLENBRi9CLEVBR0tnQixDQUFDLEdBQUczQixDQUFDLENBQUNpQyxJQUhYO1FBSUE7O01BQ0osS0FBSzVDLE1BQU0sQ0FBQ3dDLGFBQVAsQ0FBcUJNLEdBQTFCO1FBQ0tWLENBQUMsR0FBRyxNQUFMLEVBQ0tDLENBQUMsR0FBRyxzQkFEVCxFQUVLLEtBQUtqQixNQUFMLENBQVlzQixXQUFaLEdBQTBCLEtBQUtwQixLQUFMLENBQVcsQ0FBWCxDQUYvQixFQUdLZ0IsQ0FBQyxHQUFHM0IsQ0FBQyxDQUFDaUMsSUFIWDtJQWRSOztJQW1CQSxLQUFLOUIsSUFBTCxDQUFVaUMsTUFBVixHQUFtQlgsQ0FBbkI7SUFDQSxLQUFLckIsTUFBTCxDQUFZZ0MsTUFBWixHQUFxQlYsQ0FBckI7SUFDQSxLQUFLbkIsT0FBTCxDQUFhNkIsTUFBYixHQUFzQnZELENBQXRCO0lBQ0EsS0FBS3dCLE1BQUwsQ0FBWStCLE1BQVosR0FBcUJULENBQUMsR0FBRyxHQUFKLEdBQVVBLENBQS9CO0lBQ0EsS0FBS3JCLE1BQUwsQ0FBWThCLE1BQVosR0FBcUIsS0FBS0MscUJBQUwsQ0FBMkJyQyxDQUFDLENBQUNzQyxJQUE3QixDQUFyQjtJQUNBLEtBQUs5QixNQUFMLENBQVk0QixNQUFaLEdBQXFCZCxDQUFDLEdBQUcsR0FBSixHQUFVakMsTUFBTSxXQUFOLENBQWVrRCxHQUFmLENBQW1CQyxRQUFuQixFQUEvQjtFQUNILENBbENEOztFQW1DQXhDLENBQUMsQ0FBQ2EsU0FBRixDQUFZNEIsVUFBWixHQUF5QixZQUFZO0lBQ2pDLElBQUkxQyxDQUFDLEdBQUcsS0FBS3dCLElBQWI7SUFDQSxJQUFJdkIsQ0FBQyxHQUFHbEIsTUFBTSxDQUFDNEQsTUFBUCxDQUFjLEVBQWQsRUFBa0IsS0FBS3JCLE1BQXZCLENBQVI7O0lBQ0FoQyxNQUFNLFdBQU4sQ0FBZWtELEdBQWYsQ0FBbUJJLFFBQW5CLENBQTRCLENBQUM1QyxDQUE3Qjs7SUFDQSxJQUFJdUIsQ0FBQyxHQUFHdEIsQ0FBQyxDQUFDNEMsSUFBVjtJQUNBLElBQUkvRCxDQUFDLEdBQUcsTUFBTXlDLENBQUMsQ0FBQ3VCLElBQVIsR0FBZSxNQUFNdkIsQ0FBQyxDQUFDd0IsS0FBdkIsR0FBK0J4QixDQUFDLENBQUN5QixHQUF6QztJQUNBM0QsT0FBTyxXQUFQLENBQWdCNEQsV0FBaEIsR0FBOEJuRSxDQUE5Qjs7SUFDQVEsTUFBTSxDQUFDNEQsUUFBUCxDQUFnQjVELE1BQU0sQ0FBQzZELFNBQVAsQ0FBaUJDLElBQWpDLEVBQXVDO01BQUNDLFFBQVEsRUFBRS9ELE1BQU0sQ0FBQytELFFBQVAsQ0FBZ0JDLFNBQTNCO01BQXNDQyxhQUFhLEVBQUV0RDtJQUFyRCxDQUF2QztFQUNILENBUkQ7O0VBU0FBLENBQUMsQ0FBQ2EsU0FBRixDQUFZMEMsUUFBWixHQUF1QixZQUFZO0lBQy9CLEtBQUtDLElBQUw7RUFDSCxDQUZEOztFQUdBeEQsQ0FBQyxDQUFDYSxTQUFGLENBQVl3QixxQkFBWixHQUFvQyxVQUFVdEMsQ0FBVixFQUFhO0lBQzdDLElBQUlDLENBQUMsR0FBR2QsT0FBTyxXQUFQLENBQWdCdUUsU0FBaEIsQ0FBMEJDLGdCQUExQixDQUEyQ0MsS0FBbkQ7SUFDQSxJQUFJckMsQ0FBQyxHQUFHLE1BQVI7SUFDQSxJQUFJekMsQ0FBQyxHQUFHLENBQVI7O0lBQ0EsS0FBSyxJQUFJNEMsQ0FBVCxJQUFjekIsQ0FBZCxFQUFpQjtNQUNiLElBQU1zQixDQUFDLEdBQUd0QixDQUFDLENBQUN5QixDQUFELENBQUQsQ0FBS21DLEtBQVYsRUFBa0IvRSxDQUFDLEtBQUtrQixDQUE3QixFQUFpQztNQUNqQ2xCLENBQUM7SUFDSjs7SUFDRCxPQUFPeUMsQ0FBQyxDQUFDdUMsS0FBRixDQUFRLENBQVIsRUFBVyxDQUFDLENBQVosQ0FBUDtFQUNILENBVEQ7O0VBVUFDLFVBQVUsQ0FBQyxDQUFDbEUsQ0FBQyxDQUFDSixFQUFFLENBQUN1RSxLQUFKLENBQUYsQ0FBRCxFQUFnQi9ELENBQUMsQ0FBQ2EsU0FBbEIsRUFBNkIsTUFBN0IsRUFBcUMsS0FBSyxDQUExQyxDQUFWOztFQUNBaUQsVUFBVSxDQUFDLENBQUNsRSxDQUFDLENBQUNKLEVBQUUsQ0FBQ3VFLEtBQUosQ0FBRixDQUFELEVBQWdCL0QsQ0FBQyxDQUFDYSxTQUFsQixFQUE2QixRQUE3QixFQUF1QyxLQUFLLENBQTVDLENBQVY7O0VBQ0FpRCxVQUFVLENBQUMsQ0FBQ2xFLENBQUMsQ0FBQ0osRUFBRSxDQUFDdUUsS0FBSixDQUFGLENBQUQsRUFBZ0IvRCxDQUFDLENBQUNhLFNBQWxCLEVBQTZCLFFBQTdCLEVBQXVDLEtBQUssQ0FBNUMsQ0FBVjs7RUFDQWlELFVBQVUsQ0FBQyxDQUFDbEUsQ0FBQyxDQUFDSixFQUFFLENBQUN1RSxLQUFKLENBQUYsQ0FBRCxFQUFnQi9ELENBQUMsQ0FBQ2EsU0FBbEIsRUFBNkIsUUFBN0IsRUFBdUMsS0FBSyxDQUE1QyxDQUFWOztFQUNBaUQsVUFBVSxDQUFDLENBQUNsRSxDQUFDLENBQUNKLEVBQUUsQ0FBQ3VFLEtBQUosQ0FBRixDQUFELEVBQWdCL0QsQ0FBQyxDQUFDYSxTQUFsQixFQUE2QixTQUE3QixFQUF3QyxLQUFLLENBQTdDLENBQVY7O0VBQ0FpRCxVQUFVLENBQUMsQ0FBQ2xFLENBQUMsQ0FBQ0osRUFBRSxDQUFDdUUsS0FBSixDQUFGLENBQUQsRUFBZ0IvRCxDQUFDLENBQUNhLFNBQWxCLEVBQTZCLFFBQTdCLEVBQXVDLEtBQUssQ0FBNUMsQ0FBVjs7RUFDQWlELFVBQVUsQ0FBQyxDQUFDbEUsQ0FBQyxDQUFDSixFQUFFLENBQUN3RSxNQUFKLENBQUYsQ0FBRCxFQUFpQmhFLENBQUMsQ0FBQ2EsU0FBbkIsRUFBOEIsUUFBOUIsRUFBd0MsS0FBSyxDQUE3QyxDQUFWOztFQUNBaUQsVUFBVSxDQUFDLENBQUNsRSxDQUFDLENBQUNKLEVBQUUsQ0FBQ3lFLElBQUosQ0FBRixDQUFELEVBQWVqRSxDQUFDLENBQUNhLFNBQWpCLEVBQTRCLFdBQTVCLEVBQXlDLEtBQUssQ0FBOUMsQ0FBVjs7RUFDQWlELFVBQVUsQ0FBQyxDQUFDbEUsQ0FBQyxDQUFDLENBQUNKLEVBQUUsQ0FBQzBFLFdBQUosQ0FBRCxDQUFGLENBQUQsRUFBd0JsRSxDQUFDLENBQUNhLFNBQTFCLEVBQXFDLE9BQXJDLEVBQThDLEtBQUssQ0FBbkQsQ0FBVjs7RUFDQSxPQUFPaUQsVUFBVSxDQUFDLENBQUNwRSxDQUFELENBQUQsRUFBTU0sQ0FBTixDQUFqQjtBQUNILENBckZPLENBcUZMVixPQUFPLFdBckZGLENBQVI7O0FBc0ZBTixPQUFPLFdBQVAsR0FBa0JjLENBQWxCIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgbjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge3ZhbHVlOiAhMH0pO1xudmFyIF9jZmdNZ3IgPSByZXF1aXJlKFwiY2ZnTWdyXCIpO1xudmFyIF9nbG9iYWwgPSByZXF1aXJlKFwiZ2xvYmFsXCIpO1xudmFyIF9wSW5mbyA9IHJlcXVpcmUoXCJwSW5mb1wiKTtcbnZhciBfYmFzZVVJID0gcmVxdWlyZShcImJhc2VVSVwiKTtcbnZhciB1ID0gY2MuX2RlY29yYXRvcjtcbnZhciBwID0gdS5jY2NsYXNzO1xudmFyIGQgPSB1LnByb3BlcnR5O1xudmFyIGggPSAoZnVuY3Rpb24gKHQpIHtcbiAgICBmdW5jdGlvbiBlKCkge1xuICAgICAgICB2YXIgZSA9IChudWxsICE9PSB0ICYmIHQuYXBwbHkodGhpcywgYXJndW1lbnRzKSkgfHwgdGhpcztcbiAgICAgICAgZS5sdkxCID0gbnVsbDtcbiAgICAgICAgZS5pbmZvTEIgPSBudWxsO1xuICAgICAgICBlLnNpemVMYiA9IG51bGw7XG4gICAgICAgIGUuZGlmZkxiID0gbnVsbDtcbiAgICAgICAgZS5jcm9zc0xiID0gbnVsbDtcbiAgICAgICAgZS5jb3N0TEIgPSBudWxsO1xuICAgICAgICBlLnR5cGVTcCA9IG51bGw7XG4gICAgICAgIGUubGlnaHROb2RlID0gbnVsbDtcbiAgICAgICAgZS50eVNwcyA9IFtdO1xuICAgICAgICByZXR1cm4gZTtcbiAgICB9XG4gICAgX19leHRlbmRzKGUsIHQpO1xuICAgIGUucHJvdG90eXBlLm9uTG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY2MudHdlZW4odGhpcy5saWdodE5vZGUpLmJ5KDMsIHthbmdsZTogLTM2MH0pLnJlcGVhdEZvcmV2ZXIoKS5zdGFydCgpO1xuICAgIH07XG4gICAgZS5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uICh0KSB7XG4gICAgICAgIHZhciBlID0gdC5sdkRhdGE7XG4gICAgICAgIHZhciBvID0gdC5jb3N0O1xuICAgICAgICB2YXIgbiA9IHQuY3Jvc3NOdW07XG4gICAgICAgIHRoaXMubHZEYXRhID0gZTtcbiAgICAgICAgdGhpcy5jb3N0ID0gbztcbiAgICAgICAgdmFyIGkgPSBcIlwiO1xuICAgICAgICB2YXIgciA9IFwiXCI7XG4gICAgICAgIHZhciBhID0gNTtcbiAgICAgICAgc3dpdGNoIChlLnR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgX3BJbmZvLmNoYWxsZW5nZVR5cGUud29ybTpcbiAgICAgICAgICAgICAgICAoaSA9IFwi6Zmk6Jmr5qih5byPXCIpLFxuICAgICAgICAgICAgICAgICAgICAociA9IFwi6Jmr5a2Q6YO95piv6L+e57ut5qC85a2Q57uE5oiQ77yMXFxu5qC55o2u5o+Q56S655qE5pWw5a2X5om+5Ye66Jmr5a2Q44CCXCIpLFxuICAgICAgICAgICAgICAgICAgICAodGhpcy50eXBlU3Auc3ByaXRlRnJhbWUgPSB0aGlzLnR5U3BzWzBdKSxcbiAgICAgICAgICAgICAgICAgICAgKGEgPSBlLmRhdGEuc2l6ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIF9wSW5mby5jaGFsbGVuZ2VUeXBlLnRyZWU6XG4gICAgICAgICAgICAgICAgKGkgPSBcIumZpOiNieaooeW8j1wiKSxcbiAgICAgICAgICAgICAgICAgICAgKHIgPSBcIueCueS6ruiNieS4m+Wbm+WRqOeahOS7u+aEj+agvOWtkO+8jFxcbuWPr+S7peWOu+mZpOiNieS4m+OAglwiKSxcbiAgICAgICAgICAgICAgICAgICAgKHRoaXMudHlwZVNwLnNwcml0ZUZyYW1lID0gdGhpcy50eVNwc1sxXSksXG4gICAgICAgICAgICAgICAgICAgIChhID0gZS5zaXplKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgX3BJbmZvLmNoYWxsZW5nZVR5cGUuaWNlOlxuICAgICAgICAgICAgICAgIChpID0gXCLpmaTlhrDmqKHlvI9cIiksXG4gICAgICAgICAgICAgICAgICAgIChyID0gXCLngrnkuq7lhrDlnZflkajlm7Q05Liq5qC85a2Q77yMXFxu5Y+v5Lul5Y676Zmk5Yaw5Z2X44CCXCIpLFxuICAgICAgICAgICAgICAgICAgICAodGhpcy50eXBlU3Auc3ByaXRlRnJhbWUgPSB0aGlzLnR5U3BzWzJdKSxcbiAgICAgICAgICAgICAgICAgICAgKGEgPSBlLnNpemUpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubHZMQi5zdHJpbmcgPSBpO1xuICAgICAgICB0aGlzLmluZm9MQi5zdHJpbmcgPSByO1xuICAgICAgICB0aGlzLmNyb3NzTGIuc3RyaW5nID0gbjtcbiAgICAgICAgdGhpcy5zaXplTGIuc3RyaW5nID0gYSArIFwieFwiICsgYTtcbiAgICAgICAgdGhpcy5kaWZmTGIuc3RyaW5nID0gdGhpcy5nZXRMZXZlbERpZmZTdHJCeURpZmYoZS5kaWZmKTtcbiAgICAgICAgdGhpcy5jb3N0TEIuc3RyaW5nID0gbyArIFwiL1wiICsgX3BJbmZvLmRlZmF1bHQuaW5zLmdldFBvd2VyKCk7XG4gICAgfTtcbiAgICBlLnByb3RvdHlwZS5vbkJ0blN0YXJ0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdCA9IHRoaXMuY29zdDtcbiAgICAgICAgdmFyIGUgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLmx2RGF0YSk7XG4gICAgICAgIF9wSW5mby5kZWZhdWx0Lmlucy5hZGRQb3dlcigtdCk7XG4gICAgICAgIHZhciBvID0gZS5kYXRlO1xuICAgICAgICB2YXIgbiA9IDFlNCAqIG8ueWVhciArIDEwMCAqIG8ubW9udGggKyBvLmRheTtcbiAgICAgICAgX2dsb2JhbC5kZWZhdWx0LmNoYWxsZW5nZUx2ID0gbjtcbiAgICAgICAgX3BJbmZvLmNoZ1NjZW5lKF9wSW5mby5zY2VuZVR5cGUuZ2FtZSwge2dhbWVUeXBlOiBfcEluZm8uZ2FtZVR5cGUuY2hhbGxlbmdlLCBjaGFsbGVuZ2VEYXRhOiBlfSk7XG4gICAgfTtcbiAgICBlLnByb3RvdHlwZS5oaWRlVGhpcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5oaWRlKCk7XG4gICAgfTtcbiAgICBlLnByb3RvdHlwZS5nZXRMZXZlbERpZmZTdHJCeURpZmYgPSBmdW5jdGlvbiAodCkge1xuICAgICAgICB2YXIgZSA9IF9jZmdNZ3IuZGVmYXVsdC5zZXJ2ZXJDZmcuZGlmZmljdWx0eV9ydWxlcy5ydWxlcztcbiAgICAgICAgdmFyIG8gPSBcIuWFpemXqOmavuW6plwiO1xuICAgICAgICB2YXIgbiA9IDE7XG4gICAgICAgIGZvciAodmFyIGkgaW4gZSkge1xuICAgICAgICAgICAgaWYgKCgobyA9IGVbaV0udGl0bGUpLCBuID09PSB0KSkgYnJlYWs7XG4gICAgICAgICAgICBuKys7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG8uc2xpY2UoMCwgLTIpO1xuICAgIH07XG4gICAgX19kZWNvcmF0ZShbZChjYy5MYWJlbCldLCBlLnByb3RvdHlwZSwgXCJsdkxCXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbZChjYy5MYWJlbCldLCBlLnByb3RvdHlwZSwgXCJpbmZvTEJcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtkKGNjLkxhYmVsKV0sIGUucHJvdG90eXBlLCBcInNpemVMYlwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW2QoY2MuTGFiZWwpXSwgZS5wcm90b3R5cGUsIFwiZGlmZkxiXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbZChjYy5MYWJlbCldLCBlLnByb3RvdHlwZSwgXCJjcm9zc0xiXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbZChjYy5MYWJlbCldLCBlLnByb3RvdHlwZSwgXCJjb3N0TEJcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtkKGNjLlNwcml0ZSldLCBlLnByb3RvdHlwZSwgXCJ0eXBlU3BcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtkKGNjLk5vZGUpXSwgZS5wcm90b3R5cGUsIFwibGlnaHROb2RlXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbZChbY2MuU3ByaXRlRnJhbWVdKV0sIGUucHJvdG90eXBlLCBcInR5U3BzXCIsIHZvaWQgMCk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGUoW3BdLCBlKTtcbn0pKF9iYXNlVUkuZGVmYXVsdCk7XG5leHBvcnRzLmRlZmF1bHQgPSBoO1xuIl19