
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/ui_festival.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'fd8b2rRJL5Bb4++/HXP0pgn', 'ui_festival');
// scripts/ui_festival.js

"use strict";

var n;
Object.defineProperty(exports, "__esModule", {
  value: !0
});

var _evts = require("evts");

var _idx = require("idx");

var _mySafeArea = require("mySafeArea");

var _res = require("res");

var _time = require("time");

var _global = require("global");

var _bagMgr = require("bagMgr");

var _festivalMgr = require("festivalMgr");

var _newJigMgr = require("newJigMgr");

var _panelMgr = require("panelMgr");

var _tipMgr = require("tipMgr");

var _pInfo = require("pInfo");

var _baseUI = require("baseUI");

var _ = cc._decorator;
var b = _.ccclass;
var w = _.property;

var S = function (t) {
  function e() {
    var e = null !== t && t.apply(this, arguments) || this;
    e.proLb = null;
    e.taskLb = null;
    e.timeLb = null;
    e.imgNode = null;
    e.tianNode = null;
    e.dayTimeLb = null;
    e.costLb = null;
    e.startBtn = null;
    e.topNode = null;
    e.upEggNode = null;
    e.eggNode = null;
    e.spineNode = null;
    e.jigsawNum = null;
    return e;
  }

  __extends(e, t);

  e.prototype.onLoad = function () {
    this.node.height = cc.winSize.height;
    this.checkEndTime();
  };

  e.prototype.start = function () {
    var t = this;
    this.initPanel();
    this.upNewJigRed();
    this.scheduleOnce(function () {
      t.adapter();
    });
  };

  e.prototype.adapter = function () {
    var t = _mySafeArea.getSafeAreaRect().yMin;

    this.topNode.y -= t;
  };

  e.prototype.upNewJigRed = function () {
    var t = _newJigMgr["default"].ins.getUnPlacedNum();

    if (t > 0) {
      var e = t > 99 ? "99+" : t + "";
      this.jigsawNum.node.parent.active = !0;
      this.jigsawNum.string = e + "";
      this.jigsawNum.node.x = _global["default"].getCharXOffset(this.jigsawNum.string);
    } else this.jigsawNum.node.parent.active = !1;
  };

  e.prototype.initPanel = function () {
    this.initTask();
    this.initImg();
    this.initBtn();
    this.initReward();
  };

  e.prototype.initTask = function () {
    var t = _festivalMgr["default"].ins;
    var e = t.getNowTaskData();
    var o = e.nums;
    var n = t.getNowTaskPro();
    this.taskLb.string = e.title.format(o);
    this.schedule(this.showTime, 1);
    this.showTime();
    t.isTaskLocked() ? (this.proLb.string = "", this.upEggNode.active = !1) : (this.proLb.string = n + "/" + o, this.upEggNode.active = !0);
  };

  e.prototype.initImg = function () {
    for (var t = _festivalMgr["default"].ins.getFesPuzzleLv() - 1, e = this.imgNode.children, o = 0, n = e.length; o < n; o++) {
      e[o].active = o >= t;
    }

    if (_festivalMgr["default"].ins.isPuzzleMax()) this.spineNode.active = !1;else {
      this.spineNode.active = !0;
      var i = this.imgNode.children[t];
      this.spineNode.position = cc.v3(i.x + this.imgNode.x + 54, i.y + this.imgNode.y - 55);
    }
  };

  e.prototype.initBtn = function () {
    var t = _festivalMgr["default"].ins.getFesLevelCost();

    this.costLb.string = "-" + t;
    this.startBtn.active = !_festivalMgr["default"].ins.isPuzzleMax();
  };

  e.prototype.initReward = function () {
    var t = this.upEggNode;
    if (_festivalMgr["default"].ins.isTaskLocked()) return this.checkShowFinger(!1), this.eggNode.angle = 0, cc.Tween.stopAllByTarget(this.eggNode), void (t.active = !1);
    t.active = !0;
    var e = _festivalMgr["default"].ins;
    var o = e.getNowTaskData().nums;
    e.getNowTaskPro() >= o ? (this.checkShowFinger(!0), cc.Tween.stopAllByTarget(this.eggNode), cc.tween(this.eggNode).sequence(cc.tween().to(0.5, {
      angle: 10
    }), cc.tween().to(1, {
      angle: 0
    }, {
      easing: "elasticOut"
    }).delay(0.5)).repeatForever().start()) : (this.checkShowFinger(!1), this.eggNode.angle = 0, cc.Tween.stopAllByTarget(this.eggNode));
  };

  e.prototype.checkShowFinger = function (t) {
    var e = this;
    t ? this._fingerNode ? this._fingerNode.active = !0 : _res["default"].ins.lPre("prefab/finger").then(function (t) {
      e._fingerNode = cc.instantiate(t);
      e.eggNode.parent.addChild(e._fingerNode);
      var o = cc.v3(0, 105);

      e._fingerNode.setPosition(o);

      e._fingerNode.active = !0;
    })["catch"](function () {}) : this._fingerNode && this._fingerNode.active && (this._fingerNode.active = !1);
  };

  e.prototype.showTime = function () {
    var t = _time["default"].ins.nextZeroTime / 1e3;
    if (t <= 0) return this.initTask(), void this.unschedule(this.showTime);
    this.dayTimeLb.string = _time["default"].getFormatHMS(t);
  };

  e.prototype.checkEndTime = function () {
    var t = _festivalMgr["default"].ins.fesEndTime - _time["default"].ins.serverTime;

    if (t > 0) {
      var e = Math.floor(t / 86400);
      if (e <= 0) this.tianNode.active = !1, this.schedule(this.showEndTime, 1), this.showEndTime();else {
        var o = this.timeLb.string = e + "";
        this.tianNode.active = !0;
        1 == o.length && (this.tianNode.x = 112);
      }
    } else this.timeLb.string = "", this.tianNode.active = !1;
  };

  e.prototype.showEndTime = function () {
    var t = _festivalMgr["default"].ins.fesEndTime - _time["default"].ins.serverTime;
    if (t <= 0) return this.initTask(), this.timeLb.string = "已结束", void this.unschedule(this.showTime);
    this.timeLb.string = _time["default"].getFormatHMS(t);
  };

  e.prototype.hideThis = function () {
    _evts["default"].opE.emit({
      action: _evts["default"].UPD_FES_RED
    });

    this.hide();
  };

  e.prototype.onBtnGet = function () {
    if (_festivalMgr["default"].ins.isTaskLocked()) _tipMgr["default"].ins.showTip("今日任务已完成");else {
      var t = _festivalMgr["default"].ins;
      var e = t.getFesPro();
      var o = t.getNowTaskData();
      var n = o.nums;
      var i = t.getNowTaskPro();
      var r = o.val;
      var a = [];

      for (var c in r) {
        var l = r[c];
        var u = this.imgNode.children[e];
        var p = u.parent.convertToWorldSpaceAR(u.position);
        var f = {};
        f.itemId = c;
        f.worldPos = p;
        f.value = Number(l);
        a.push(f);
      }

      if (i >= n) {
        for (var c in r) {
          l = r[c], _bagMgr["default"].ins.addItem(c, Number(l));
        }

        _panelMgr["default"].ins.open("ui/ui_flyAni", {
          itemDatas: a
        });

        var m = Number(t.getFesPro());

        _idx.platform.reportEvent(_idx.ERepEvt.fesTaskFinish, {
          id: m
        });

        _festivalMgr["default"].ins.finishFesTask();

        this.initPanel();
      } else _panelMgr["default"].ins.open("ui/ui_preReward", {
        itemDatas: a
      });
    }
  };

  e.prototype.onBtnStart = function () {
    var t = _festivalMgr["default"].ins.getFesLevelCost();

    _pInfo["default"].ins.getPower() < t ? _panelMgr["default"].ins.open("ui/ui_getRes", {
      itemId: "times"
    }) : _festivalMgr["default"].ins.isPuzzleLocked() ? _tipMgr["default"].ins.showTip("明天开启") : (_festivalMgr["default"].ins.updPro(_festivalMgr.fesTaskKey.costPower, t), _pInfo["default"].ins.addPower(-t), _pInfo.chgScene(_pInfo.sceneType.game, {
      gameType: _pInfo.gameType.festival
    }));
  };

  e.prototype.onBtnJig = function () {
    this.hideThis();

    _evts["default"].opE.emit({
      action: _evts["default"].MAINJUMP,
      data: 0,
      param: "festival"
    });
  };

  e.prototype.onBtnGo = function () {
    var t = _festivalMgr["default"].ins.getNowTaskData();

    switch (this.hideThis(), t.get_by) {
      case _festivalMgr.fesTaskKey.raceScore:
      case _festivalMgr.fesTaskKey.raceTimes:
        _evts["default"].opE.emit({
          action: _evts["default"].MAINJUMP,
          data: 4
        });

        break;

      case _festivalMgr.fesTaskKey.costPower:
      case _festivalMgr.fesTaskKey.throughMain:
        _global["default"].levelDone ? _panelMgr["default"].ins.open("ui/ui_selectMode", null) : _panelMgr["default"].ins.open("ui/ui_lvInfo", null);
        break;

      case _festivalMgr.fesTaskKey.finishPuzzle:
        _evts["default"].opE.emit({
          action: _evts["default"].MAINJUMP,
          data: 0
        });

    }
  };

  __decorate([w(cc.Label)], e.prototype, "proLb", void 0);

  __decorate([w(cc.Label)], e.prototype, "taskLb", void 0);

  __decorate([w(cc.Label)], e.prototype, "timeLb", void 0);

  __decorate([w(cc.Node)], e.prototype, "imgNode", void 0);

  __decorate([w(cc.Node)], e.prototype, "tianNode", void 0);

  __decorate([w(cc.Label)], e.prototype, "dayTimeLb", void 0);

  __decorate([w(cc.Label)], e.prototype, "costLb", void 0);

  __decorate([w(cc.Node)], e.prototype, "startBtn", void 0);

  __decorate([w(cc.Node)], e.prototype, "topNode", void 0);

  __decorate([w(cc.Node)], e.prototype, "upEggNode", void 0);

  __decorate([w(cc.Node)], e.prototype, "eggNode", void 0);

  __decorate([w(cc.Node)], e.prototype, "spineNode", void 0);

  __decorate([w(cc.Label)], e.prototype, "jigsawNum", void 0);

  return __decorate([b], e);
}(_baseUI["default"]);

exports["default"] = S;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcdWlfZmVzdGl2YWwuanMiXSwibmFtZXMiOlsibiIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiX2V2dHMiLCJyZXF1aXJlIiwiX2lkeCIsIl9teVNhZmVBcmVhIiwiX3JlcyIsIl90aW1lIiwiX2dsb2JhbCIsIl9iYWdNZ3IiLCJfZmVzdGl2YWxNZ3IiLCJfbmV3SmlnTWdyIiwiX3BhbmVsTWdyIiwiX3RpcE1nciIsIl9wSW5mbyIsIl9iYXNlVUkiLCJfIiwiY2MiLCJfZGVjb3JhdG9yIiwiYiIsImNjY2xhc3MiLCJ3IiwicHJvcGVydHkiLCJTIiwidCIsImUiLCJhcHBseSIsImFyZ3VtZW50cyIsInByb0xiIiwidGFza0xiIiwidGltZUxiIiwiaW1nTm9kZSIsInRpYW5Ob2RlIiwiZGF5VGltZUxiIiwiY29zdExiIiwic3RhcnRCdG4iLCJ0b3BOb2RlIiwidXBFZ2dOb2RlIiwiZWdnTm9kZSIsInNwaW5lTm9kZSIsImppZ3Nhd051bSIsIl9fZXh0ZW5kcyIsInByb3RvdHlwZSIsIm9uTG9hZCIsIm5vZGUiLCJoZWlnaHQiLCJ3aW5TaXplIiwiY2hlY2tFbmRUaW1lIiwic3RhcnQiLCJpbml0UGFuZWwiLCJ1cE5ld0ppZ1JlZCIsInNjaGVkdWxlT25jZSIsImFkYXB0ZXIiLCJnZXRTYWZlQXJlYVJlY3QiLCJ5TWluIiwieSIsImlucyIsImdldFVuUGxhY2VkTnVtIiwicGFyZW50IiwiYWN0aXZlIiwic3RyaW5nIiwieCIsImdldENoYXJYT2Zmc2V0IiwiaW5pdFRhc2siLCJpbml0SW1nIiwiaW5pdEJ0biIsImluaXRSZXdhcmQiLCJnZXROb3dUYXNrRGF0YSIsIm8iLCJudW1zIiwiZ2V0Tm93VGFza1BybyIsInRpdGxlIiwiZm9ybWF0Iiwic2NoZWR1bGUiLCJzaG93VGltZSIsImlzVGFza0xvY2tlZCIsImdldEZlc1B1enpsZUx2IiwiY2hpbGRyZW4iLCJsZW5ndGgiLCJpc1B1enpsZU1heCIsImkiLCJwb3NpdGlvbiIsInYzIiwiZ2V0RmVzTGV2ZWxDb3N0IiwiY2hlY2tTaG93RmluZ2VyIiwiYW5nbGUiLCJUd2VlbiIsInN0b3BBbGxCeVRhcmdldCIsInR3ZWVuIiwic2VxdWVuY2UiLCJ0byIsImVhc2luZyIsImRlbGF5IiwicmVwZWF0Rm9yZXZlciIsIl9maW5nZXJOb2RlIiwibFByZSIsInRoZW4iLCJpbnN0YW50aWF0ZSIsImFkZENoaWxkIiwic2V0UG9zaXRpb24iLCJuZXh0WmVyb1RpbWUiLCJ1bnNjaGVkdWxlIiwiZ2V0Rm9ybWF0SE1TIiwiZmVzRW5kVGltZSIsInNlcnZlclRpbWUiLCJNYXRoIiwiZmxvb3IiLCJzaG93RW5kVGltZSIsImhpZGVUaGlzIiwib3BFIiwiZW1pdCIsImFjdGlvbiIsIlVQRF9GRVNfUkVEIiwiaGlkZSIsIm9uQnRuR2V0Iiwic2hvd1RpcCIsImdldEZlc1BybyIsInIiLCJ2YWwiLCJhIiwiYyIsImwiLCJ1IiwicCIsImNvbnZlcnRUb1dvcmxkU3BhY2VBUiIsImYiLCJpdGVtSWQiLCJ3b3JsZFBvcyIsIk51bWJlciIsInB1c2giLCJhZGRJdGVtIiwib3BlbiIsIml0ZW1EYXRhcyIsIm0iLCJwbGF0Zm9ybSIsInJlcG9ydEV2ZW50IiwiRVJlcEV2dCIsImZlc1Rhc2tGaW5pc2giLCJpZCIsImZpbmlzaEZlc1Rhc2siLCJvbkJ0blN0YXJ0IiwiZ2V0UG93ZXIiLCJpc1B1enpsZUxvY2tlZCIsInVwZFBybyIsImZlc1Rhc2tLZXkiLCJjb3N0UG93ZXIiLCJhZGRQb3dlciIsImNoZ1NjZW5lIiwic2NlbmVUeXBlIiwiZ2FtZSIsImdhbWVUeXBlIiwiZmVzdGl2YWwiLCJvbkJ0bkppZyIsIk1BSU5KVU1QIiwiZGF0YSIsInBhcmFtIiwib25CdG5HbyIsImdldF9ieSIsInJhY2VTY29yZSIsInJhY2VUaW1lcyIsInRocm91Z2hNYWluIiwibGV2ZWxEb25lIiwiZmluaXNoUHV6emxlIiwiX19kZWNvcmF0ZSIsIkxhYmVsIiwiTm9kZSJdLCJtYXBwaW5ncyI6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QixTQUFqQixFQUE0QixVQUE1QixFQUF3QyxLQUFLLENBQTdDLENBQVY7O0VBQ0F5SCxVQUFVLENBQUMsQ0FBQzlJLENBQUMsQ0FBQ0osRUFBRSxDQUFDb0osSUFBSixDQUFGLENBQUQsRUFBZTVJLENBQUMsQ0FBQ2lCLFNBQWpCLEVBQTRCLFNBQTVCLEVBQXVDLEtBQUssQ0FBNUMsQ0FBVjs7RUFDQXlILFVBQVUsQ0FBQyxDQUFDOUksQ0FBQyxDQUFDSixFQUFFLENBQUNvSixJQUFKLENBQUYsQ0FBRCxFQUFlNUksQ0FBQyxDQUFDaUIsU0FBakIsRUFBNEIsV0FBNUIsRUFBeUMsS0FBSyxDQUE5QyxDQUFWOztFQUNBeUgsVUFBVSxDQUFDLENBQUM5SSxDQUFDLENBQUNKLEVBQUUsQ0FBQ29KLElBQUosQ0FBRixDQUFELEVBQWU1SSxDQUFDLENBQUNpQixTQUFqQixFQUE0QixTQUE1QixFQUF1QyxLQUFLLENBQTVDLENBQVY7O0VBQ0F5SCxVQUFVLENBQUMsQ0FBQzlJLENBQUMsQ0FBQ0osRUFBRSxDQUFDb0osSUFBSixDQUFGLENBQUQsRUFBZTVJLENBQUMsQ0FBQ2lCLFNBQWpCLEVBQTRCLFdBQTVCLEVBQXlDLEtBQUssQ0FBOUMsQ0FBVjs7RUFDQXlILFVBQVUsQ0FBQyxDQUFDOUksQ0FBQyxDQUFDSixFQUFFLENBQUNtSixLQUFKLENBQUYsQ0FBRCxFQUFnQjNJLENBQUMsQ0FBQ2lCLFNBQWxCLEVBQTZCLFdBQTdCLEVBQTBDLEtBQUssQ0FBL0MsQ0FBVjs7RUFDQSxPQUFPeUgsVUFBVSxDQUFDLENBQUNoSixDQUFELENBQUQsRUFBTU0sQ0FBTixDQUFqQjtBQUNILENBaE9PLENBZ09MVixPQUFPLFdBaE9GLENBQVI7O0FBaU9BZixPQUFPLFdBQVAsR0FBa0J1QixDQUFsQiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsidmFyIG47XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHt2YWx1ZTogITB9KTtcbnZhciBfZXZ0cyA9IHJlcXVpcmUoXCJldnRzXCIpO1xudmFyIF9pZHggPSByZXF1aXJlKFwiaWR4XCIpO1xudmFyIF9teVNhZmVBcmVhID0gcmVxdWlyZShcIm15U2FmZUFyZWFcIik7XG52YXIgX3JlcyA9IHJlcXVpcmUoXCJyZXNcIik7XG52YXIgX3RpbWUgPSByZXF1aXJlKFwidGltZVwiKTtcbnZhciBfZ2xvYmFsID0gcmVxdWlyZShcImdsb2JhbFwiKTtcbnZhciBfYmFnTWdyID0gcmVxdWlyZShcImJhZ01nclwiKTtcbnZhciBfZmVzdGl2YWxNZ3IgPSByZXF1aXJlKFwiZmVzdGl2YWxNZ3JcIik7XG52YXIgX25ld0ppZ01nciA9IHJlcXVpcmUoXCJuZXdKaWdNZ3JcIik7XG52YXIgX3BhbmVsTWdyID0gcmVxdWlyZShcInBhbmVsTWdyXCIpO1xudmFyIF90aXBNZ3IgPSByZXF1aXJlKFwidGlwTWdyXCIpO1xudmFyIF9wSW5mbyA9IHJlcXVpcmUoXCJwSW5mb1wiKTtcbnZhciBfYmFzZVVJID0gcmVxdWlyZShcImJhc2VVSVwiKTtcbnZhciBfID0gY2MuX2RlY29yYXRvcjtcbnZhciBiID0gXy5jY2NsYXNzO1xudmFyIHcgPSBfLnByb3BlcnR5O1xudmFyIFMgPSAoZnVuY3Rpb24gKHQpIHtcbiAgICBmdW5jdGlvbiBlKCkge1xuICAgICAgICB2YXIgZSA9IChudWxsICE9PSB0ICYmIHQuYXBwbHkodGhpcywgYXJndW1lbnRzKSkgfHwgdGhpcztcbiAgICAgICAgZS5wcm9MYiA9IG51bGw7XG4gICAgICAgIGUudGFza0xiID0gbnVsbDtcbiAgICAgICAgZS50aW1lTGIgPSBudWxsO1xuICAgICAgICBlLmltZ05vZGUgPSBudWxsO1xuICAgICAgICBlLnRpYW5Ob2RlID0gbnVsbDtcbiAgICAgICAgZS5kYXlUaW1lTGIgPSBudWxsO1xuICAgICAgICBlLmNvc3RMYiA9IG51bGw7XG4gICAgICAgIGUuc3RhcnRCdG4gPSBudWxsO1xuICAgICAgICBlLnRvcE5vZGUgPSBudWxsO1xuICAgICAgICBlLnVwRWdnTm9kZSA9IG51bGw7XG4gICAgICAgIGUuZWdnTm9kZSA9IG51bGw7XG4gICAgICAgIGUuc3BpbmVOb2RlID0gbnVsbDtcbiAgICAgICAgZS5qaWdzYXdOdW0gPSBudWxsO1xuICAgICAgICByZXR1cm4gZTtcbiAgICB9XG4gICAgX19leHRlbmRzKGUsIHQpO1xuICAgIGUucHJvdG90eXBlLm9uTG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5ub2RlLmhlaWdodCA9IGNjLndpblNpemUuaGVpZ2h0O1xuICAgICAgICB0aGlzLmNoZWNrRW5kVGltZSgpO1xuICAgIH07XG4gICAgZS5wcm90b3R5cGUuc3RhcnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB0ID0gdGhpcztcbiAgICAgICAgdGhpcy5pbml0UGFuZWwoKTtcbiAgICAgICAgdGhpcy51cE5ld0ppZ1JlZCgpO1xuICAgICAgICB0aGlzLnNjaGVkdWxlT25jZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0LmFkYXB0ZXIoKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBlLnByb3RvdHlwZS5hZGFwdGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdCA9IF9teVNhZmVBcmVhLmdldFNhZmVBcmVhUmVjdCgpLnlNaW47XG4gICAgICAgIHRoaXMudG9wTm9kZS55IC09IHQ7XG4gICAgfTtcbiAgICBlLnByb3RvdHlwZS51cE5ld0ppZ1JlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHQgPSBfbmV3SmlnTWdyLmRlZmF1bHQuaW5zLmdldFVuUGxhY2VkTnVtKCk7XG4gICAgICAgIGlmICh0ID4gMCkge1xuICAgICAgICAgICAgdmFyIGUgPSB0ID4gOTkgPyBcIjk5K1wiIDogdCArIFwiXCI7XG4gICAgICAgICAgICB0aGlzLmppZ3Nhd051bS5ub2RlLnBhcmVudC5hY3RpdmUgPSAhMDtcbiAgICAgICAgICAgIHRoaXMuamlnc2F3TnVtLnN0cmluZyA9IGUgKyBcIlwiO1xuICAgICAgICAgICAgdGhpcy5qaWdzYXdOdW0ubm9kZS54ID0gX2dsb2JhbC5kZWZhdWx0LmdldENoYXJYT2Zmc2V0KHRoaXMuamlnc2F3TnVtLnN0cmluZyk7XG4gICAgICAgIH0gZWxzZSB0aGlzLmppZ3Nhd051bS5ub2RlLnBhcmVudC5hY3RpdmUgPSAhMTtcbiAgICB9O1xuICAgIGUucHJvdG90eXBlLmluaXRQYW5lbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5pbml0VGFzaygpO1xuICAgICAgICB0aGlzLmluaXRJbWcoKTtcbiAgICAgICAgdGhpcy5pbml0QnRuKCk7XG4gICAgICAgIHRoaXMuaW5pdFJld2FyZCgpO1xuICAgIH07XG4gICAgZS5wcm90b3R5cGUuaW5pdFRhc2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB0ID0gX2Zlc3RpdmFsTWdyLmRlZmF1bHQuaW5zO1xuICAgICAgICB2YXIgZSA9IHQuZ2V0Tm93VGFza0RhdGEoKTtcbiAgICAgICAgdmFyIG8gPSBlLm51bXM7XG4gICAgICAgIHZhciBuID0gdC5nZXROb3dUYXNrUHJvKCk7XG4gICAgICAgIHRoaXMudGFza0xiLnN0cmluZyA9IGUudGl0bGUuZm9ybWF0KG8pO1xuICAgICAgICB0aGlzLnNjaGVkdWxlKHRoaXMuc2hvd1RpbWUsIDEpO1xuICAgICAgICB0aGlzLnNob3dUaW1lKCk7XG4gICAgICAgIHQuaXNUYXNrTG9ja2VkKClcbiAgICAgICAgICAgID8gKCh0aGlzLnByb0xiLnN0cmluZyA9IFwiXCIpLCAodGhpcy51cEVnZ05vZGUuYWN0aXZlID0gITEpKVxuICAgICAgICAgICAgOiAoKHRoaXMucHJvTGIuc3RyaW5nID0gbiArIFwiL1wiICsgbyksICh0aGlzLnVwRWdnTm9kZS5hY3RpdmUgPSAhMCkpO1xuICAgIH07XG4gICAgZS5wcm90b3R5cGUuaW5pdEltZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZm9yIChcbiAgICAgICAgICAgIHZhciB0ID0gX2Zlc3RpdmFsTWdyLmRlZmF1bHQuaW5zLmdldEZlc1B1enpsZUx2KCkgLSAxLCBlID0gdGhpcy5pbWdOb2RlLmNoaWxkcmVuLCBvID0gMCwgbiA9IGUubGVuZ3RoO1xuICAgICAgICAgICAgbyA8IG47XG4gICAgICAgICAgICBvKytcbiAgICAgICAgKVxuICAgICAgICAgICAgZVtvXS5hY3RpdmUgPSBvID49IHQ7XG4gICAgICAgIGlmIChfZmVzdGl2YWxNZ3IuZGVmYXVsdC5pbnMuaXNQdXp6bGVNYXgoKSkgdGhpcy5zcGluZU5vZGUuYWN0aXZlID0gITE7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zcGluZU5vZGUuYWN0aXZlID0gITA7XG4gICAgICAgICAgICB2YXIgaSA9IHRoaXMuaW1nTm9kZS5jaGlsZHJlblt0XTtcbiAgICAgICAgICAgIHRoaXMuc3BpbmVOb2RlLnBvc2l0aW9uID0gY2MudjMoaS54ICsgdGhpcy5pbWdOb2RlLnggKyA1NCwgaS55ICsgdGhpcy5pbWdOb2RlLnkgLSA1NSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGUucHJvdG90eXBlLmluaXRCdG4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB0ID0gX2Zlc3RpdmFsTWdyLmRlZmF1bHQuaW5zLmdldEZlc0xldmVsQ29zdCgpO1xuICAgICAgICB0aGlzLmNvc3RMYi5zdHJpbmcgPSBcIi1cIiArIHQ7XG4gICAgICAgIHRoaXMuc3RhcnRCdG4uYWN0aXZlID0gIV9mZXN0aXZhbE1nci5kZWZhdWx0Lmlucy5pc1B1enpsZU1heCgpO1xuICAgIH07XG4gICAgZS5wcm90b3R5cGUuaW5pdFJld2FyZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHQgPSB0aGlzLnVwRWdnTm9kZTtcbiAgICAgICAgaWYgKF9mZXN0aXZhbE1nci5kZWZhdWx0Lmlucy5pc1Rhc2tMb2NrZWQoKSlcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgdGhpcy5jaGVja1Nob3dGaW5nZXIoITEpLFxuICAgICAgICAgICAgICAgICh0aGlzLmVnZ05vZGUuYW5nbGUgPSAwKSxcbiAgICAgICAgICAgICAgICBjYy5Ud2Vlbi5zdG9wQWxsQnlUYXJnZXQodGhpcy5lZ2dOb2RlKSxcbiAgICAgICAgICAgICAgICB2b2lkICh0LmFjdGl2ZSA9ICExKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgdC5hY3RpdmUgPSAhMDtcbiAgICAgICAgdmFyIGUgPSBfZmVzdGl2YWxNZ3IuZGVmYXVsdC5pbnM7XG4gICAgICAgIHZhciBvID0gZS5nZXROb3dUYXNrRGF0YSgpLm51bXM7XG4gICAgICAgIGUuZ2V0Tm93VGFza1BybygpID49IG9cbiAgICAgICAgICAgID8gKHRoaXMuY2hlY2tTaG93RmluZ2VyKCEwKSxcbiAgICAgICAgICAgICAgY2MuVHdlZW4uc3RvcEFsbEJ5VGFyZ2V0KHRoaXMuZWdnTm9kZSksXG4gICAgICAgICAgICAgIGNjXG4gICAgICAgICAgICAgICAgICAudHdlZW4odGhpcy5lZ2dOb2RlKVxuICAgICAgICAgICAgICAgICAgLnNlcXVlbmNlKFxuICAgICAgICAgICAgICAgICAgICAgIGNjLnR3ZWVuKCkudG8oMC41LCB7YW5nbGU6IDEwfSksXG4gICAgICAgICAgICAgICAgICAgICAgY2MudHdlZW4oKS50bygxLCB7YW5nbGU6IDB9LCB7ZWFzaW5nOiBcImVsYXN0aWNPdXRcIn0pLmRlbGF5KDAuNSlcbiAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgIC5yZXBlYXRGb3JldmVyKClcbiAgICAgICAgICAgICAgICAgIC5zdGFydCgpKVxuICAgICAgICAgICAgOiAodGhpcy5jaGVja1Nob3dGaW5nZXIoITEpLCAodGhpcy5lZ2dOb2RlLmFuZ2xlID0gMCksIGNjLlR3ZWVuLnN0b3BBbGxCeVRhcmdldCh0aGlzLmVnZ05vZGUpKTtcbiAgICB9O1xuICAgIGUucHJvdG90eXBlLmNoZWNrU2hvd0ZpbmdlciA9IGZ1bmN0aW9uICh0KSB7XG4gICAgICAgIHZhciBlID0gdGhpcztcbiAgICAgICAgdFxuICAgICAgICAgICAgPyB0aGlzLl9maW5nZXJOb2RlXG4gICAgICAgICAgICAgICAgPyAodGhpcy5fZmluZ2VyTm9kZS5hY3RpdmUgPSAhMClcbiAgICAgICAgICAgICAgICA6IF9yZXMuZGVmYXVsdC5pbnNcbiAgICAgICAgICAgICAgICAgICAgICAubFByZShcInByZWZhYi9maW5nZXJcIilcbiAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAodCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBlLl9maW5nZXJOb2RlID0gY2MuaW5zdGFudGlhdGUodCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGUuZWdnTm9kZS5wYXJlbnQuYWRkQ2hpbGQoZS5fZmluZ2VyTm9kZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvID0gY2MudjMoMCwgMTA1KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZS5fZmluZ2VyTm9kZS5zZXRQb3NpdGlvbihvKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZS5fZmluZ2VyTm9kZS5hY3RpdmUgPSAhMDtcbiAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoKSB7fSlcbiAgICAgICAgICAgIDogdGhpcy5fZmluZ2VyTm9kZSAmJiB0aGlzLl9maW5nZXJOb2RlLmFjdGl2ZSAmJiAodGhpcy5fZmluZ2VyTm9kZS5hY3RpdmUgPSAhMSk7XG4gICAgfTtcbiAgICBlLnByb3RvdHlwZS5zaG93VGltZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHQgPSBfdGltZS5kZWZhdWx0Lmlucy5uZXh0WmVyb1RpbWUgLyAxZTM7XG4gICAgICAgIGlmICh0IDw9IDApIHJldHVybiB0aGlzLmluaXRUYXNrKCksIHZvaWQgdGhpcy51bnNjaGVkdWxlKHRoaXMuc2hvd1RpbWUpO1xuICAgICAgICB0aGlzLmRheVRpbWVMYi5zdHJpbmcgPSBfdGltZS5kZWZhdWx0LmdldEZvcm1hdEhNUyh0KTtcbiAgICB9O1xuICAgIGUucHJvdG90eXBlLmNoZWNrRW5kVGltZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHQgPSBfZmVzdGl2YWxNZ3IuZGVmYXVsdC5pbnMuZmVzRW5kVGltZSAtIF90aW1lLmRlZmF1bHQuaW5zLnNlcnZlclRpbWU7XG4gICAgICAgIGlmICh0ID4gMCkge1xuICAgICAgICAgICAgdmFyIGUgPSBNYXRoLmZsb29yKHQgLyA4NjQwMCk7XG4gICAgICAgICAgICBpZiAoZSA8PSAwKSAodGhpcy50aWFuTm9kZS5hY3RpdmUgPSAhMSksIHRoaXMuc2NoZWR1bGUodGhpcy5zaG93RW5kVGltZSwgMSksIHRoaXMuc2hvd0VuZFRpbWUoKTtcbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBvID0gKHRoaXMudGltZUxiLnN0cmluZyA9IGUgKyBcIlwiKTtcbiAgICAgICAgICAgICAgICB0aGlzLnRpYW5Ob2RlLmFjdGl2ZSA9ICEwO1xuICAgICAgICAgICAgICAgIDEgPT0gby5sZW5ndGggJiYgKHRoaXMudGlhbk5vZGUueCA9IDExMik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSAodGhpcy50aW1lTGIuc3RyaW5nID0gXCJcIiksICh0aGlzLnRpYW5Ob2RlLmFjdGl2ZSA9ICExKTtcbiAgICB9O1xuICAgIGUucHJvdG90eXBlLnNob3dFbmRUaW1lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdCA9IF9mZXN0aXZhbE1nci5kZWZhdWx0Lmlucy5mZXNFbmRUaW1lIC0gX3RpbWUuZGVmYXVsdC5pbnMuc2VydmVyVGltZTtcbiAgICAgICAgaWYgKHQgPD0gMCkgcmV0dXJuIHRoaXMuaW5pdFRhc2soKSwgKHRoaXMudGltZUxiLnN0cmluZyA9IFwi5bey57uT5p2fXCIpLCB2b2lkIHRoaXMudW5zY2hlZHVsZSh0aGlzLnNob3dUaW1lKTtcbiAgICAgICAgdGhpcy50aW1lTGIuc3RyaW5nID0gX3RpbWUuZGVmYXVsdC5nZXRGb3JtYXRITVModCk7XG4gICAgfTtcbiAgICBlLnByb3RvdHlwZS5oaWRlVGhpcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX2V2dHMuZGVmYXVsdC5vcEUuZW1pdCh7YWN0aW9uOiBfZXZ0cy5kZWZhdWx0LlVQRF9GRVNfUkVEfSk7XG4gICAgICAgIHRoaXMuaGlkZSgpO1xuICAgIH07XG4gICAgZS5wcm90b3R5cGUub25CdG5HZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChfZmVzdGl2YWxNZ3IuZGVmYXVsdC5pbnMuaXNUYXNrTG9ja2VkKCkpIF90aXBNZ3IuZGVmYXVsdC5pbnMuc2hvd1RpcChcIuS7iuaXpeS7u+WKoeW3suWujOaIkFwiKTtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgdCA9IF9mZXN0aXZhbE1nci5kZWZhdWx0LmlucztcbiAgICAgICAgICAgIHZhciBlID0gdC5nZXRGZXNQcm8oKTtcbiAgICAgICAgICAgIHZhciBvID0gdC5nZXROb3dUYXNrRGF0YSgpO1xuICAgICAgICAgICAgdmFyIG4gPSBvLm51bXM7XG4gICAgICAgICAgICB2YXIgaSA9IHQuZ2V0Tm93VGFza1BybygpO1xuICAgICAgICAgICAgdmFyIHIgPSBvLnZhbDtcbiAgICAgICAgICAgIHZhciBhID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBjIGluIHIpIHtcbiAgICAgICAgICAgICAgICB2YXIgbCA9IHJbY107XG4gICAgICAgICAgICAgICAgdmFyIHUgPSB0aGlzLmltZ05vZGUuY2hpbGRyZW5bZV07XG4gICAgICAgICAgICAgICAgdmFyIHAgPSB1LnBhcmVudC5jb252ZXJ0VG9Xb3JsZFNwYWNlQVIodS5wb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgdmFyIGYgPSB7fTtcbiAgICAgICAgICAgICAgICBmLml0ZW1JZCA9IGM7XG4gICAgICAgICAgICAgICAgZi53b3JsZFBvcyA9IHA7XG4gICAgICAgICAgICAgICAgZi52YWx1ZSA9IE51bWJlcihsKTtcbiAgICAgICAgICAgICAgICBhLnB1c2goZik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaSA+PSBuKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgYyBpbiByKSAobCA9IHJbY10pLCBfYmFnTWdyLmRlZmF1bHQuaW5zLmFkZEl0ZW0oYywgTnVtYmVyKGwpKTtcbiAgICAgICAgICAgICAgICBfcGFuZWxNZ3IuZGVmYXVsdC5pbnMub3BlbihcInVpL3VpX2ZseUFuaVwiLCB7aXRlbURhdGFzOiBhfSk7XG4gICAgICAgICAgICAgICAgdmFyIG0gPSBOdW1iZXIodC5nZXRGZXNQcm8oKSk7XG4gICAgICAgICAgICAgICAgX2lkeC5wbGF0Zm9ybS5yZXBvcnRFdmVudChfaWR4LkVSZXBFdnQuZmVzVGFza0ZpbmlzaCwge2lkOiBtfSk7XG4gICAgICAgICAgICAgICAgX2Zlc3RpdmFsTWdyLmRlZmF1bHQuaW5zLmZpbmlzaEZlc1Rhc2soKTtcbiAgICAgICAgICAgICAgICB0aGlzLmluaXRQYW5lbCgpO1xuICAgICAgICAgICAgfSBlbHNlIF9wYW5lbE1nci5kZWZhdWx0Lmlucy5vcGVuKFwidWkvdWlfcHJlUmV3YXJkXCIsIHtpdGVtRGF0YXM6IGF9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgZS5wcm90b3R5cGUub25CdG5TdGFydCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHQgPSBfZmVzdGl2YWxNZ3IuZGVmYXVsdC5pbnMuZ2V0RmVzTGV2ZWxDb3N0KCk7XG4gICAgICAgIF9wSW5mby5kZWZhdWx0Lmlucy5nZXRQb3dlcigpIDwgdFxuICAgICAgICAgICAgPyBfcGFuZWxNZ3IuZGVmYXVsdC5pbnMub3BlbihcInVpL3VpX2dldFJlc1wiLCB7aXRlbUlkOiBcInRpbWVzXCJ9KVxuICAgICAgICAgICAgOiBfZmVzdGl2YWxNZ3IuZGVmYXVsdC5pbnMuaXNQdXp6bGVMb2NrZWQoKVxuICAgICAgICAgICAgPyBfdGlwTWdyLmRlZmF1bHQuaW5zLnNob3dUaXAoXCLmmI7lpKnlvIDlkK9cIilcbiAgICAgICAgICAgIDogKF9mZXN0aXZhbE1nci5kZWZhdWx0Lmlucy51cGRQcm8oX2Zlc3RpdmFsTWdyLmZlc1Rhc2tLZXkuY29zdFBvd2VyLCB0KSxcbiAgICAgICAgICAgICAgX3BJbmZvLmRlZmF1bHQuaW5zLmFkZFBvd2VyKC10KSxcbiAgICAgICAgICAgICAgX3BJbmZvLmNoZ1NjZW5lKF9wSW5mby5zY2VuZVR5cGUuZ2FtZSwge2dhbWVUeXBlOiBfcEluZm8uZ2FtZVR5cGUuZmVzdGl2YWx9KSk7XG4gICAgfTtcbiAgICBlLnByb3RvdHlwZS5vbkJ0bkppZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5oaWRlVGhpcygpO1xuICAgICAgICBfZXZ0cy5kZWZhdWx0Lm9wRS5lbWl0KHthY3Rpb246IF9ldnRzLmRlZmF1bHQuTUFJTkpVTVAsIGRhdGE6IDAsIHBhcmFtOiBcImZlc3RpdmFsXCJ9KTtcbiAgICB9O1xuICAgIGUucHJvdG90eXBlLm9uQnRuR28gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB0ID0gX2Zlc3RpdmFsTWdyLmRlZmF1bHQuaW5zLmdldE5vd1Rhc2tEYXRhKCk7XG4gICAgICAgIHN3aXRjaCAoKHRoaXMuaGlkZVRoaXMoKSwgdC5nZXRfYnkpKSB7XG4gICAgICAgICAgICBjYXNlIF9mZXN0aXZhbE1nci5mZXNUYXNrS2V5LnJhY2VTY29yZTpcbiAgICAgICAgICAgIGNhc2UgX2Zlc3RpdmFsTWdyLmZlc1Rhc2tLZXkucmFjZVRpbWVzOlxuICAgICAgICAgICAgICAgIF9ldnRzLmRlZmF1bHQub3BFLmVtaXQoe2FjdGlvbjogX2V2dHMuZGVmYXVsdC5NQUlOSlVNUCwgZGF0YTogNH0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBfZmVzdGl2YWxNZ3IuZmVzVGFza0tleS5jb3N0UG93ZXI6XG4gICAgICAgICAgICBjYXNlIF9mZXN0aXZhbE1nci5mZXNUYXNrS2V5LnRocm91Z2hNYWluOlxuICAgICAgICAgICAgICAgIF9nbG9iYWwuZGVmYXVsdC5sZXZlbERvbmVcbiAgICAgICAgICAgICAgICAgICAgPyBfcGFuZWxNZ3IuZGVmYXVsdC5pbnMub3BlbihcInVpL3VpX3NlbGVjdE1vZGVcIiwgbnVsbClcbiAgICAgICAgICAgICAgICAgICAgOiBfcGFuZWxNZ3IuZGVmYXVsdC5pbnMub3BlbihcInVpL3VpX2x2SW5mb1wiLCBudWxsKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgX2Zlc3RpdmFsTWdyLmZlc1Rhc2tLZXkuZmluaXNoUHV6emxlOlxuICAgICAgICAgICAgICAgIF9ldnRzLmRlZmF1bHQub3BFLmVtaXQoe2FjdGlvbjogX2V2dHMuZGVmYXVsdC5NQUlOSlVNUCwgZGF0YTogMH0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBfX2RlY29yYXRlKFt3KGNjLkxhYmVsKV0sIGUucHJvdG90eXBlLCBcInByb0xiXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbdyhjYy5MYWJlbCldLCBlLnByb3RvdHlwZSwgXCJ0YXNrTGJcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFt3KGNjLkxhYmVsKV0sIGUucHJvdG90eXBlLCBcInRpbWVMYlwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW3coY2MuTm9kZSldLCBlLnByb3RvdHlwZSwgXCJpbWdOb2RlXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbdyhjYy5Ob2RlKV0sIGUucHJvdG90eXBlLCBcInRpYW5Ob2RlXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbdyhjYy5MYWJlbCldLCBlLnByb3RvdHlwZSwgXCJkYXlUaW1lTGJcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFt3KGNjLkxhYmVsKV0sIGUucHJvdG90eXBlLCBcImNvc3RMYlwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW3coY2MuTm9kZSldLCBlLnByb3RvdHlwZSwgXCJzdGFydEJ0blwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW3coY2MuTm9kZSldLCBlLnByb3RvdHlwZSwgXCJ0b3BOb2RlXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbdyhjYy5Ob2RlKV0sIGUucHJvdG90eXBlLCBcInVwRWdnTm9kZVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW3coY2MuTm9kZSldLCBlLnByb3RvdHlwZSwgXCJlZ2dOb2RlXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbdyhjYy5Ob2RlKV0sIGUucHJvdG90eXBlLCBcInNwaW5lTm9kZVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW3coY2MuTGFiZWwpXSwgZS5wcm90b3R5cGUsIFwiamlnc2F3TnVtXCIsIHZvaWQgMCk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGUoW2JdLCBlKTtcbn0pKF9iYXNlVUkuZGVmYXVsdCk7XG5leHBvcnRzLmRlZmF1bHQgPSBTO1xuIl19