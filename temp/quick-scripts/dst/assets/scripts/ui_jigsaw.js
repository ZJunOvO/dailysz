
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/ui_jigsaw.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'f553dAxt3lMRq5VspifJTH7', 'ui_jigsaw');
// scripts/ui_jigsaw.js

"use strict";

var n;
Object.defineProperty(exports, "__esModule", {
  value: !0
});

var _evts = require("evts");

var _jigsaw = require("jigsaw");

var _global = require("global");

var _baseUI = require("baseUI");

var u = cc._decorator;
var p = u.ccclass;
var d = u.property;

var h = function (t) {
  function e() {
    var e = null !== t && t.apply(this, arguments) || this;
    e.jigsawPre = null;
    e.bgNode = null;
    e.closeNode = null;
    e.jigsawItem = null;
    return e;
  }

  __extends(e, t);

  e.prototype.onLoad = function () {
    if (this.node.height = cc.winSize.height, _global["default"].padScale) {
      this.bgNode.scale = _global["default"].padScale;
      var t = (cc.view.getVisibleSize().width - 720) / 2;
      this.closeNode.x -= t;
    }

    this.node.on(cc.Node.EventType.TOUCH_START, this.onTBe, this);
    this.node.on(cc.Node.EventType.TOUCH_MOVE, this.onTM, this);
    this.node.on(cc.Node.EventType.TOUCH_END, this.onTE, this);
    this.node.on(cc.Node.EventType.TOUCH_CANCEL, this.onTC, this);
  };

  e.prototype.start = function () {};

  e.prototype.init = function (t) {
    var e = t.theme_id;
    var o = t.themeType;
    var n = cc.instantiate(this.jigsawPre);
    n.parent = this.node;
    n.position = cc.v3(0, 0);
    this.jigsawItem = n.getComponent(_jigsaw["default"]);
    this.jigsawItem.initItem(e, o);
  };

  e.prototype.onTBe = function (t) {
    var e = this.jigsawItem;
    e && e.node.active && e.onTBe(t);
  };

  e.prototype.onTM = function (t) {
    var e = this.jigsawItem;
    e && e.onTM(t);
  };

  e.prototype.onTE = function (t) {
    var e = this.jigsawItem;
    e && e.onTE(t);
  };

  e.prototype.onTC = function (t) {
    var e = this.jigsawItem;
    e && e.onTC(t);
  };

  e.prototype.hideThis = function () {
    this.hide();

    _evts["default"].opE.emit({
      action: _evts["default"].UPDJIGSAWGAME
    });
  };

  e.prototype.onDestroy = function () {};

  __decorate([d(cc.Prefab)], e.prototype, "jigsawPre", void 0);

  __decorate([d(cc.Node)], e.prototype, "bgNode", void 0);

  __decorate([d(cc.Node)], e.prototype, "closeNode", void 0);

  return __decorate([p], e);
}(_baseUI["default"]);

exports["default"] = h;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcdWlfamlnc2F3LmpzIl0sIm5hbWVzIjpbIm4iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsIl9ldnRzIiwicmVxdWlyZSIsIl9qaWdzYXciLCJfZ2xvYmFsIiwiX2Jhc2VVSSIsInUiLCJjYyIsIl9kZWNvcmF0b3IiLCJwIiwiY2NjbGFzcyIsImQiLCJwcm9wZXJ0eSIsImgiLCJ0IiwiZSIsImFwcGx5IiwiYXJndW1lbnRzIiwiamlnc2F3UHJlIiwiYmdOb2RlIiwiY2xvc2VOb2RlIiwiamlnc2F3SXRlbSIsIl9fZXh0ZW5kcyIsInByb3RvdHlwZSIsIm9uTG9hZCIsIm5vZGUiLCJoZWlnaHQiLCJ3aW5TaXplIiwicGFkU2NhbGUiLCJzY2FsZSIsInZpZXciLCJnZXRWaXNpYmxlU2l6ZSIsIndpZHRoIiwieCIsIm9uIiwiTm9kZSIsIkV2ZW50VHlwZSIsIlRPVUNIX1NUQVJUIiwib25UQmUiLCJUT1VDSF9NT1ZFIiwib25UTSIsIlRPVUNIX0VORCIsIm9uVEUiLCJUT1VDSF9DQU5DRUwiLCJvblRDIiwic3RhcnQiLCJpbml0IiwidGhlbWVfaWQiLCJvIiwidGhlbWVUeXBlIiwiaW5zdGFudGlhdGUiLCJwYXJlbnQiLCJwb3NpdGlvbiIsInYzIiwiZ2V0Q29tcG9uZW50IiwiaW5pdEl0ZW0iLCJhY3RpdmUiLCJoaWRlVGhpcyIsImhpZGUiLCJvcEUiLCJlbWl0IiwiYWN0aW9uIiwiVVBESklHU0FXR0FNRSIsIm9uRGVzdHJveSIsIl9fZGVjb3JhdGUiLCJQcmVmYWIiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsSUFBSUEsQ0FBSjtBQUNBQyxNQUFNLENBQUNDLGNBQVAsQ0FBc0JDLE9BQXRCLEVBQStCLFlBQS9CLEVBQTZDO0VBQUNDLEtBQUssRUFBRSxDQUFDO0FBQVQsQ0FBN0M7O0FBQ0EsSUFBSUMsS0FBSyxHQUFHQyxPQUFPLENBQUMsTUFBRCxDQUFuQjs7QUFDQSxJ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Q0FBQ1EsU0FBRixDQUFZd0MsU0FBWixHQUF3QixZQUFZLENBQUUsQ0FBdEM7O0VBQ0FDLFVBQVUsQ0FBQyxDQUFDckQsQ0FBQyxDQUFDSixFQUFFLENBQUMwRCxNQUFKLENBQUYsQ0FBRCxFQUFpQmxELENBQUMsQ0FBQ1EsU0FBbkIsRUFBOEIsV0FBOUIsRUFBMkMsS0FBSyxDQUFoRCxDQUFWOztFQUNBeUMsVUFBVSxDQUFDLENBQUNyRCxDQUFDLENBQUNKLEVBQUUsQ0FBQzRCLElBQUosQ0FBRixDQUFELEVBQWVwQixDQUFDLENBQUNRLFNBQWpCLEVBQTRCLFFBQTVCLEVBQXNDLEtBQUssQ0FBM0MsQ0FBVjs7RUFDQXlDLFVBQVUsQ0FBQyxDQUFDckQsQ0FBQyxDQUFDSixFQUFFLENBQUM0QixJQUFKLENBQUYsQ0FBRCxFQUFlcEIsQ0FBQyxDQUFDUSxTQUFqQixFQUE0QixXQUE1QixFQUF5QyxLQUFLLENBQTlDLENBQVY7O0VBQ0EsT0FBT3lDLFVBQVUsQ0FBQyxDQUFDdkQsQ0FBRCxDQUFELEVBQU1NLENBQU4sQ0FBakI7QUFDSCxDQXhETyxDQXdETFYsT0FBTyxXQXhERixDQUFSOztBQXlEQU4sT0FBTyxXQUFQLEdBQWtCYyxDQUFsQiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsidmFyIG47XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHt2YWx1ZTogITB9KTtcbnZhciBfZXZ0cyA9IHJlcXVpcmUoXCJldnRzXCIpO1xudmFyIF9qaWdzYXcgPSByZXF1aXJlKFwiamlnc2F3XCIpO1xudmFyIF9nbG9iYWwgPSByZXF1aXJlKFwiZ2xvYmFsXCIpO1xudmFyIF9iYXNlVUkgPSByZXF1aXJlKFwiYmFzZVVJXCIpO1xudmFyIHUgPSBjYy5fZGVjb3JhdG9yO1xudmFyIHAgPSB1LmNjY2xhc3M7XG52YXIgZCA9IHUucHJvcGVydHk7XG52YXIgaCA9IChmdW5jdGlvbiAodCkge1xuICAgIGZ1bmN0aW9uIGUoKSB7XG4gICAgICAgIHZhciBlID0gKG51bGwgIT09IHQgJiYgdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpKSB8fCB0aGlzO1xuICAgICAgICBlLmppZ3Nhd1ByZSA9IG51bGw7XG4gICAgICAgIGUuYmdOb2RlID0gbnVsbDtcbiAgICAgICAgZS5jbG9zZU5vZGUgPSBudWxsO1xuICAgICAgICBlLmppZ3Nhd0l0ZW0gPSBudWxsO1xuICAgICAgICByZXR1cm4gZTtcbiAgICB9XG4gICAgX19leHRlbmRzKGUsIHQpO1xuICAgIGUucHJvdG90eXBlLm9uTG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCgodGhpcy5ub2RlLmhlaWdodCA9IGNjLndpblNpemUuaGVpZ2h0KSwgX2dsb2JhbC5kZWZhdWx0LnBhZFNjYWxlKSkge1xuICAgICAgICAgICAgdGhpcy5iZ05vZGUuc2NhbGUgPSBfZ2xvYmFsLmRlZmF1bHQucGFkU2NhbGU7XG4gICAgICAgICAgICB2YXIgdCA9IChjYy52aWV3LmdldFZpc2libGVTaXplKCkud2lkdGggLSA3MjApIC8gMjtcbiAgICAgICAgICAgIHRoaXMuY2xvc2VOb2RlLnggLT0gdDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm5vZGUub24oY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfU1RBUlQsIHRoaXMub25UQmUsIHRoaXMpO1xuICAgICAgICB0aGlzLm5vZGUub24oY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfTU9WRSwgdGhpcy5vblRNLCB0aGlzKTtcbiAgICAgICAgdGhpcy5ub2RlLm9uKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX0VORCwgdGhpcy5vblRFLCB0aGlzKTtcbiAgICAgICAgdGhpcy5ub2RlLm9uKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX0NBTkNFTCwgdGhpcy5vblRDLCB0aGlzKTtcbiAgICB9O1xuICAgIGUucHJvdG90eXBlLnN0YXJ0ID0gZnVuY3Rpb24gKCkge307XG4gICAgZS5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uICh0KSB7XG4gICAgICAgIHZhciBlID0gdC50aGVtZV9pZDtcbiAgICAgICAgdmFyIG8gPSB0LnRoZW1lVHlwZTtcbiAgICAgICAgdmFyIG4gPSBjYy5pbnN0YW50aWF0ZSh0aGlzLmppZ3Nhd1ByZSk7XG4gICAgICAgIG4ucGFyZW50ID0gdGhpcy5ub2RlO1xuICAgICAgICBuLnBvc2l0aW9uID0gY2MudjMoMCwgMCk7XG4gICAgICAgIHRoaXMuamlnc2F3SXRlbSA9IG4uZ2V0Q29tcG9uZW50KF9qaWdzYXcuZGVmYXVsdCk7XG4gICAgICAgIHRoaXMuamlnc2F3SXRlbS5pbml0SXRlbShlLCBvKTtcbiAgICB9O1xuICAgIGUucHJvdG90eXBlLm9uVEJlID0gZnVuY3Rpb24gKHQpIHtcbiAgICAgICAgdmFyIGUgPSB0aGlzLmppZ3Nhd0l0ZW07XG4gICAgICAgIGUgJiYgZS5ub2RlLmFjdGl2ZSAmJiBlLm9uVEJlKHQpO1xuICAgIH07XG4gICAgZS5wcm90b3R5cGUub25UTSA9IGZ1bmN0aW9uICh0KSB7XG4gICAgICAgIHZhciBlID0gdGhpcy5qaWdzYXdJdGVtO1xuICAgICAgICBlICYmIGUub25UTSh0KTtcbiAgICB9O1xuICAgIGUucHJvdG90eXBlLm9uVEUgPSBmdW5jdGlvbiAodCkge1xuICAgICAgICB2YXIgZSA9IHRoaXMuamlnc2F3SXRlbTtcbiAgICAgICAgZSAmJiBlLm9uVEUodCk7XG4gICAgfTtcbiAgICBlLnByb3RvdHlwZS5vblRDID0gZnVuY3Rpb24gKHQpIHtcbiAgICAgICAgdmFyIGUgPSB0aGlzLmppZ3Nhd0l0ZW07XG4gICAgICAgIGUgJiYgZS5vblRDKHQpO1xuICAgIH07XG4gICAgZS5wcm90b3R5cGUuaGlkZVRoaXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuaGlkZSgpO1xuICAgICAgICBfZXZ0cy5kZWZhdWx0Lm9wRS5lbWl0KHthY3Rpb246IF9ldnRzLmRlZmF1bHQuVVBESklHU0FXR0FNRX0pO1xuICAgIH07XG4gICAgZS5wcm90b3R5cGUub25EZXN0cm95ID0gZnVuY3Rpb24gKCkge307XG4gICAgX19kZWNvcmF0ZShbZChjYy5QcmVmYWIpXSwgZS5wcm90b3R5cGUsIFwiamlnc2F3UHJlXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbZChjYy5Ob2RlKV0sIGUucHJvdG90eXBlLCBcImJnTm9kZVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW2QoY2MuTm9kZSldLCBlLnByb3RvdHlwZSwgXCJjbG9zZU5vZGVcIiwgdm9pZCAwKTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZShbcF0sIGUpO1xufSkoX2Jhc2VVSS5kZWZhdWx0KTtcbmV4cG9ydHMuZGVmYXVsdCA9IGg7XG4iXX0=