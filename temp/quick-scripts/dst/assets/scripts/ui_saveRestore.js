
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/ui_saveRestore.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '3c546+ldmlAJ73ZKuAVm4Qb', 'ui_saveRestore');
// scripts/ui_saveRestore.js

"use strict";

var n;
Object.defineProperty(exports, "__esModule", {
  value: !0
});

var _idx = require("idx");

var _panelMgr = require("panelMgr");

var _tipMgr = require("tipMgr");

var _baseUI = require("baseUI");

var d = cc._decorator;
var h = d.ccclass;
var f = d.property;

var g = function (t) {
  function e() {
    var e = null !== t && t.apply(this, arguments) || this;
    e.timeL = null;
    e.lvL = null;
    e.coinNumL = null;
    e.timeR = null;
    e.lvR = null;
    e.coinNumR = null;
    e.infoL = null;
    e.infoR = null;
    e.nodeL = null;
    e.nodeR = null;
    e.userDatas = [];
    return e;
  }

  __extends(e, t);

  e.prototype.onLoad = function () {};

  e.prototype.init = function (t) {
    var e = t.userDatas;
    this.rePanel(e);
  };

  e.prototype.rePanel = function (t) {
    return __awaiter(this, void 0, void 0, function () {
      var e;
      var o;
      var n;
      var i;
      var r;
      var a;
      var c;
      var l;
      var u;
      var p;
      var d;
      var h;
      var f;
      return __generator(this, function (s) {
        switch (s.label) {
          case 0:
            return this.userDatas = [], this.timeL.string = "暂无数据", this.lvL.string = "", this.coinNumL.string = "0", this.timeR.string = "暂无数据", this.lvR.string = "", this.coinNumL.string = "0", t ? (e = t[0], o = t[1], e && e.update_at ? (r = e.update_at, a = new Date(r), c = a.getFullYear(), l = a.getMonth() + 1, u = a.getDate(), this.timeL.string = c + "/" + l + "/" + u, n = JSON.parse(e.user_data), "localData" != e.save_tag ? [3, 2] : (this.infoL.string = "自动备份", [4, this.compareData(n)])) : [3, 4]) : [3, 10];

          case 1:
            return n = s.sent(), [3, 3];

          case 2:
            this.infoL.string = "手动备份", s.label = 3;

          case 3:
            return d = n.puzzleLvl || 0, h = n.coin || 0, this.lvL.string = "关卡：" + d, this.coinNumL.string = "" + h, i = JSON.stringify(n), e.user_data = i, this.userDatas.push(e), [3, 5];

          case 4:
            this.nodeL.active = !1, s.label = 5;

          case 5:
            return o && o.update_at ? (r = o.update_at, a = new Date(r), c = a.getFullYear(), l = a.getMonth() + 1, u = a.getDate(), this.timeR.string = c + "/" + l + "/" + u, p = JSON.parse(o.user_data), "localData" != o.save_tag ? [3, 7] : (this.infoR.string = "自动备份", [4, this.compareData(p)])) : [3, 9];

          case 6:
            return p = s.sent(), [3, 8];

          case 7:
            this.infoR.string = "手动备份", s.label = 8;

          case 8:
            return d = p.puzzleLvl || 0, h = p.coin || 0, this.lvR.string = "关卡：" + d, this.coinNumR.string = "" + h, f = JSON.stringify(p), o.user_data = f, this.userDatas.push(o), [3, 10];

          case 9:
            this.nodeR.active = !1, s.label = 10;

          case 10:
            return [2];
        }
      });
    });
  };

  e.prototype.compareData = function (t) {
    var e;
    var o;
    return __awaiter(this, void 0, void 0, function () {
      var n;
      var i;
      var r;
      var a;
      var l;
      var u;
      return __generator(this, function (s) {
        switch (s.label) {
          case 0:
            return _idx.platform.getCloudData ? [4, _idx.platform.getCloudData()] : [3, 2];

          case 1:
            n = s.sent(), s.label = 2;

          case 2:
            return r = (null == t ? void 0 : t.puzzleLvl) || 0, a = (null === (e = null == t ? void 0 : t.bag) || void 0 === e ? void 0 : e.puzzle_pieces) || 0, l = (null == n ? void 0 : n.puzzleLvl) || 0, u = (null === (o = null == n ? void 0 : n.bag) || void 0 === o ? void 0 : o.puzzle_pieces) || 0, (i = r > l || a > u ? t : n) ? [2, i] : [2, t];
        }
      });
    });
  };

  e.prototype.hideThis = function () {
    this.hide();
  };

  e.prototype.onBtnCheck = function (t, e) {
    var o = this.userDatas[e];
    o && o.update_at ? _panelMgr["default"].ins.open("ui/ui_saveConfirm", {
      cData: o
    }) : _tipMgr["default"].ins.showTip("暂无数据");
  };

  __decorate([f(cc.Label)], e.prototype, "timeL", void 0);

  __decorate([f(cc.Label)], e.prototype, "lvL", void 0);

  __decorate([f(cc.Label)], e.prototype, "coinNumL", void 0);

  __decorate([f(cc.Label)], e.prototype, "timeR", void 0);

  __decorate([f(cc.Label)], e.prototype, "lvR", void 0);

  __decorate([f(cc.Label)], e.prototype, "coinNumR", void 0);

  __decorate([f(cc.Label)], e.prototype, "infoL", void 0);

  __decorate([f(cc.Label)], e.prototype, "infoR", void 0);

  __decorate([f(cc.Node)], e.prototype, "nodeL", void 0);

  __decorate([f(cc.Node)], e.prototype, "nodeR", void 0);

  return __decorate([h], e);
}(_baseUI["default"]);

exports["default"] = g;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcdWlfc2F2ZVJlc3RvcmUuanMiXSwibmFtZXMiOlsibiIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiX2lkeCIsInJlcXVpcmUiLCJfcGFuZWxNZ3IiLCJfdGlwTWdyIiwiX2Jhc2VVSSIsImQiLCJjYyIsIl9kZWNvcmF0b3IiLCJoIiwiY2NjbGFzcyIsImYiLCJwcm9wZXJ0eSIsImciLCJ0IiwiZSIsImFwcGx5IiwiYXJndW1lbnRzIiwidGltZUwiLCJsdkwiLCJjb2luTnVtTCIsInRpbWVSIiwibHZSIiwiY29pbk51bVIiLCJpbmZvTCIsImluZm9SIiwibm9kZUwiLCJub2RlUiIsInVzZXJEYXRhcyIsIl9fZXh0ZW5kcyIsInByb3RvdHlwZSIsIm9uTG9hZCIsImluaXQiLCJyZVBhbmVsIiwiX19hd2FpdGVyIiwibyIsImkiLCJyIiwiYSIsImMiLCJsIiwidSIsInAiLCJfX2dlbmVyYXRvciIsInMiLCJsYWJlbCIsInN0cmluZyIsInVwZGF0ZV9hdCIsIkRhdGUiLCJnZXRGdWxsWWVhciIsImdldE1vbnRoIiwiZ2V0RGF0ZSIsIkpTT04iLCJwYXJzZSIsInVzZXJfZGF0YSIsInNhdmVfdGFnIiwiY29tcGFyZURhdGEiLCJzZW50IiwicHV6emxlTHZsIiwiY29pbiIsInN0cmluZ2lmeSIsInB1c2giLCJhY3RpdmUiLCJwbGF0Zm9ybSIsImdldENsb3VkRGF0YSIsImJhZyIsInB1enpsZV9waWVjZXMiLCJoaWRlVGhpcyIsImhpZGUiLCJvbkJ0bkNoZWNrIiwiaW5zIiwib3BlbiIsImNEYXRhIiwic2hvd1RpcCIsIl9fZGVjb3JhdGUiLCJMYWJlbCIsIk5vZGUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsSUFBSUEsQ0FBSjtBQUNBQyxNQUFNLENBQUNDLGNBQVAsQ0FBc0JDLE9BQXRCLEVBQStCLFlBQS9CLEVBQTZDO0VBQUNDLEtBQUssRUFBRSxDQUFDO0FBQVQsQ0FB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ZTdELENBQUMsQ0FBQ2UsU0FBakIsRUFBNEIsT0FBNUIsRUFBcUMsS0FBSyxDQUExQyxDQUFWOztFQUNBNEMsVUFBVSxDQUFDLENBQUMvRCxDQUFDLENBQUNKLEVBQUUsQ0FBQ3FFLElBQUosQ0FBRixDQUFELEVBQWU3RCxDQUFDLENBQUNlLFNBQWpCLEVBQTRCLE9BQTVCLEVBQXFDLEtBQUssQ0FBMUMsQ0FBVjs7RUFDQSxPQUFPNEMsVUFBVSxDQUFDLENBQUNqRSxDQUFELENBQUQsRUFBTU0sQ0FBTixDQUFqQjtBQUNILENBNUtPLENBNEtMVixPQUFPLFdBNUtGLENBQVI7O0FBNktBTixPQUFPLFdBQVAsR0FBa0JjLENBQWxCIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgbjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge3ZhbHVlOiAhMH0pO1xudmFyIF9pZHggPSByZXF1aXJlKFwiaWR4XCIpO1xudmFyIF9wYW5lbE1nciA9IHJlcXVpcmUoXCJwYW5lbE1nclwiKTtcbnZhciBfdGlwTWdyID0gcmVxdWlyZShcInRpcE1nclwiKTtcbnZhciBfYmFzZVVJID0gcmVxdWlyZShcImJhc2VVSVwiKTtcbnZhciBkID0gY2MuX2RlY29yYXRvcjtcbnZhciBoID0gZC5jY2NsYXNzO1xudmFyIGYgPSBkLnByb3BlcnR5O1xudmFyIGcgPSAoZnVuY3Rpb24gKHQpIHtcbiAgICBmdW5jdGlvbiBlKCkge1xuICAgICAgICB2YXIgZSA9IChudWxsICE9PSB0ICYmIHQuYXBwbHkodGhpcywgYXJndW1lbnRzKSkgfHwgdGhpcztcbiAgICAgICAgZS50aW1lTCA9IG51bGw7XG4gICAgICAgIGUubHZMID0gbnVsbDtcbiAgICAgICAgZS5jb2luTnVtTCA9IG51bGw7XG4gICAgICAgIGUudGltZVIgPSBudWxsO1xuICAgICAgICBlLmx2UiA9IG51bGw7XG4gICAgICAgIGUuY29pbk51bVIgPSBudWxsO1xuICAgICAgICBlLmluZm9MID0gbnVsbDtcbiAgICAgICAgZS5pbmZvUiA9IG51bGw7XG4gICAgICAgIGUubm9kZUwgPSBudWxsO1xuICAgICAgICBlLm5vZGVSID0gbnVsbDtcbiAgICAgICAgZS51c2VyRGF0YXMgPSBbXTtcbiAgICAgICAgcmV0dXJuIGU7XG4gICAgfVxuICAgIF9fZXh0ZW5kcyhlLCB0KTtcbiAgICBlLnByb3RvdHlwZS5vbkxvYWQgPSBmdW5jdGlvbiAoKSB7fTtcbiAgICBlLnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24gKHQpIHtcbiAgICAgICAgdmFyIGUgPSB0LnVzZXJEYXRhcztcbiAgICAgICAgdGhpcy5yZVBhbmVsKGUpO1xuICAgIH07XG4gICAgZS5wcm90b3R5cGUucmVQYW5lbCA9IGZ1bmN0aW9uICh0KSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBlO1xuICAgICAgICAgICAgdmFyIG87XG4gICAgICAgICAgICB2YXIgbjtcbiAgICAgICAgICAgIHZhciBpO1xuICAgICAgICAgICAgdmFyIHI7XG4gICAgICAgICAgICB2YXIgYTtcbiAgICAgICAgICAgIHZhciBjO1xuICAgICAgICAgICAgdmFyIGw7XG4gICAgICAgICAgICB2YXIgdTtcbiAgICAgICAgICAgIHZhciBwO1xuICAgICAgICAgICAgdmFyIGQ7XG4gICAgICAgICAgICB2YXIgaDtcbiAgICAgICAgICAgIHZhciBmO1xuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChzKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChzLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKHRoaXMudXNlckRhdGFzID0gW10pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICh0aGlzLnRpbWVMLnN0cmluZyA9IFwi5pqC5peg5pWw5o2uXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICh0aGlzLmx2TC5zdHJpbmcgPSBcIlwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAodGhpcy5jb2luTnVtTC5zdHJpbmcgPSBcIjBcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKHRoaXMudGltZVIuc3RyaW5nID0gXCLmmoLml6DmlbDmja5cIiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKHRoaXMubHZSLnN0cmluZyA9IFwiXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICh0aGlzLmNvaW5OdW1MLnN0cmluZyA9IFwiMFwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gKChlID0gdFswXSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKG8gPSB0WzFdKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlICYmIGUudXBkYXRlX2F0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gKChyID0gZS51cGRhdGVfYXQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChhID0gbmV3IERhdGUocikpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChjID0gYS5nZXRGdWxsWWVhcigpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAobCA9IGEuZ2V0TW9udGgoKSArIDEpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICh1ID0gYS5nZXREYXRlKCkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICh0aGlzLnRpbWVMLnN0cmluZyA9IGMgKyBcIi9cIiArIGwgKyBcIi9cIiArIHUpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChuID0gSlNPTi5wYXJzZShlLnVzZXJfZGF0YSkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibG9jYWxEYXRhXCIgIT0gZS5zYXZlX3RhZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IFszLCAyXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6ICgodGhpcy5pbmZvTC5zdHJpbmcgPSBcIuiHquWKqOWkh+S7vVwiKSwgWzQsIHRoaXMuY29tcGFyZURhdGEobildKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBbMywgNF0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogWzMsIDEwXVxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChuID0gcy5zZW50KCkpLCBbMywgM107XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgICh0aGlzLmluZm9MLnN0cmluZyA9IFwi5omL5Yqo5aSH5Lu9XCIpLCAocy5sYWJlbCA9IDMpO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkID0gbi5wdXp6bGVMdmwgfHwgMCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKGggPSBuLmNvaW4gfHwgMCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKHRoaXMubHZMLnN0cmluZyA9IFwi5YWz5Y2h77yaXCIgKyBkKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAodGhpcy5jb2luTnVtTC5zdHJpbmcgPSBcIlwiICsgaCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKGkgPSBKU09OLnN0cmluZ2lmeShuKSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKGUudXNlcl9kYXRhID0gaSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51c2VyRGF0YXMucHVzaChlKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbMywgNV1cbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgICAgICh0aGlzLm5vZGVMLmFjdGl2ZSA9ICExKSwgKHMubGFiZWwgPSA1KTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG8gJiYgby51cGRhdGVfYXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/ICgociA9IG8udXBkYXRlX2F0KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChhID0gbmV3IERhdGUocikpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGMgPSBhLmdldEZ1bGxZZWFyKCkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGwgPSBhLmdldE1vbnRoKCkgKyAxKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICh1ID0gYS5nZXREYXRlKCkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHRoaXMudGltZVIuc3RyaW5nID0gYyArIFwiL1wiICsgbCArIFwiL1wiICsgdSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAocCA9IEpTT04ucGFyc2Uoby51c2VyX2RhdGEpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibG9jYWxEYXRhXCIgIT0gby5zYXZlX3RhZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gWzMsIDddXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAoKHRoaXMuaW5mb1Iuc3RyaW5nID0gXCLoh6rliqjlpIfku71cIiksIFs0LCB0aGlzLmNvbXBhcmVEYXRhKHApXSkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBbMywgOV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAocCA9IHMuc2VudCgpKSwgWzMsIDhdO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgICAgICAgICAgICAodGhpcy5pbmZvUi5zdHJpbmcgPSBcIuaJi+WKqOWkh+S7vVwiKSwgKHMubGFiZWwgPSA4KTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA4OlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZCA9IHAucHV6emxlTHZsIHx8IDApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChoID0gcC5jb2luIHx8IDApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICh0aGlzLmx2Ui5zdHJpbmcgPSBcIuWFs+WNoe+8mlwiICsgZCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKHRoaXMuY29pbk51bVIuc3RyaW5nID0gXCJcIiArIGgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChmID0gSlNPTi5zdHJpbmdpZnkocCkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChvLnVzZXJfZGF0YSA9IGYpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXNlckRhdGFzLnB1c2gobyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgWzMsIDEwXVxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA5OlxuICAgICAgICAgICAgICAgICAgICAgICAgKHRoaXMubm9kZVIuYWN0aXZlID0gITEpLCAocy5sYWJlbCA9IDEwKTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxMDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMl07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgZS5wcm90b3R5cGUuY29tcGFyZURhdGEgPSBmdW5jdGlvbiAodCkge1xuICAgICAgICB2YXIgZTtcbiAgICAgICAgdmFyIG87XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBuO1xuICAgICAgICAgICAgdmFyIGk7XG4gICAgICAgICAgICB2YXIgcjtcbiAgICAgICAgICAgIHZhciBhO1xuICAgICAgICAgICAgdmFyIGw7XG4gICAgICAgICAgICB2YXIgdTtcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAocykge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAocy5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2lkeC5wbGF0Zm9ybS5nZXRDbG91ZERhdGEgPyBbNCwgX2lkeC5wbGF0Zm9ybS5nZXRDbG91ZERhdGEoKV0gOiBbMywgMl07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIChuID0gcy5zZW50KCkpLCAocy5sYWJlbCA9IDIpO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChyID0gKG51bGwgPT0gdCA/IHZvaWQgMCA6IHQucHV6emxlTHZsKSB8fCAwKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoYSA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChudWxsID09PSAoZSA9IG51bGwgPT0gdCA/IHZvaWQgMCA6IHQuYmFnKSB8fCB2b2lkIDAgPT09IGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdm9pZCAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGUucHV6emxlX3BpZWNlcykgfHwgMCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKGwgPSAobnVsbCA9PSBuID8gdm9pZCAwIDogbi5wdXp6bGVMdmwpIHx8IDApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICh1ID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKG51bGwgPT09IChvID0gbnVsbCA9PSBuID8gdm9pZCAwIDogbi5iYWcpIHx8IHZvaWQgMCA9PT0gb1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB2b2lkIDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogby5wdXp6bGVfcGllY2VzKSB8fCAwKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoaSA9IHIgPiBsIHx8IGEgPiB1ID8gdCA6IG4pID8gWzIsIGldIDogWzIsIHRdXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIGUucHJvdG90eXBlLmhpZGVUaGlzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmhpZGUoKTtcbiAgICB9O1xuICAgIGUucHJvdG90eXBlLm9uQnRuQ2hlY2sgPSBmdW5jdGlvbiAodCwgZSkge1xuICAgICAgICB2YXIgbyA9IHRoaXMudXNlckRhdGFzW2VdO1xuICAgICAgICBvICYmIG8udXBkYXRlX2F0XG4gICAgICAgICAgICA/IF9wYW5lbE1nci5kZWZhdWx0Lmlucy5vcGVuKFwidWkvdWlfc2F2ZUNvbmZpcm1cIiwge2NEYXRhOiBvfSlcbiAgICAgICAgICAgIDogX3RpcE1nci5kZWZhdWx0Lmlucy5zaG93VGlwKFwi5pqC5peg5pWw5o2uXCIpO1xuICAgIH07XG4gICAgX19kZWNvcmF0ZShbZihjYy5MYWJlbCldLCBlLnByb3RvdHlwZSwgXCJ0aW1lTFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW2YoY2MuTGFiZWwpXSwgZS5wcm90b3R5cGUsIFwibHZMXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbZihjYy5MYWJlbCldLCBlLnByb3RvdHlwZSwgXCJjb2luTnVtTFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW2YoY2MuTGFiZWwpXSwgZS5wcm90b3R5cGUsIFwidGltZVJcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtmKGNjLkxhYmVsKV0sIGUucHJvdG90eXBlLCBcImx2UlwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW2YoY2MuTGFiZWwpXSwgZS5wcm90b3R5cGUsIFwiY29pbk51bVJcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtmKGNjLkxhYmVsKV0sIGUucHJvdG90eXBlLCBcImluZm9MXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbZihjYy5MYWJlbCldLCBlLnByb3RvdHlwZSwgXCJpbmZvUlwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW2YoY2MuTm9kZSldLCBlLnByb3RvdHlwZSwgXCJub2RlTFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW2YoY2MuTm9kZSldLCBlLnByb3RvdHlwZSwgXCJub2RlUlwiLCB2b2lkIDApO1xuICAgIHJldHVybiBfX2RlY29yYXRlKFtoXSwgZSk7XG59KShfYmFzZVVJLmRlZmF1bHQpO1xuZXhwb3J0cy5kZWZhdWx0ID0gZztcbiJdfQ==