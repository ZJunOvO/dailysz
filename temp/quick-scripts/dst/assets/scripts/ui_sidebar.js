
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/ui_sidebar.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'd0be4dW861Nob8k4ZQf0SYa', 'ui_sidebar');
// scripts/ui_sidebar.js

"use strict";

var n;
Object.defineProperty(exports, "__esModule", {
  value: !0
});

var _evts = require("evts");

var _idx = require("idx");

var _res = require("res");

var _panelMgr = require("panelMgr");

var _pInfo = require("pInfo");

var _baseUI = require("baseUI");

var d = cc._decorator;
var h = d.ccclass;
var f = d.property;

var g = function (t) {
  function e() {
    var e = null !== t && t.apply(this, arguments) || this;
    e.getBtn = null;
    e.intoBtn = null;
    e.tipNode = null;
    e.exampleNode = null;
    e.exampleSpr = null;
    e.exampleTxtNode = null;
    return e;
  }

  __extends(e, t);

  e.prototype.onLoad = function () {};

  e.prototype.start = function () {
    this.loadSp();
  };

  e.prototype.init = function () {
    for (var t = [], e = 0; e < arguments.length; e++) {
      t[e] = arguments[e];
    }

    this.updateSliderStatus();
  };

  e.prototype.loadSp = function () {
    var t = this;
    var e = null;
    var o = cc.sys.platform === cc.sys.ALIPAY_GAME ? "ali" : "tt";
    this.exampleTxtNode.active = cc.sys.platform == cc.sys.ALIPAY_GAME;

    _res["default"].ins.getBundleByString("resSps").then(function (n) {
      n.loadDir("platform/" + o, cc.SpriteFrame, function (o, n) {
        !o && t.node && t.node.isValid && n.forEach(function (o) {
          if (-1 !== o.name.indexOf("txt")) ;else if (-1 !== o.name.indexOf("exa")) if (cc.sys.platform === cc.sys.BYTEDANCE_GAME) e = cc.v3(0, 90, 0), t.exampleSpr.spriteFrame = o, t.exampleSpr.node.position = e;else if (cc.sys.platform === cc.sys.ALIPAY_GAME) if (e = cc.v3(-132, 35, 0), -1 !== o.name.indexOf("exa1")) t.exampleSpr.spriteFrame = o, t.exampleSpr.node.position = e;else {
            var n = new cc.Node();
            n.addComponent(cc.Sprite).spriteFrame = o;
            n.parent = t.exampleNode;
            e.x += 264;
            n.position = e;
          }
        });
      });
    })["catch"](function (t) {
      console.error("RTool.ins.getBundleByString('resSps')", t);
    });
  };

  e.prototype.updateSliderStatus = function () {
    var t = this.bySlider = _idx.platform.bySlider;
    this.getBtn.active = t;
    this.intoBtn.active = !t;
    _pInfo["default"].ins.getIsGetSlider() ? (this.getBtn.active = !1, this.intoBtn.active = !1, this.tipNode.active = !0) : this.tipNode.active = !1;
  };

  e.prototype.onGet = function () {
    var t = this;

    _pInfo["default"].ins.addCoin(20);

    _pInfo["default"].ins.setIsGetSlider(!0);

    var e = this.getBtn.parent.convertToWorldSpaceAR(this.getBtn.position);

    _panelMgr["default"].ins.open("ui/ui_flyAni", {
      itemDatas: [{
        itemId: "coin",
        worldPos: e,
        value: 20
      }],
      hideCb: function hideCb() {
        t.hideThis();

        _evts["default"].opE.emit({
          action: _evts["default"].Slider_Chg
        });
      }
    });
  };

  e.prototype.onInto = function () {
    _idx.platform.navigateToScene();

    this.hideThis();
  };

  e.prototype.hideThis = function () {
    this.hide();
  };

  e.prototype.onDestroy = function () {};

  __decorate([f(cc.Node)], e.prototype, "getBtn", void 0);

  __decorate([f(cc.Node)], e.prototype, "intoBtn", void 0);

  __decorate([f(cc.Node)], e.prototype, "tipNode", void 0);

  __decorate([f(cc.Node)], e.prototype, "exampleNode", void 0);

  __decorate([f(cc.Sprite)], e.prototype, "exampleSpr", void 0);

  __decorate([f(cc.Node)], e.prototype, "exampleTxtNode", void 0);

  return __decorate([h], e);
}(_baseUI["default"]);

exports["default"] = g;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcdWlfc2lkZWJhci5qcyJdLCJuYW1lcyI6WyJuIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwidmFsdWUiLCJfZXZ0cyIsInJlcXVpcmUiLCJfaWR4IiwiX3JlcyIsIl9wYW5lbE1nciIsIl9wSW5mbyIsIl9iYXNlVUkiLCJkIiwiY2MiLCJfZGVjb3JhdG9yIiwiaCIsImNjY2xhc3MiLCJmIiwicHJvcGVydHkiLCJnIiwidCIsImUiLCJhcHBseSIsImFyZ3VtZW50cyIsImdldEJ0biIsImludG9CdG4iLCJ0aXBOb2RlIiwiZXhhbXBsZU5vZGUiLCJleGFtcGxlU3ByIiwiZXhhbXBsZVR4dE5vZGUiLCJfX2V4dGVuZHMiLCJwcm90b3R5cGUiLCJvbkxvYWQiLCJzdGFydCIsImxvYWRTcCIsImluaXQiLCJsZW5ndGgiLCJ1cGRhdGVTbGlkZXJTdGF0dXMiLCJvIiwic3lzIiwicGxhdGZvcm0iLCJBTElQQVlfR0FNRSIsImFjdGl2ZSIsImlucyIsImdldEJ1bmRsZUJ5U3RyaW5nIiwidGhlbiIsImxvYWREaXIiLCJTcHJpdGVGcmFtZSIsIm5vZGUiLCJpc1ZhbGlkIiwiZm9yRWFjaCIsIm5hbWUiLCJpbmRleE9mIiwiQllURURBTkNFX0dBTUUiLCJ2MyIsInNwcml0ZUZyYW1lIiwicG9zaXRpb24iLCJOb2RlIiwiYWRkQ29tcG9uZW50IiwiU3ByaXRlIiwicGFyZW50IiwieCIsImNvbnNvbGUiLCJlcnJvciIsImJ5U2xpZGVyIiwiZ2V0SXNHZXRTbGlkZXIiLCJvbkdldCIsImFkZENvaW4iLCJzZXRJc0dldFNsaWRlciIsImNvbnZlcnRUb1dvcmxkU3BhY2VBUiIsIm9wZW4iLCJpdGVtRGF0YXMiLCJpdGVtSWQiLCJ3b3JsZFBvcyIsImhpZGVDYiIsImhpZGVUaGlzIiwib3BFIiwiZW1pdCIsImFjdGlvbiIsIlNsaWRlcl9DaGciLCJvbkludG8iLCJuYXZpZ2F0ZVRvU2NlbmUiLCJoaWRlIiwib25EZXN0cm95IiwiX19kZWNvcmF0ZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxJQUFJQSxDQUFKO0FBQ0FDLE1BQU0sQ0FBQ0MsY0FBUCxDQUFzQkMsT0FBdEIsRUFBK0IsWUFBL0IsRUFBNkM7RUFBQ0MsS0FBSyxFQUFFLENBQUM7QUFBVCxDQUE3Qzs7QUFDQSxJQUFJQyxLQUFLLEdBQUdDLE9BQU8sQ0FBQyxNQUFELENBQW5COztBQUNBLElBQUlDLElBQUksR0FBR0QsT0FBTyxDQUFDLEtBQUQsQ0FBbEI7O0FBQ0EsSUFBSUUsSUFBSSxHQUFHRixPQUFPLENBQUMsS0FBRCxDQUFsQjs7QUFDQSxJQUFJRyxTQUFTLEdBQUdILE9BQU8sQ0FBQyxVQUFELENBQXZCOztBQUNBLElBQUlJLE1BQU0sR0FBR0osT0FBTyxDQUFDLE9BQUQsQ0FBcEI7O0FBQ0EsSUFBSUssT0FBTyxHQUFHTCxPQUFPLENBQUMsUUFBRCxDQUFyQjs7QUFDQSxJQUFJTSxDQUFDLEdBQUdDLEVBQUUsQ0FBQ0MsVUFBWDtBQUNBLElBQUlDLENBQUMsR0FBR0gsQ0FBQyxDQUFDSSxPQUFWO0FBQ0EsSUFBSUMsQ0FBQyxHQUFHTCxDQUFDLENBQUNNLFFBQVY7O0FBQ0EsSUFBSUMsQ0FBQyxHQUFJLFVBQVVDLENBQVYsRUFBYTtFQUNsQixTQUFTQyxDQUFULEdBQWE7SUFDVCxJQUFJQSxDQUFDLEdBQUksU0FBU0QsQ0FBVCxJQUFjQSxDQUFDLENBQUNFLEtBQUYsQ0FBUSxJQUFSLEVBQWNDLFNBQWQsQ0FBZixJQUE0QyxJQUFwRDtJQUNBRixDQUFDLENBQUNHLE1BQUYsR0FBVyxJQUFYO0lBQ0FILENBQUMsQ0FBQ0ksT0FBRixHQUFZLElBQVo7SUFDQUosQ0FBQyxDQUFDSyxPQUFGLEdBQVksSUFBWjtJQUNBTCxDQUFDLENBQUNNLFdBQUYsR0FBZ0IsSUFBaEI7SUFDQU4sQ0FBQyxDQUFDTyxVQUFGLEdBQWUsSUFBZjtJQUNBUCxDQUFDLENBQUNRLGNBQUYsR0FBbUIsSUFBbkI7SUFDQSxPQUFPUixDQUFQO0VBQ0g7O0VBQ0RTLFNBQVMsQ0FBQ1QsQ0FBRCxFQUFJRCxDQUFKLENBQVQ7O0VBQ0FDLENBQUMsQ0FBQ1UsU0FBRixDQUFZQyxNQUFaLEdBQXFCLFlBQVksQ0FBRSxDQUFuQzs7RUFDQVgsQ0FBQyxDQUFDVSxTQUFGLENBQVlFLEtBQVosR0FBb0IsWUFBWTtJQUM1QixLQUFLQyxNQUFMO0VBQ0gsQ0FGRDs7RUFHQWIsQ0FBQyxDQUFDVSxTQUFGLENBQVlJLElBQVosR0FBbUIsWUFBWTtJQUMzQixLQUFLLElBQUlmLENBQUMsR0FBRyxFQUFSLEVBQVlDLENBQUMsR0FBRyxDQUFyQixFQUF3QkEsQ0FBQyxHQUFHRSxTQUFTLENBQUNhLE1BQXRDLEVBQThDZixDQUFDLEVBQS9DO01BQW1ERCxDQUFDLENBQUNDLENBQUQsQ0FBRCxHQUFPRSxTQUFTLENBQUNGLENBQUQsQ0FBaEI7SUFBbkQ7O0lBQ0EsS0FBS2dCLGtCQUFMO0VBQ0gsQ0FIRDs7RUFJQWhCLENBQUMsQ0FBQ1UsU0FBRixDQUFZRyxNQUFaLEdBQXFCLFlBQVk7SUFDN0IsSUFBSWQsQ0FBQyxHQUFHLElBQVI7SUFDQSxJQUFJQyxDQUFDLEdBQUcsSUFBUjtJQUNBLElBQUlpQixDQUFDLEdBQUd6QixFQUFFLENBQUMwQixHQUFILENBQU9DLFFBQVAsS0FBb0IzQixFQUFFLENBQUMwQixHQUFILENBQU9FLFdBQTNCLEdBQXlDLEtBQXpDLEdBQWlELElBQXpEO0lBQ0EsS0FBS1osY0FBTCxDQUFvQmEsTUFBcEIsR0FBNkI3QixFQUFFLENBQUMwQixHQUFILENBQU9DLFFBQVAsSUFBbUIzQixFQUFFLENBQUMwQixHQUFILENBQU9FLFdBQXZEOztJQUNBakMsSUFBSSxXQUFKLENBQWFtQyxHQUFiLENBQ0tDLGlCQURMLENBQ3VCLFFBRHZCLEVBRUtDLElBRkwsQ0FFVSxVQUFVN0MsQ0FBVixFQUFhO01BQ2ZBLENBQUMsQ0FBQzhDLE9BQUYsQ0FBVSxjQUFjUixDQUF4QixFQUEyQnpCLEVBQUUsQ0FBQ2tDLFdBQTlCLEVBQTJDLFVBQVVULENBQVYsRUFBYXRDLENBQWIsRUFBZ0I7UUFDdkQsQ0FBQ3NDLENBQUQsSUFDSWxCLENBQUMsQ0FBQzRCLElBRE4sSUFFSTVCLENBQUMsQ0FBQzRCLElBQUYsQ0FBT0MsT0FGWCxJQUdJakQsQ0FBQyxDQUFDa0QsT0FBRixDQUFVLFVBQVVaLENBQVYsRUFBYTtVQUNuQixJQUFJLENBQUMsQ0FBRCxLQUFPQSxDQUFDLENBQUNhLElBQUYsQ0FBT0MsT0FBUCxDQUFlLEtBQWYsQ0FBWCxFQUFpQyxDQUFqQyxLQUNLLElBQUksQ0FBQyxDQUFELEtBQU9kLENBQUMsQ0FBQ2EsSUFBRixDQUFPQyxPQUFQLENBQWUsS0FBZixDQUFYLEVBQ0QsSUFBSXZDLEVBQUUsQ0FBQzBCLEdBQUgsQ0FBT0MsUUFBUCxLQUFvQjNCLEVBQUUsQ0FBQzBCLEdBQUgsQ0FBT2MsY0FBL0IsRUFDS2hDLENBQUMsR0FBR1IsRUFBRSxDQUFDeUMsRUFBSCxDQUFNLENBQU4sRUFBUyxFQUFULEVBQWEsQ0FBYixDQUFMLEVBQ0tsQyxDQUFDLENBQUNRLFVBQUYsQ0FBYTJCLFdBQWIsR0FBMkJqQixDQURoQyxFQUVLbEIsQ0FBQyxDQUFDUSxVQUFGLENBQWFvQixJQUFiLENBQWtCUSxRQUFsQixHQUE2Qm5DLENBRmxDLENBREosS0FJSyxJQUFJUixFQUFFLENBQUMwQixHQUFILENBQU9DLFFBQVAsS0FBb0IzQixFQUFFLENBQUMwQixHQUFILENBQU9FLFdBQS9CLEVBQ0QsSUFBTXBCLENBQUMsR0FBR1IsRUFBRSxDQUFDeUMsRUFBSCxDQUFNLENBQUMsR0FBUCxFQUFZLEVBQVosRUFBZ0IsQ0FBaEIsQ0FBTCxFQUEwQixDQUFDLENBQUQsS0FBT2hCLENBQUMsQ0FBQ2EsSUFBRixDQUFPQyxPQUFQLENBQWUsTUFBZixDQUF0QyxFQUNLaEMsQ0FBQyxDQUFDUSxVQUFGLENBQWEyQixXQUFiLEdBQTJCakIsQ0FBNUIsRUFBaUNsQixDQUFDLENBQUNRLFVBQUYsQ0FBYW9CLElBQWIsQ0FBa0JRLFFBQWxCLEdBQTZCbkMsQ0FBOUQsQ0FESixLQUVLO1lBQ0QsSUFBSXJCLENBQUMsR0FBRyxJQUFJYSxFQUFFLENBQUM0QyxJQUFQLEVBQVI7WUFDQXpELENBQUMsQ0FBQzBELFlBQUYsQ0FBZTdDLEVBQUUsQ0FBQzhDLE1BQWxCLEVBQTBCSixXQUExQixHQUF3Q2pCLENBQXhDO1lBQ0F0QyxDQUFDLENBQUM0RCxNQUFGLEdBQVd4QyxDQUFDLENBQUNPLFdBQWI7WUFDQU4sQ0FBQyxDQUFDd0MsQ0FBRixJQUFPLEdBQVA7WUFDQTdELENBQUMsQ0FBQ3dELFFBQUYsR0FBYW5DLENBQWI7VUFDSDtRQUNaLENBakJELENBSEo7TUFxQkgsQ0F0QkQ7SUF1QkgsQ0ExQkwsV0EyQlcsVUFBVUQsQ0FBVixFQUFhO01BQ2hCMEMsT0FBTyxDQUFDQyxLQUFSLENBQWMsdUNBQWQsRUFBdUQzQyxDQUF2RDtJQUNILENBN0JMO0VBOEJILENBbkNEOztFQW9DQUMsQ0FBQyxDQUFDVSxTQUFGLENBQVlNLGtCQUFaLEdBQWlDLFlBQVk7SUFDekMsSUFBSWpCLENBQUMsR0FBSSxLQUFLNEMsUUFBTCxHQUFnQnpELElBQUksQ0FBQ2lDLFFBQUwsQ0FBY3dCLFFBQXZDO0lBQ0EsS0FBS3hDLE1BQUwsQ0FBWWtCLE1BQVosR0FBcUJ0QixDQUFyQjtJQUNBLEtBQUtLLE9BQUwsQ0FBYWlCLE1BQWIsR0FBc0IsQ0FBQ3RCLENBQXZCO0lBQ0FWLE1BQU0sV0FBTixDQUFlaUMsR0FBZixDQUFtQnNCLGNBQW5CLE1BQ1EsS0FBS3pDLE1BQUwsQ0FBWWtCLE1BQVosR0FBcUIsQ0FBQyxDQUF2QixFQUE0QixLQUFLakIsT0FBTCxDQUFhaUIsTUFBYixHQUFzQixDQUFDLENBQW5ELEVBQXdELEtBQUtoQixPQUFMLENBQWFnQixNQUFiLEdBQXNCLENBQUMsQ0FEdEYsSUFFTyxLQUFLaEIsT0FBTCxDQUFhZ0IsTUFBYixHQUFzQixDQUFDLENBRjlCO0VBR0gsQ0FQRDs7RUFRQXJCLENBQUMsQ0FBQ1UsU0FBRixDQUFZbUMsS0FBWixHQUFvQixZQUFZO0lBQzVCLElBQUk5QyxDQUFDLEdBQUcsSUFBUjs7SUFDQVYsTUFBTSxXQUFOLENBQWVpQyxHQUFmLENBQW1Cd0IsT0FBbkIsQ0FBMkIsRUFBM0I7O0lBQ0F6RCxNQUFNLFdBQU4sQ0FBZWlDLEdBQWYsQ0FBbUJ5QixjQUFuQixDQUFrQyxDQUFDLENBQW5DOztJQUNBLElBQUkvQyxDQUFDLEdBQUcsS0FBS0csTUFBTCxDQUFZb0MsTUFBWixDQUFtQlMscUJBQW5CLENBQXlDLEtBQUs3QyxNQUFMLENBQVlnQyxRQUFyRCxDQUFSOztJQUNBL0MsU0FBUyxXQUFULENBQWtCa0MsR0FBbEIsQ0FBc0IyQixJQUF0QixDQUEyQixjQUEzQixFQUEyQztNQUN2Q0MsU0FBUyxFQUFFLENBQUM7UUFBQ0MsTUFBTSxFQUFFLE1BQVQ7UUFBaUJDLFFBQVEsRUFBRXBELENBQTNCO1FBQThCakIsS0FBSyxFQUFFO01BQXJDLENBQUQsQ0FENEI7TUFFdkNzRSxNQUFNLEVBQUUsa0JBQVk7UUFDaEJ0RCxDQUFDLENBQUN1RCxRQUFGOztRQUNBdEUsS0FBSyxXQUFMLENBQWN1RSxHQUFkLENBQWtCQyxJQUFsQixDQUF1QjtVQUFDQyxNQUFNLEVBQUV6RSxLQUFLLFdBQUwsQ0FBYzBFO1FBQXZCLENBQXZCO01BQ0g7SUFMc0MsQ0FBM0M7RUFPSCxDQVpEOztFQWFBMUQsQ0FBQyxDQUFDVSxTQUFGLENBQVlpRCxNQUFaLEdBQXFCLFlBQVk7SUFDN0J6RSxJQUFJLENBQUNpQyxRQUFMLENBQWN5QyxlQUFkOztJQUNBLEtBQUtOLFFBQUw7RUFDSCxDQUhEOztFQUlBdEQsQ0FBQyxDQUFDVSxTQUFGLENBQVk0QyxRQUFaLEdBQXVCLFlBQVk7SUFDL0IsS0FBS08sSUFBTDtFQUNILENBRkQ7O0VBR0E3RCxDQUFDLENBQUNVLFNBQUYsQ0FBWW9ELFNBQVosR0FBd0IsWUFBWSxDQUFFLENBQXRDOztFQUNBQyxVQUFVLENBQUMsQ0FBQ25FLENBQUMsQ0FBQ0osRUFBRSxDQUFDNEMsSUFBSixDQUFGLENBQUQsRUFBZXBDLENBQUMsQ0FBQ1UsU0FBakIsRUFBNEIsUUFBNUIsRUFBc0MsS0FBSyxDQUEzQyxDQUFWOztFQUNBcUQsVUFBVSxDQUFDLENBQUNuRSxDQUFDLENBQUNKLEVBQUUsQ0FBQzRDLElBQUosQ0FBRixDQUFELEVBQWVwQyxDQUFDLENBQUNVLFNBQWpCLEVBQTRCLFNBQTVCLEVBQXVDLEtBQUssQ0FBNUMsQ0FBVjs7RUFDQXFELFVBQVUsQ0FBQyxDQUFDbkUsQ0FBQyxDQUFDSixFQUFFLENBQUM0QyxJQUFKLENBQUYsQ0FBRCxFQUFlcEMsQ0FBQyxDQUFDVSxTQUFqQixFQUE0QixTQUE1QixFQUF1QyxLQUFLLENBQTVDLENBQVY7O0VBQ0FxRCxVQUFVLENBQUMsQ0FBQ25FLENBQUMsQ0FBQ0osRUFBRSxDQUFDNEMsSUFBSixDQUFGLENBQUQsRUFBZXBDLENBQUMsQ0FBQ1UsU0FBakIsRUFBNEIsYUFBNUIsRUFBMkMsS0FBSyxDQUFoRCxDQUFWOztFQUNBcUQsVUFBVSxDQUFDLENBQUNuRSxDQUFDLENBQUNKLEVBQUUsQ0FBQzhDLE1BQUosQ0FBRixDQUFELEVBQWlCdEMsQ0FBQyxDQUFDVSxTQUFuQixFQUE4QixZQUE5QixFQUE0QyxLQUFLLENBQWpELENBQVY7O0VBQ0FxRCxVQUFVLENBQUMsQ0FBQ25FLENBQUMsQ0FBQ0osRUFBRSxDQUFDNEMsSUFBSixDQUFGLENBQUQsRUFBZXBDLENBQUMsQ0FBQ1UsU0FBakIsRUFBNEIsZ0JBQTVCLEVBQThDLEtBQUssQ0FBbkQsQ0FBVjs7RUFDQSxPQUFPcUQsVUFBVSxDQUFDLENBQUNyRSxDQUFELENBQUQsRUFBTU0sQ0FBTixDQUFqQjtBQUNILENBNUZPLENBNEZMVixPQUFPLFdBNUZGLENBQVI7O0FBNkZBUixPQUFPLFdBQVAsR0FBa0JnQixDQUFsQiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsidmFyIG47XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHt2YWx1ZTogITB9KTtcbnZhciBfZXZ0cyA9IHJlcXVpcmUoXCJldnRzXCIpO1xudmFyIF9pZHggPSByZXF1aXJlKFwiaWR4XCIpO1xudmFyIF9yZXMgPSByZXF1aXJlKFwicmVzXCIpO1xudmFyIF9wYW5lbE1nciA9IHJlcXVpcmUoXCJwYW5lbE1nclwiKTtcbnZhciBfcEluZm8gPSByZXF1aXJlKFwicEluZm9cIik7XG52YXIgX2Jhc2VVSSA9IHJlcXVpcmUoXCJiYXNlVUlcIik7XG52YXIgZCA9IGNjLl9kZWNvcmF0b3I7XG52YXIgaCA9IGQuY2NjbGFzcztcbnZhciBmID0gZC5wcm9wZXJ0eTtcbnZhciBnID0gKGZ1bmN0aW9uICh0KSB7XG4gICAgZnVuY3Rpb24gZSgpIHtcbiAgICAgICAgdmFyIGUgPSAobnVsbCAhPT0gdCAmJiB0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpIHx8IHRoaXM7XG4gICAgICAgIGUuZ2V0QnRuID0gbnVsbDtcbiAgICAgICAgZS5pbnRvQnRuID0gbnVsbDtcbiAgICAgICAgZS50aXBOb2RlID0gbnVsbDtcbiAgICAgICAgZS5leGFtcGxlTm9kZSA9IG51bGw7XG4gICAgICAgIGUuZXhhbXBsZVNwciA9IG51bGw7XG4gICAgICAgIGUuZXhhbXBsZVR4dE5vZGUgPSBudWxsO1xuICAgICAgICByZXR1cm4gZTtcbiAgICB9XG4gICAgX19leHRlbmRzKGUsIHQpO1xuICAgIGUucHJvdG90eXBlLm9uTG9hZCA9IGZ1bmN0aW9uICgpIHt9O1xuICAgIGUucHJvdG90eXBlLnN0YXJ0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmxvYWRTcCgpO1xuICAgIH07XG4gICAgZS5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZm9yICh2YXIgdCA9IFtdLCBlID0gMDsgZSA8IGFyZ3VtZW50cy5sZW5ndGg7IGUrKykgdFtlXSA9IGFyZ3VtZW50c1tlXTtcbiAgICAgICAgdGhpcy51cGRhdGVTbGlkZXJTdGF0dXMoKTtcbiAgICB9O1xuICAgIGUucHJvdG90eXBlLmxvYWRTcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHQgPSB0aGlzO1xuICAgICAgICB2YXIgZSA9IG51bGw7XG4gICAgICAgIHZhciBvID0gY2Muc3lzLnBsYXRmb3JtID09PSBjYy5zeXMuQUxJUEFZX0dBTUUgPyBcImFsaVwiIDogXCJ0dFwiO1xuICAgICAgICB0aGlzLmV4YW1wbGVUeHROb2RlLmFjdGl2ZSA9IGNjLnN5cy5wbGF0Zm9ybSA9PSBjYy5zeXMuQUxJUEFZX0dBTUU7XG4gICAgICAgIF9yZXMuZGVmYXVsdC5pbnNcbiAgICAgICAgICAgIC5nZXRCdW5kbGVCeVN0cmluZyhcInJlc1Nwc1wiKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKG4pIHtcbiAgICAgICAgICAgICAgICBuLmxvYWREaXIoXCJwbGF0Zm9ybS9cIiArIG8sIGNjLlNwcml0ZUZyYW1lLCBmdW5jdGlvbiAobywgbikge1xuICAgICAgICAgICAgICAgICAgICAhbyAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgdC5ub2RlICYmXG4gICAgICAgICAgICAgICAgICAgICAgICB0Lm5vZGUuaXNWYWxpZCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgbi5mb3JFYWNoKGZ1bmN0aW9uIChvKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKC0xICE9PSBvLm5hbWUuaW5kZXhPZihcInR4dFwiKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoLTEgIT09IG8ubmFtZS5pbmRleE9mKFwiZXhhXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2Muc3lzLnBsYXRmb3JtID09PSBjYy5zeXMuQllURURBTkNFX0dBTUUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZSA9IGNjLnYzKDAsIDkwLCAwKSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHQuZXhhbXBsZVNwci5zcHJpdGVGcmFtZSA9IG8pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICh0LmV4YW1wbGVTcHIubm9kZS5wb3NpdGlvbiA9IGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChjYy5zeXMucGxhdGZvcm0gPT09IGNjLnN5cy5BTElQQVlfR0FNRSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoKGUgPSBjYy52MygtMTMyLCAzNSwgMCkpLCAtMSAhPT0gby5uYW1lLmluZGV4T2YoXCJleGExXCIpKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAodC5leGFtcGxlU3ByLnNwcml0ZUZyYW1lID0gbyksICh0LmV4YW1wbGVTcHIubm9kZS5wb3NpdGlvbiA9IGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG4gPSBuZXcgY2MuTm9kZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG4uYWRkQ29tcG9uZW50KGNjLlNwcml0ZSkuc3ByaXRlRnJhbWUgPSBvO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG4ucGFyZW50ID0gdC5leGFtcGxlTm9kZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnggKz0gMjY0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG4ucG9zaXRpb24gPSBlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uICh0KSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIlJUb29sLmlucy5nZXRCdW5kbGVCeVN0cmluZygncmVzU3BzJylcIiwgdCk7XG4gICAgICAgICAgICB9KTtcbiAgICB9O1xuICAgIGUucHJvdG90eXBlLnVwZGF0ZVNsaWRlclN0YXR1cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHQgPSAodGhpcy5ieVNsaWRlciA9IF9pZHgucGxhdGZvcm0uYnlTbGlkZXIpO1xuICAgICAgICB0aGlzLmdldEJ0bi5hY3RpdmUgPSB0O1xuICAgICAgICB0aGlzLmludG9CdG4uYWN0aXZlID0gIXQ7XG4gICAgICAgIF9wSW5mby5kZWZhdWx0Lmlucy5nZXRJc0dldFNsaWRlcigpXG4gICAgICAgICAgICA/ICgodGhpcy5nZXRCdG4uYWN0aXZlID0gITEpLCAodGhpcy5pbnRvQnRuLmFjdGl2ZSA9ICExKSwgKHRoaXMudGlwTm9kZS5hY3RpdmUgPSAhMCkpXG4gICAgICAgICAgICA6ICh0aGlzLnRpcE5vZGUuYWN0aXZlID0gITEpO1xuICAgIH07XG4gICAgZS5wcm90b3R5cGUub25HZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB0ID0gdGhpcztcbiAgICAgICAgX3BJbmZvLmRlZmF1bHQuaW5zLmFkZENvaW4oMjApO1xuICAgICAgICBfcEluZm8uZGVmYXVsdC5pbnMuc2V0SXNHZXRTbGlkZXIoITApO1xuICAgICAgICB2YXIgZSA9IHRoaXMuZ2V0QnRuLnBhcmVudC5jb252ZXJ0VG9Xb3JsZFNwYWNlQVIodGhpcy5nZXRCdG4ucG9zaXRpb24pO1xuICAgICAgICBfcGFuZWxNZ3IuZGVmYXVsdC5pbnMub3BlbihcInVpL3VpX2ZseUFuaVwiLCB7XG4gICAgICAgICAgICBpdGVtRGF0YXM6IFt7aXRlbUlkOiBcImNvaW5cIiwgd29ybGRQb3M6IGUsIHZhbHVlOiAyMH1dLFxuICAgICAgICAgICAgaGlkZUNiOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdC5oaWRlVGhpcygpO1xuICAgICAgICAgICAgICAgIF9ldnRzLmRlZmF1bHQub3BFLmVtaXQoe2FjdGlvbjogX2V2dHMuZGVmYXVsdC5TbGlkZXJfQ2hnfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgZS5wcm90b3R5cGUub25JbnRvID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBfaWR4LnBsYXRmb3JtLm5hdmlnYXRlVG9TY2VuZSgpO1xuICAgICAgICB0aGlzLmhpZGVUaGlzKCk7XG4gICAgfTtcbiAgICBlLnByb3RvdHlwZS5oaWRlVGhpcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5oaWRlKCk7XG4gICAgfTtcbiAgICBlLnByb3RvdHlwZS5vbkRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7fTtcbiAgICBfX2RlY29yYXRlKFtmKGNjLk5vZGUpXSwgZS5wcm90b3R5cGUsIFwiZ2V0QnRuXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbZihjYy5Ob2RlKV0sIGUucHJvdG90eXBlLCBcImludG9CdG5cIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtmKGNjLk5vZGUpXSwgZS5wcm90b3R5cGUsIFwidGlwTm9kZVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW2YoY2MuTm9kZSldLCBlLnByb3RvdHlwZSwgXCJleGFtcGxlTm9kZVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW2YoY2MuU3ByaXRlKV0sIGUucHJvdG90eXBlLCBcImV4YW1wbGVTcHJcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtmKGNjLk5vZGUpXSwgZS5wcm90b3R5cGUsIFwiZXhhbXBsZVR4dE5vZGVcIiwgdm9pZCAwKTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZShbaF0sIGUpO1xufSkoX2Jhc2VVSS5kZWZhdWx0KTtcbmV4cG9ydHMuZGVmYXVsdCA9IGc7XG4iXX0=