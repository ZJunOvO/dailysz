{"version":3,"sources":["assets\\scripts\\Creator.js"],"names":["Object","defineProperty","exports","value","_solver","require","_puzzle","_puzzleCell","a","t","seed","prototype","seedRandom","Math","random","getRandomIntBetween","e","o","ceil","n","floor","getRandomData","createRandom","i","cells","forEach","push","solution","r","s","c","l","u","p","d","h","f","g","y","puzzle","length","totalCells","width","_populatePuzzleFromGrid","solve","creator","createFromGrid","Date","Array","createFromHints","row","column","rowHints","columnHints","grid","index","getCellByIndex","aiSolution","reset"],"mappings":"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","sourceRoot":"/","sourcesContent":["Object.defineProperty(exports, \"__esModule\", {value: !0});\nvar _solver = require(\"Solver\");\nvar _puzzle = require(\"Puzzle\");\nvar _puzzleCell = require(\"PuzzleCell\");\nvar a = (function () {\n    function t(t) {\n        t && (this.seed = t);\n    }\n    t.prototype.seedRandom = function () {\n        return null == this.seed\n            ? Math.random()\n            : ((this.seed = (9301 * this.seed + 49297) % 233280), this.seed / 233280);\n    };\n    t.prototype.getRandomIntBetween = function (t, e) {\n        var o = Math.ceil(t);\n        var n = Math.floor(e);\n        return Math.floor(this.seedRandom() * (n - o + 1)) + o;\n    };\n    t.prototype.getRandomData = function (t, e, o) {\n        void 0 === o && (o = 3);\n        var n = this.createRandom(t, t, e, o - 1);\n        var i = [];\n        n.cells.forEach(function (t) {\n            i.push(t.solution);\n        });\n        return i;\n    };\n    t.prototype.createRandom = function (e, o, r, a) {\n        var s;\n        var c;\n        var l;\n        var u;\n        var p = !1;\n        var d = \"number\" == typeof r && r >= 0 && r <= 1;\n        var h = [];\n        var f = [];\n        var g = 0;\n        var y = 1;\n        for (this.puzzle = new _puzzle.default(e, o); !1 === p; ) {\n            for (\n                c = d ? r : this.getRandomIntBetween(200, 800) / 1e3, h.length = 0, f.length = 0, s = 0, u = 0;\n                u < this.puzzle.totalCells;\n                u++\n            )\n                (l = this.seedRandom() < c ? 1 : 0),\n                    a && (0 == l && 1 == y && g++, g > a && ((l = 1), g--), (y = l)),\n                    (s += l),\n                    u % this.puzzle.width == 0 && u > 0 && ((y = 1), (g = 0), h.push(f), (f = [])),\n                    f.push(l);\n            0 !== s &&\n                s !== this.puzzle.totalCells &&\n                (h.push(f),\n                (this.puzzle = t._populatePuzzleFromGrid(this.puzzle, h)),\n                new _solver.default(this.puzzle).solve() && (p = !0));\n        }\n        this.puzzle.creator = this;\n        return this.puzzle;\n    };\n    t.prototype.createFromGrid = function (e) {\n        new Date();\n        var o;\n        var r = 0;\n        var a = 0;\n        if (!(e instanceof Array)) throw \"grid is not an array\";\n        e.forEach(function (t, e) {\n            if (!(t instanceof Array)) throw \"grid is not a multi-dimensional array\";\n            if (0 === r) r = t.length;\n            else if (t.length !== r) throw \"row \" + e + \" has an invalid length (\" + t.length + \") - expecting \" + r;\n            a++;\n        });\n        o = new _puzzle.default(r, a);\n        this.puzzle = t._populatePuzzleFromGrid(o, e);\n        this.puzzle.creator = this;\n        return !!new _solver.default(this.puzzle).solve() && this.puzzle;\n    };\n    t.prototype.createFromHints = function (t) {\n        var e;\n        var o;\n        var a;\n        var s;\n        var c = this;\n        if (\"object\" != typeof t || !t.row || !t.column)\n            throw 'parameter passed to createFromHints() must be an object containing \"row\" and \"column\" properties';\n        if (!(t.row instanceof Array && t.column instanceof Array)) throw \"hints.row or hints.column must be an array.\";\n        e = t.column.length;\n        o = t.row.length;\n        (a = new _puzzle.default(e, o)).rowHints = t.row;\n        a.columnHints = t.column;\n        a.creator = this;\n        a.grid.forEach(function (t, e) {\n            t.forEach(function (t, o) {\n                a.cells.push(new _puzzleCell.default({index: e * a.width + o, column: o, row: e}));\n            });\n        });\n        this.puzzle = a;\n        return (\n            !!(s = new _solver.default(this.puzzle)).solve() &&\n            (s.puzzle.cells.forEach(function (t, e) {\n                var o = c.puzzle.getCellByIndex(e);\n                o.aiSolution = t.aiSolution;\n                o.solution = t.aiSolution;\n            }),\n            this.puzzle)\n        );\n    };\n    t._populatePuzzleFromGrid = function (t, e) {\n        var o;\n        var n;\n        var i;\n        var a;\n        var s;\n        var c;\n        var l;\n        var u;\n        var p;\n        var d;\n        var h;\n        for (t.reset(), t.grid = e, n = 0; n < t.grid.length; n++) {\n            for (i = t.grid[n], p = [], t.rowHints[n] = [], a = 0; a < i.length; a++)\n                (l = s = i[a]),\n                    (u = a > 0 ? t.grid[n][a - 1] : 0),\n                    t.cells.push(new _puzzleCell.default({index: n * t.width + a, column: a, row: n, solution: s})),\n                    1 === l && 0 === u\n                        ? p.push(1)\n                        : 0 === l && 1 === u\n                        ? p.push(0)\n                        : 1 === l && 1 === u && p[p.length - 1]++;\n            for (d = 0; d < p.length; d++) (h = p[d]) > 0 && t.rowHints[n].push(h);\n        }\n        for (a = 0; a < t.width; a++) {\n            for (t.columnHints[a] = [], o = [], c = a; c < t.totalCells; c += t.width)\n                (i = Math.floor(c / t.width)),\n                    (l = t.grid[i][a]),\n                    (u = i > 0 ? t.grid[i - 1][a] : 0),\n                    1 === l && 0 === u\n                        ? o.push(1)\n                        : 0 === l && 1 === u\n                        ? o.push(0)\n                        : 1 === l && 1 === u && o[o.length - 1]++;\n            for (d = 0; d < o.length; d++) (h = o[d]) > 0 && t.columnHints[a].push(h);\n        }\n        return t;\n    };\n    return t;\n})();\nexports.default = a;\n"]}