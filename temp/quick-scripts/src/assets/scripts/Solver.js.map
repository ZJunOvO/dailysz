{"version":3,"sources":["assets\\scripts\\Solver.js"],"names":["Object","defineProperty","exports","value","_puzzleLine","require","_utility","r","t","puzzle","_reset","prototype","solve","e","o","n","i","Date","getTime","isReset","_getProgress","_getTotalSolved","cells","length","lines","solved","eliminateImpossibleFits","findKnownPositivesAndNegatives","findSectionDefiningChains","findAnchoredSections","findCompletedSections","findCompletedLines","elapsedTime","a","s","c","l","u","p","d","h","minimumSectionLength","sections","_setCellSolution","aiSolution","cloneArray","possibleStartIndexes","removeFromArray","getZeroFilledArray","sort","start","push","solutionLog","width","height","rowHints","getRowCells","type","index","knownIndexes","columnHints","getColumnCells","row","column"],"mappings":"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","sourceRoot":"/","sourcesContent":["Object.defineProperty(exports, \"__esModule\", {value: !0});\nvar _puzzleLine = require(\"PuzzleLine\");\nvar _utility = require(\"Utility\");\nvar r = (function () {\n    function t(t) {\n        this.puzzle = t;\n        this._reset();\n    }\n    t.prototype.solve = function () {\n        var t;\n        var e;\n        var o;\n        var n;\n        var i = new Date().getTime();\n        var r = -1;\n        for (\n            this.isReset || this._reset(), this.isReset = !1;\n            this._getProgress() > r && this._getTotalSolved() < this.puzzle.cells.length;\n\n        ) {\n            for (new Date().getTime(), r = this._getProgress(), o = 0; o < this.lines.length; o++)\n                (n = this.lines[o]).solved || this.eliminateImpossibleFits(n),\n                    n.solved || this.findKnownPositivesAndNegatives(n),\n                    n.solved || this.findSectionDefiningChains(n),\n                    n.solved || this.findAnchoredSections(n),\n                    n.solved || this.findCompletedSections(n),\n                    n.solved || this.findCompletedLines(n);\n            new Date().getTime();\n        }\n        t = this._getTotalSolved() === this.puzzle.cells.length;\n        e = (new Date().getTime() - i) / 1e3;\n        this.elapsedTime = e;\n        return t;\n    };\n    t.prototype.eliminateImpossibleFits = function (t) {\n        var e;\n        var o;\n        var n;\n        var r;\n        var a;\n        var s;\n        var c;\n        var l;\n        var u;\n        var p;\n        var d = 0;\n        var h = t.length - t.minimumSectionLength;\n        if (0 === t.sections.length) for (u = 0; u < t.cells.length; u++) this._setCellSolution(t.cells[u], 0);\n        for (p = 0; p < t.length && 0 === t.cells[p].aiSolution; p++) d++;\n        for (p = t.length - 1; p >= 0 && 0 === t.cells[p].aiSolution; p--) h--;\n        for (a = 0; a < t.sections.length; a++) {\n            for (\n                o = t.sections[a], r = _utility.default.cloneArray(o.possibleStartIndexes), s = 0;\n                s < o.possibleStartIndexes.length;\n                s++\n            )\n                for (\n                    n = o.possibleStartIndexes[s],\n                        c = t.cells[n + o.length],\n                        (n < d || n > h) && (r = _utility.default.removeFromArray(r, n)),\n                        c && 1 === c.aiSolution && (r = _utility.default.removeFromArray(r, n)),\n                        l = (l = n + o.length - 1) > t.length - 1 ? t.length - 1 : l,\n                        e = n;\n                    e <= l;\n                    e++\n                )\n                    (e > t.length - 1 || 0 === t.cells[e].aiSolution) && (r = _utility.default.removeFromArray(r, n));\n            d += o.length + 1;\n            h += o.length + 1;\n            o.possibleStartIndexes = r;\n        }\n    };\n    t.prototype.findKnownPositivesAndNegatives = function (t) {\n        var e;\n        var o;\n        var n;\n        var r;\n        var a;\n        var s;\n        var c;\n        var l;\n        var u;\n        var p;\n        var d = _utility.default.getZeroFilledArray(t.length);\n        for (e = 0; e < t.sections.length; e++) {\n            for (\n                o = t.sections[e], n = _utility.default.getZeroFilledArray(t.length), r = 0;\n                r < o.possibleStartIndexes.length;\n                r++\n            )\n                for (s = (a = o.possibleStartIndexes[r]) + o.length - 1, c = a; c <= s; c++) n[c]++, d[c]++;\n            for (l = 0; l < n.length; l++)\n                (u = n[l]),\n                    (p = t.cells[l]) &&\n                        null === p.aiSolution &&\n                        u === o.possibleStartIndexes.length &&\n                        this._setCellSolution(p, 1);\n        }\n        for (l = 0; l < d.length; l++)\n            (u = d[l]), (p = t.cells[l]) && null === p.aiSolution && 0 === u && this._setCellSolution(p, 0);\n    };\n    t.prototype.findAnchoredSections = function (t) {\n        var e;\n        var o;\n        var n;\n        var i;\n        if (t.sections.length > 0) {\n            for (\n                n = t.sections[0], i = t.sections[t.sections.length - 1], o = null, e = 0;\n                e < t.cells.length && null !== t.cells[e].aiSolution;\n                e++\n            )\n                if (1 === t.cells[e].aiSolution) {\n                    o = [e, e + n.length - 1];\n                    break;\n                }\n            if (null !== o) {\n                for (e = o[0]; e <= o[1]; e++) t.cells[e] && this._setCellSolution(t.cells[e], 1);\n                t.cells[e] && this._setCellSolution(t.cells[e], 0);\n            }\n            for (o = null, e = t.cells.length - 1; e >= 0 && null !== t.cells[e].aiSolution; e--)\n                if (1 === t.cells[e].aiSolution) {\n                    o = [e - i.length + 1, e];\n                    break;\n                }\n            if (null !== o) {\n                for (e = o[0]; e <= o[1]; e++) t.cells[e] && this._setCellSolution(t.cells[e], 1);\n                t.cells[o[0] - 1] && this._setCellSolution(t.cells[o[0] - 1], 0);\n            }\n        }\n    };\n    t.prototype.findSectionDefiningChains = function (t) {\n        var e;\n        var o;\n        var n;\n        var r;\n        var a;\n        var s = [];\n        var c = 0;\n        for (\n            a = _utility.default.cloneArray(t.sections).sort(function (t, e) {\n                return t.length > e.length ? -1 : 1;\n            })[0],\n                e = 0;\n            e < t.cells.length;\n            e++\n        )\n            1 === (o = t.cells[e]).aiSolution && (1 !== c ? ((n = {start: e, length: 1}), s.push(n)) : n && n.length++),\n                (c = o.aiSolution);\n        for (r = 0; r < s.length; r++)\n            (n = s[r]).length === a.length &&\n                (t.cells[n.start - 1] && this._setCellSolution(t.cells[n.start - 1], 0),\n                t.cells[n.start + a.length] && this._setCellSolution(t.cells[n.start + a.length], 0),\n                (a.solved = !0));\n    };\n    t.prototype.findCompletedSections = function (t) {\n        var e;\n        var o;\n        var n;\n        var i;\n        for (e = 0; e < t.sections.length; e++)\n            (o = t.sections[e]).solved ||\n                1 !== o.possibleStartIndexes.length ||\n                ((n = o.possibleStartIndexes[0] - 1),\n                (i = o.possibleStartIndexes[0] + o.length),\n                t.cells[n] && null === t.cells[n].aiSolution && this._setCellSolution(t.cells[n], 0),\n                t.cells[i] && null === t.cells[i].aiSolution && this._setCellSolution(t.cells[i], 0),\n                (o.solved = !0));\n    };\n    t.prototype.findCompletedLines = function (t) {\n        var e;\n        var o;\n        var n;\n        var i = 0;\n        var r = 0;\n        for (e = 0; e < t.sections.length; e++) i += t.sections[e].length;\n        for (o = 0; o < t.cells.length; o++) r += 1 === (n = t.cells[o]).aiSolution ? 1 : 0;\n        if (i === r)\n            for (o = 0; o < t.cells.length; o++) null === (n = t.cells[o]).aiSolution && this._setCellSolution(n, 0);\n    };\n    t.prototype._reset = function () {\n        var t;\n        var e;\n        var o;\n        var i;\n        var r;\n        var a;\n        var s;\n        var c;\n        var l;\n        var u;\n        var p = [];\n        var d = [];\n        for (\n            this.isReset = !0, this.elapsedTime = 0, this.solutionLog = [], this.lines = [], e = 0;\n            e < this.puzzle.cells.length;\n            e++\n        )\n            this.puzzle.cells[e].aiSolution = null;\n        for (t = 0; t < this.puzzle.width; t++) p.push(t);\n        for (t = 0; t < this.puzzle.height; t++) d.push(t);\n        for (o = 0; o < this.puzzle.rowHints.length; o++)\n            if (((i = this.puzzle.rowHints[o]), (r = this.puzzle.getRowCells(o)))) {\n                for (\n                    a = new _puzzleLine.default({type: \"row\", index: o, length: this.puzzle.width, cells: r}), s = 0;\n                    s < i.length;\n                    s++\n                )\n                    (c = i[s]),\n                        a.sections.push({index: s, length: c, possibleStartIndexes: p, knownIndexes: [], solved: !1}),\n                        (a.minimumSectionLength += c + 1);\n                a.minimumSectionLength--;\n                this.lines.push(a);\n            }\n        for (l = 0; l < this.puzzle.columnHints.length; l++) {\n            for (\n                u = this.puzzle.columnHints[l],\n                    a = new _puzzleLine.default({\n                        type: \"column\",\n                        index: l,\n                        length: this.puzzle.height,\n                        cells: this.puzzle.getColumnCells(l)\n                    }),\n                    s = 0;\n                s < u.length;\n                s++\n            )\n                (c = u[s]),\n                    a.sections.push({index: s, length: c, possibleStartIndexes: d, knownIndexes: [], solved: !1}),\n                    (a.minimumSectionLength += c + 1);\n            a.minimumSectionLength--;\n            this.lines.push(a);\n        }\n    };\n    t.prototype._setCellSolution = function (t, e) {\n        var o;\n        var n;\n        var i;\n        var r;\n        var a;\n        var s;\n        var c;\n        if (null === t.aiSolution)\n            for (o = 0; o < this.lines.length; o++)\n                if (\n                    ((i = \"row\" === (n = this.lines[o]).type && n.index === t.row),\n                    (r = \"column\" === n.type && n.index === t.column),\n                    (a = 0),\n                    i || r)\n                ) {\n                    for (s = 0; s < n.cells.length; s++)\n                        (c = n.cells[s]).index === t.index ? ((c.aiSolution = e), a++) : null !== c.aiSolution && a++;\n                    a === n.length && (n.solved = !0);\n                }\n    };\n    t.prototype._getTotalSolved = function () {\n        var t;\n        var e = 0;\n        for (t = 0; t < this.puzzle.cells.length; t++) e += null !== this.puzzle.cells[t].aiSolution ? 1 : 0;\n        return e;\n    };\n    t.prototype._getProgress = function () {\n        var t;\n        var e;\n        var o;\n        var n = 0;\n        var i = 0;\n        for (t = 0; t < this.lines.length; t++)\n            for (\n                n += (e = this.lines[t]).sections.length * (\"row\" === e.type ? this.puzzle.width : this.puzzle.height),\n                    o = 0;\n                o < e.sections.length;\n                o++\n            )\n                i += e.sections[o].possibleStartIndexes.length;\n        return n - i;\n    };\n    return t;\n})();\nexports.default = r;\n"]}