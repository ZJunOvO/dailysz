{"version":3,"sources":["assets\\scripts\\jigMenu.js"],"names":["n","Object","defineProperty","exports","value","_evts","require","_res","_cfgMgr","_lang","_global","_jigsawMgr","_newJigMgr","_panelMgr","_tipMgr","g","cc","_decorator","y","ccclass","m","property","v","t","e","apply","arguments","icons","idxLbls","pieceLbs","unlockNode","lockNode","finishNode","unPlacedLb","theme_id","themeType","__extends","prototype","onLoad","opE","on","onOperTap","bind","action","UPDJIGSAWGAME","updateView","init","o","forEach","string","getFinAndAllNum","i","r","a","c","l","ins","isItemUnlock","initUnLock","initLocked","IsJigsawCompleted","getBundleByString","then","load","SpriteFrame","node","isValid","spriteFrame","console","error","assetManager","loadRemote","OssConfig","jigswawUrl","ext","headImgExt","checkUnPlacedNum","active","initComplete","initUnComplete","checkHasFin","getJigsawTilesByIdx","length","parent","onBtnClick","open","serverCfg","lock_rules","main_line_lock","puzzle_line_val","isPieceEnough","lang","format","showTip","__decorate","Sprite","Label","Node","Component"],"mappings":"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","sourceRoot":"/","sourcesContent":["var n;\nObject.defineProperty(exports, \"__esModule\", { value: !0 });\nvar _evts = require(\"evts\");\nvar _res = require(\"res\");\nvar _cfgMgr = require(\"cfgMgr\");\nvar _lang = require(\"lang\");\nvar _global = require(\"global\");\nvar _jigsawMgr = require(\"jigsawMgr\");\nvar _newJigMgr = require(\"newJigMgr\");\nvar _panelMgr = require(\"panelMgr\");\nvar _tipMgr = require(\"tipMgr\");\nvar g = cc._decorator;\nvar y = g.ccclass;\nvar m = g.property;\nvar v = (function(t) {\n    function e() {\n        var e = (null !== t && t.apply(this, arguments)) || this;\n        e.icons = [];\n        e.idxLbls = [];\n        e.pieceLbs = [];\n        e.unlockNode = null;\n        e.lockNode = null;\n        e.finishNode = null;\n        e.unPlacedLb = null;\n        e.theme_id = 0;\n        e.themeType = 1;\n        return e;\n    }\n    __extends(e, t);\n    e.prototype.onLoad = function() {\n        _evts.default.opE.on(this.onOperTap.bind(this));\n    };\n    e.prototype.onOperTap = function(t) {\n        var e = null == t ? void 0 : t.action;\n        if (e)\n            switch (e) {\n                case _evts.default.UPDJIGSAWGAME:\n                    this.updateView();\n            }\n    };\n    e.prototype.init = function(t, e) {\n        var o = this;\n        this.theme_id = t;\n        this.themeType = e;\n        this.idxLbls.forEach(function(e) {\n            e.string = t + 1 + \"\";\n        });\n        var n = this.getFinAndAllNum();\n        var i = n[0];\n        n[1];\n        this.pieceLbs.forEach(function(t) {\n            t.string = i + \"/105\";\n        });\n        var r;\n        var a = t + 1;\n        var c = \"pintu_\" + a + \"_1\";\n        var l = \"pintu_\" + a;\n        1 === e ?\n            (r = _jigsawMgr.default.ins) :\n            2 === e && ((r = _newJigMgr.default.ins), (c = \"fes_\" + a + \"_1\"), (l = \"fes_\" + a));\n        r.isItemUnlock(t) ? this.initUnLock() : this.initLocked();\n        this.IsJigsawCompleted(this.theme_id) && (c = l);\n        1 === e ?\n            a < 61 ?\n            _res.default.ins\n            .getBundleByString(\"jigsaw\")\n            .then(function(t) {\n                t.load(c, cc.SpriteFrame, function(t, e) {\n                    !t &&\n                        o.node &&\n                        o.node.isValid &&\n                        o.icons.forEach(function(t) {\n                            t.spriteFrame = e;\n                        });\n                });\n            })\n            .catch(function(t) {\n                console.error(\"RTool.ins.getBundleByString('jigsaw')\", t);\n            }) :\n            cc.assetManager.loadRemote(\n                _global.OssConfig.jigswawUrl + c + \".jpg\", { ext: _global.headImgExt },\n                function(t, e) {\n                    if (!t && o.node && o.node.isValid) {\n                        var n = new cc.SpriteFrame(e);\n                        o.icons.forEach(function(t) {\n                            t.spriteFrame = n;\n                        });\n                    }\n                }\n            ) :\n            _res.default.ins\n            .getBundleByString(\"jigsaw\")\n            .then(function(t) {\n                t.load(c, cc.SpriteFrame, function(t, e) {\n                    !t &&\n                        o.node &&\n                        o.node.isValid &&\n                        o.icons.forEach(function(t) {\n                            t.spriteFrame = e;\n                        });\n                });\n            })\n            .catch(function(t) {\n                console.error(\"RTool.ins.getBundleByString('jigsaw')\", t);\n            });\n        this.checkUnPlacedNum();\n    };\n    e.prototype.updateView = function() {\n        this.init(this.theme_id, this.themeType);\n    };\n    e.prototype.initLocked = function() {\n        this.lockNode.active = !0;\n        this.unlockNode.active = !1;\n        this.finishNode.active = !1;\n    };\n    e.prototype.initUnLock = function() {\n        this.lockNode.active = !1;\n        this.IsJigsawCompleted(this.theme_id) ? this.initComplete() : this.initUnComplete();\n    };\n    e.prototype.initComplete = function() {\n        this.unlockNode.active = !1;\n        this.finishNode.active = !0;\n    };\n    e.prototype.initUnComplete = function() {\n        this.unlockNode.active = !0;\n        this.finishNode.active = !1;\n    };\n    e.prototype.IsJigsawCompleted = function(t) {\n        var e;\n        1 === this.themeType ? (e = _jigsawMgr.default.ins) : 2 === this.themeType && (e = _newJigMgr.default.ins);\n        var o = e.checkHasFin(t);\n        if (o) return o;\n        var n = e.getJigsawTilesByIdx(t);\n        if (105 == n.length) {\n            for (var i = 0, r = n; i < r.length; i++) {\n                var a = r[i];\n                if (a[0] != a[1]) return !1;\n            }\n            return !0;\n        }\n        return !1;\n    };\n    e.prototype.getFinAndAllNum = function() {\n        var t;\n        1 === this.themeType ? (t = _jigsawMgr.default.ins) : 2 === this.themeType && (t = _newJigMgr.default.ins);\n        for (var e = t.getJigsawTilesByIdx(this.theme_id), o = e.length, n = 0, i = 0; i < o; i++) {\n            var r = e[i];\n            r[0] == r[1] && n++;\n        }\n        t.checkHasFin(this.theme_id) && (n = 105);\n        return [n, o];\n    };\n    e.prototype.checkUnPlacedNum = function() {\n        var t;\n        1 === this.themeType ? (t = _jigsawMgr.default.ins) : 2 === this.themeType && (t = _newJigMgr.default.ins);\n        for (var e = t.getJigsawTilesByIdx(this.theme_id), o = e.length, n = 0, i = 0; i < o; i++) {\n            var r = e[i];\n            r[1] != r[0] && n++;\n        }\n        t.checkHasFin(this.theme_id) && (n = 0);\n        var a = this.unPlacedLb;\n        n > 0 ? ((a.node.parent.active = !0), (a.string = n + \"\")) : (a.node.parent.active = !1);\n    };\n    e.prototype.onBtnClick = function() {\n        var t;\n        var e;\n        var o;\n        var n = this.themeType;\n        if (\n            (1 === n ? (o = _jigsawMgr.default.ins) : 2 === n && (o = _newJigMgr.default.ins),\n                o.isItemUnlock(this.theme_id))\n        )\n            _panelMgr.default.ins.open(\"ui/ui_jigsaw\", { theme_id: this.theme_id, themeType: this.themeType });\n        else {\n            var i = _cfgMgr.default.serverCfg;\n            var r =\n                (null ===\n                    (e =\n                        null === (t = null == i ? void 0 : i.lock_rules) || void 0 === t ? void 0 : t.main_line_lock) ||\n                    void 0 === e ?\n                    void 0 :\n                    e.puzzle_line_val) || 0;\n            var a = o.isPieceEnough(this.theme_id) ? _lang.lang[30001].format(r) : \"拼图未解锁\";\n            _tipMgr.default.ins.showTip(a);\n        }\n    };\n    __decorate([m([cc.Sprite])], e.prototype, \"icons\", void 0);\n    __decorate([m([cc.Label])], e.prototype, \"idxLbls\", void 0);\n    __decorate([m([cc.Label])], e.prototype, \"pieceLbs\", void 0);\n    __decorate([m(cc.Node)], e.prototype, \"unlockNode\", void 0);\n    __decorate([m(cc.Node)], e.prototype, \"lockNode\", void 0);\n    __decorate([m(cc.Node)], e.prototype, \"finishNode\", void 0);\n    __decorate([m(cc.Label)], e.prototype, \"unPlacedLb\", void 0);\n    return __decorate([y], e);\n})(cc.Component);\nexports.default = v;"]}