{"version":3,"sources":["assets\\scripts\\jigsawMgr.js"],"names":["Object","defineProperty","exports","value","_idx","require","_global","_pInfo","_bagMgr","s","t","jigsawTileTotal","localData","seed","saveStr","get","_ins","enumerable","configurable","prototype","getJigsawTilesByIdx","e","getJigsawTiles","o","ins","getItemCount","n","i","getTicketPoolByIdx","length","r","c","l","Math","min","u","p","push","setJigsawTilesByIdx","shuffleArray","indexOf","concat","a","getNewSaveTiles","setNewSaveTiles","setJigTiles","isItemUnlock","isJigsawLocked","isPieceEnough","getNowJigsawLv","IsJigsawCompletedByIdx","getAllTiles","jisawCount","getUnPlacedNum","checkHasFin","seedRandom","floor","getJigTiles","d","h","f","g","y","getOldSaveTiles","m","v","_","b","w","setOldSaveTiles","getLocalJigData","jigTils","setLocalJigData","tiles","assign","platform","setStorage","getStorage","checkClearData","getIsClearJigsawData","setIsClearJigsawData","clearJigsawData","checkSetFin","setFinfishJigsaw","getHasFinJig","setHasFinJig","clearFinJig","resetJigByIdx"],"mappings":";;;;;;AAAAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;EAACC,KAAK,EAAE,CAAC;AAAT,CAA7C;;AACA,IAAIC,IAAI,GAAGC,OAAO,CAAC,KAAD,CAAlB;;AACA,IAAIC,OAAO,GAAGD,OAAO,CAAC,QAAD,CAArB;;AACA,IAAIE,MAAM,GAAGF,OAAO,CAAC,OAAD,CAApB;;AACA,IAAIG,OAAO,GAAGH,OAAO,CAAC,QAAD,CAArB;;AACA,IAAII,CAAC,GAAI,YAAY;EACjB,SAASC,CAAT,GAAa;IACT,KAAKC,eAAL,GAAuB,GAAvB;IACA,KAAKC,SAAL,GAAiB,IAAjB;IACA,KAAKC,IAAL,GAAY,CAAZ;IACA,KAAKC,OAAL,GACI,4GADJ;EAEH;;EACDd,MAAM,CAACC,cAAP,CAAsBS,CAAtB,EAAyB,KAAzB,EAAgC;IAC5BK,GAAG,EAAE,eAAY;MACb,OAAO,KAAKC,IAAL,KAAc,KAAKA,IAAL,GAAY,IAAIN,CAAJ,EAA1B,CAAP;IACH,CAH2B;IAI5BO,UAAU,EAAE,CAAC,CAJe;IAK5BC,YAAY,EAAE,CAAC;EALa,CAAhC;;EAOAR,CAAC,CAACS,SAAF,CAAYC,mBAAZ,GAAkC,UAAUV,CAAV,EAAa;IAC3C,IAAIW,CAAC,GAAG,KAAKC,cAAL,GAAsBZ,CAAtB,KAA4B,EAApC;;IACA,IAAIa,CAAC,GAAGf,OAAO,WAAP,CAAgBgB,GAAhB,CAAoBC,YAApB,CAAiC,eAAjC,CAAR;;IACA,IAAIC,CAAC,GAAGhB,CAAC,GAAG,CAAZ;IACA,IAAIiB,CAAC,GAAG,KAAKC,kBAAL,CAAwBlB,CAAxB,CAAR;;IACA,IAAIW,CAAC,CAACQ,MAAF,GAAW,KAAKlB,eAApB,EAAqC;MACjC,IAAImB,CAAC,GAAGT,CAAC,CAACQ,MAAV;MACA,IAAIpB,CAAC,GAAG,KAAKE,eAAL,GAAuBU,CAAC,CAACQ,MAAjC;MACA,IAAIE,CAAC,GAAGR,CAAC,IAAI,CAACG,CAAC,GAAG,CAAL,IAAU,KAAKf,eAAf,GAAiCmB,CAArC,CAAT;MACA,IAAIC,CAAC,GAAG,CAAR,EACI,KAAK,IAAIC,CAAC,GAAGC,IAAI,CAACC,GAAL,CAASzB,CAAT,EAAYsB,CAAZ,CAAR,EAAwBI,CAAC,GAAG,CAAjC,EAAoCA,CAAC,GAAGH,CAAxC,EAA2CG,CAAC,EAA5C,EAAgD;QAC5C,IAAIC,CAAC,GAAGT,CAAC,CAACG,CAAC,GAAGK,CAAL,CAAT;QACAd,CAAC,CAACgB,IAAF,CAAO,CAACD,CAAD,EAAI,CAAC,CAAL,CAAP;MACH;IACR;;IACD,KAAKE,mBAAL,CAAyB5B,CAAzB,EAA4BW,CAA5B,EAA+B,CAAC,CAAhC;IACA,OAAOA,CAAP;EACH,CAjBD;;EAkBAX,CAAC,CAACS,SAAF,CAAYS,kBAAZ,GAAiC,UAAUlB,CAAV,EAAa;IAC1C,IAAIW,CAAC,GAAGX,CAAC,GAAG,CAAZ;IACA,KAAKG,IAAL,GAAY,KAAKQ,CAAjB;IACA,IAAIE,CAAC,GAAG,CACJ,CADI,EACD,CADC,EACE,CADF,EACK,CADL,EACQ,CADR,EACW,CADX,EACc,CADd,EACiB,CADjB,EACoB,CADpB,EACuB,CADvB,EAC0B,EAD1B,EAC8B,EAD9B,EACkC,EADlC,EACsC,EADtC,EAC0C,EAD1C,EAC8C,EAD9C,EACkD,EADlD,EACsD,EADtD,EAC0D,EAD1D,EAC8D,EAD9D,EACkE,EADlE,EACsE,GADtE,EAC2E,EAD3E,EAC+E,GAD/E,EACoF,EADpF,EACwF,GADxF,EAC6F,EAD7F,EACiG,GADjG,EAEJ,EAFI,EAEA,GAFA,EAEK,EAFL,EAES,EAFT,EAEa,EAFb,EAEiB,EAFjB,EAEqB,EAFrB,EAEyB,EAFzB,EAE6B,EAF7B,EAEiC,EAFjC,CAAR;IAIA,KAAKgB,YAAL,CAAkBhB,CAAlB;IACAA,CAAC,CAACM,MAAF,GAAW,EAAX;;IACA,KAAK,IAAIH,CAAC,GAAG,EAAR,EAAYC,CAAC,GAAG,CAArB,EAAwBA,CAAC,GAAG,GAA5B,EAAiCA,CAAC,EAAlC;MAAsC,CAAC,CAAD,IAAMJ,CAAC,CAACiB,OAAF,CAAUb,CAAV,CAAN,IAAsBD,CAAC,CAACW,IAAF,CAAOV,CAAP,CAAtB;IAAtC;;IACA,KAAKY,YAAL,CAAkBb,CAAlB;IACA,OAAOH,CAAC,CAACkB,MAAF,CAASf,CAAT,CAAP;EACH,CAZD;;EAaAhB,CAAC,CAACS,SAAF,CAAYmB,mBAAZ,GAAkC,UAAU5B,CAAV,EAAaW,CAAb,EAAgBE,CAAhB,EAAmB;IACjD,KAAK,CAAL,KAAWA,CAAX,KAAiBA,CAAC,GAAG,CAAC,CAAtB;;IACA,KAAK,IAAIG,CAAC,GAAG,KAAKZ,OAAb,EAAsBa,CAAC,GAAG,EAA1B,EAA8Be,CAAC,GAAG,CAAlC,EAAqCjC,CAAC,GAAGY,CAAC,CAACQ,MAAhD,EAAwDa,CAAC,GAAGjC,CAA5D,EAA+DiC,CAAC,EAAhE,EAAoE;MAChE,IAAIX,CAAC,GAAGV,CAAC,CAACqB,CAAD,CAAD,CAAK,CAAL,CAAR;MACA,IAAIV,CAAC,GAAG,GAAR;MACA,CAAC,CAAD,IAAMD,CAAN,KAAYC,CAAC,GAAGN,CAAC,CAACK,CAAD,CAAjB;MACAJ,CAAC,IAAIK,CAAL;IACH;;IACD,IAAIG,CAAC,GAAG,KAAKQ,eAAL,EAAR;;IACA,IAAMR,CAAC,CAACzB,CAAD,CAAD,GAAOiB,CAAR,EAAY,KAAKiB,eAAL,CAAqBT,CAArB,CAAZ,EAAqCZ,CAA1C,EAA8C;MAC1C,IAAIa,CAAC,GAAG,CAAC1B,CAAD,EAAIiB,CAAJ,CAAR;;MACApB,MAAM,WAAN,CAAeiB,GAAf,CAAmBqB,WAAnB,CAA+BT,CAA/B;IACH;EACJ,CAbD;;EAcA1B,CAAC,CAACS,SAAF,CAAY2B,YAAZ,GAA2B,UAAUpC,CAAV,EAAa;IACpC,IAAIW,CAAC,GAAGX,CAAC,GAAG,KAAKC,eAAjB;;IACA,IAAIY,CAAC,GAAGf,OAAO,WAAP,CAAgBgB,GAAhB,CAAoBC,YAApB,CAAiC,eAAjC,CAAR;;IACA,IAAIC,CAAC,GAAGnB,MAAM,WAAN,CAAeiB,GAAf,CAAmBuB,cAAnB,EAAR;;IACA,OAAO,CAAC,KAAKrC,CAAL,IAAU,CAACgB,CAAZ,KAAkBH,CAAC,GAAGF,CAA7B;EACH,CALD;;EAMAX,CAAC,CAACS,SAAF,CAAY6B,aAAZ,GAA4B,UAAUtC,CAAV,EAAa;IACrC,IAAIW,CAAC,GAAGX,CAAC,GAAG,KAAKC,eAAjB;IACA,OAAOH,OAAO,WAAP,CAAgBgB,GAAhB,CAAoBC,YAApB,CAAiC,eAAjC,IAAoDJ,CAA3D;EACH,CAHD;;EAIAX,CAAC,CAACS,SAAF,CAAY8B,cAAZ,GAA6B,YAAY;IACrC,KAAK,IAAIvC,CAAC,GAAG,CAAR,EAAWW,CAAC,GAAG,KAAKC,cAAL,GAAsBO,MAA1C,EAAkDnB,CAAC,GAAGW,CAAtD,EAAyDX,CAAC,EAA1D;MAA8D,IAAI,CAAC,KAAKwC,sBAAL,CAA4BxC,CAA5B,CAAL,EAAqC,OAAOA,CAAC,GAAG,CAAX;IAAnG;EACH,CAFD;;EAGAA,CAAC,CAACS,SAAF,CAAY+B,sBAAZ,GAAqC,UAAUxC,CAAV,EAAa;IAC9C,IAAIW,CAAC,GAAG,KAAKC,cAAL,GAAsBZ,CAAtB,CAAR;;IACA,IAAI,OAAOW,CAAC,CAACQ,MAAb,EAAqB;MACjB,KAAK,IAAIN,CAAC,GAAG,CAAR,EAAWG,CAAC,GAAGL,CAApB,EAAuBE,CAAC,GAAGG,CAAC,CAACG,MAA7B,EAAqCN,CAAC,EAAtC,EAA0C;QACtC,IAAII,CAAC,GAAGD,CAAC,CAACH,CAAD,CAAT;QACA,IAAII,CAAC,CAAC,CAAD,CAAD,IAAQA,CAAC,CAAC,CAAD,CAAb,EAAkB,OAAO,CAAC,CAAR;MACrB;;MACD,OAAO,CAAC,CAAR;IACH;;IACD,OAAO,CAAC,CAAR;EACH,CAVD;;EAWAjB,CAAC,CAACS,SAAF,CAAYgC,WAAZ,GAA0B,YAAY;IAClC,KAAK,IAAIzC,CAAC,GAAG,CAAR,EAAWW,CAAC,GAAGf,OAAO,WAAP,CAAgB8C,UAApC,EAAgD1C,CAAC,GAAGW,CAApD,EAAuDX,CAAC,EAAxD;MAA4D,KAAKU,mBAAL,CAAyBV,CAAzB;IAA5D;EACH,CAFD;;EAGAA,CAAC,CAACS,SAAF,CAAYkC,cAAZ,GAA6B,YAAY;IACrC,KAAKF,WAAL;;IACA,KAAK,IAAIzC,CAAC,GAAG,KAAKY,cAAL,EAAR,EAA+BD,CAAC,GAAG,CAAnC,EAAsCE,CAAC,GAAG,CAA1C,EAA6CG,CAAC,GAAGhB,CAAC,CAACmB,MAAxD,EAAgEN,CAAC,GAAGG,CAApE,EAAuEH,CAAC,EAAxE,EAA4E;MACxE,IAAII,CAAC,GAAGjB,CAAC,CAACa,CAAD,CAAT;MACA,IAAI,CAAC,KAAK+B,WAAL,CAAiB/B,CAAjB,CAAL,EACI,KAAK,IAAIO,CAAC,GAAG,CAAR,EAAWY,CAAC,GAAGf,CAAC,CAACE,MAAtB,EAA8BC,CAAC,GAAGY,CAAlC,EAAqCZ,CAAC,EAAtC,EAA0C;QACtC,IAAIrB,CAAC,GAAGkB,CAAC,CAACG,CAAD,CAAT;QACArB,CAAC,CAAC,CAAD,CAAD,IAAQA,CAAC,CAAC,CAAD,CAAT,IAAgBY,CAAC,EAAjB;MACH;IACR;;IACD,OAAOA,CAAP;EACH,CAXD;;EAYAX,CAAC,CAACS,SAAF,CAAYoC,UAAZ,GAAyB,YAAY;IACjC,KAAK1C,IAAL,GAAY,CAAC,OAAO,KAAKA,IAAZ,GAAmB,KAApB,IAA6B,MAAzC;IACA,OAAO,KAAKA,IAAL,GAAY,MAAnB;EACH,CAHD;;EAIAH,CAAC,CAACS,SAAF,CAAYoB,YAAZ,GAA2B,UAAU7B,CAAV,EAAa;IACpC,KAAK,IAAIW,CAAJ,EAAOE,CAAC,GAAGb,CAAC,CAACmB,MAAF,GAAW,CAA3B,EAA8BN,CAAC,GAAG,CAAlC,EAAqCA,CAAC,EAAtC,EAA0C;MACtC,IAAIG,CAAC,GAAGO,IAAI,CAACuB,KAAL,CAAW,KAAKD,UAAL,MAAqBhC,CAAC,GAAG,CAAzB,CAAX,CAAR;MACAF,CAAC,GAAG,CAACX,CAAC,CAACgB,CAAD,CAAF,EAAOhB,CAAC,CAACa,CAAD,CAAR,CAAJ;MACAb,CAAC,CAACa,CAAD,CAAD,GAAOF,CAAC,CAAC,CAAD,CAAR;MACAX,CAAC,CAACgB,CAAD,CAAD,GAAOL,CAAC,CAAC,CAAD,CAAR;IACH;EACJ,CAPD;;EAQAX,CAAC,CAACS,SAAF,CAAYG,cAAZ,GAA6B,YAAY;IACrC,IAAIZ,CAAC,GAAG,KAAKI,OAAb;;IACA,IAAIO,CAAC,GAAGd,MAAM,WAAN,CAAeiB,GAAf,CAAmBiC,WAAnB,EAAR;;IACA,IAAIlC,CAAC,GAAG,KAAKoB,eAAL,EAAR;IACA,IAAIjB,CAAC,GAAG,EAAR;IACA,IAAIC,CAAC,GAAGJ,CAAC,CAACM,MAAV;;IACA,IAAIF,CAAJ,EAAO;MACH,CAAC,CAAD,IAAMN,CAAC,CAAC,CAAD,CAAP,KAAeE,CAAC,CAACF,CAAC,CAAC,CAAD,CAAF,CAAD,GAAUA,CAAC,CAAC,CAAD,CAA1B;;MACA,KAAK,IAAIqB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGf,CAApB,EAAuBe,CAAC,EAAxB,EAA4B;QACxB,IAAIjC,CAAC,GAAGc,CAAC,CAACmB,CAAD,CAAT;;QACA,IAAIjC,CAAJ,EAAO;UACH,KAAK,IAAIsB,CAAC,GAAG,KAAKH,kBAAL,CAAwBc,CAAxB,CAAR,EAAoCV,CAAC,GAAG,EAAxC,EAA4CG,CAAC,GAAG,CAAhD,EAAmDC,CAAC,GAAG3B,CAAC,CAACoB,MAA9D,EAAsEM,CAAC,GAAGC,CAA1E,EAA6ED,CAAC,EAA9E,EAAkF;YAC9E,IAAIuB,CAAC,GAAG3B,CAAC,CAACI,CAAD,CAAT;YACA,IAAIwB,CAAC,GAAGlD,CAAC,CAAC0B,CAAD,CAAT;YACA,IAAIyB,CAAC,GAAG,CAACF,CAAD,EAAIhD,CAAC,CAAC8B,OAAF,CAAUmB,CAAV,CAAJ,CAAR;YACA3B,CAAC,CAACK,IAAF,CAAOuB,CAAP;UACH;;UACDlC,CAAC,CAACW,IAAF,CAAOL,CAAP;QACH;MACJ;IACJ,CAdD,MAeI,KAAK,IAAI6B,CAAC,GAAG,EAAR,EAAYC,CAAC,IAAKpB,CAAC,GAAG,CAAL,EAAS,CAAChB,CAAC,GAAG,KAAKqC,eAAL,EAAL,EAA6BlC,MAA1C,CAAlB,EAAqEa,CAAC,GAAGoB,CAAzE,EAA4EpB,CAAC,EAA7E,EAAiF;MAC7E,KAAK,IAAIsB,CAAC,GAAGtC,CAAC,CAACgB,CAAD,CAAT,EAAcuB,CAAC,GAAG,EAAlB,EAAsBC,CAAC,IAAK/B,CAAC,GAAG,CAAL,EAAS6B,CAAC,CAACnC,MAAf,CAA5B,EAAoDM,CAAC,GAAG+B,CAAxD,EAA2D/B,CAAC,EAA5D,EAAgE;QAC5D,IAAIgC,CAAC,GAAGH,CAAC,CAAC7B,CAAD,CAAD,CAAK,CAAL,CAAR;QACA,IAAIiC,CAAC,GAAG,GAAR;QACA,CAAC,CAAD,IAAMD,CAAN,KAAYC,CAAC,GAAG1D,CAAC,CAACyD,CAAD,CAAjB;QACAF,CAAC,IAAIG,CAAL;MACH;;MACDP,CAAC,CAACxB,IAAF,CAAO4B,CAAP;MACA,KAAKrB,eAAL,CAAqBiB,CAArB;MACA,KAAKQ,eAAL,CAAqB,EAArB;IACH;;IACL,OAAO3C,CAAP;EACH,CAjCD;;EAkCAhB,CAAC,CAACS,SAAF,CAAYwB,eAAZ,GAA8B,YAAY;IACtC,IAAIjC,CAAC,GAAG,KAAK4D,eAAL,GAAuBC,OAA/B;IACA,OAAO,QAAQ7D,CAAR,GAAY,EAAZ,GAAiBA,CAAxB;EACH,CAHD;;EAIAA,CAAC,CAACS,SAAF,CAAYyB,eAAZ,GAA8B,UAAUlC,CAAV,EAAa;IACvC,KAAK8D,eAAL,CAAqB;MAACD,OAAO,EAAE7D;IAAV,CAArB;EACH,CAFD;;EAGAA,CAAC,CAACS,SAAF,CAAY4C,eAAZ,GAA8B,YAAY;IACtC,IAAIrD,CAAC,GAAG,KAAK4D,eAAL,GAAuBG,KAA/B;IACA,OAAO,QAAQ/D,CAAR,GAAY,EAAZ,GAAiBA,CAAxB;EACH,CAHD;;EAIAA,CAAC,CAACS,SAAF,CAAYkD,eAAZ,GAA8B,UAAU3D,CAAV,EAAa;IACvC,KAAK8D,eAAL,CAAqB;MAACC,KAAK,EAAE/D;IAAR,CAArB;EACH,CAFD;;EAGAA,CAAC,CAACS,SAAF,CAAYqD,eAAZ,GAA8B,UAAU9D,CAAV,EAAa;IACvC,IAAIW,CAAC,GAAG,KAAKiD,eAAL,EAAR;IACA,KAAK1D,SAAL,GAAiBZ,MAAM,CAAC0E,MAAP,CAAc1E,MAAM,CAAC0E,MAAP,CAAc,EAAd,EAAkBrD,CAAlB,CAAd,EAAoCX,CAApC,CAAjB;;IACAN,IAAI,CAACuE,QAAL,CAAcC,UAAd,CAAyB,YAAzB,EAAuC,KAAKhE,SAA5C;EACH,CAJD;;EAKAF,CAAC,CAACS,SAAF,CAAYmD,eAAZ,GAA8B,YAAY;IACtC,QAAQ,KAAK1D,SAAb,KAA2B,KAAKA,SAAL,GAAiBR,IAAI,CAACuE,QAAL,CAAcE,UAAd,CAAyB,YAAzB,KAA0C,EAAtF;IACA,OAAO,KAAKjE,SAAZ;EACH,CAHD;;EAIAF,CAAC,CAACS,SAAF,CAAY2D,cAAZ,GAA6B,YAAY;IACrCvE,MAAM,WAAN,CAAeiB,GAAf,CAAmBuD,oBAAnB,OACKxE,MAAM,WAAN,CAAeiB,GAAf,CAAmBwD,oBAAnB,CAAwC,CAAC,CAAzC,GAA6C,KAAKC,eAAL,EADlD;EAEH,CAHD;;EAIAvE,CAAC,CAACS,SAAF,CAAY8D,eAAZ,GAA8B,YAAY;IACtC,KAAKrE,SAAL,GAAiB,EAAjB;;IACAR,IAAI,CAACuE,QAAL,CAAcC,UAAd,CAAyB,YAAzB,EAAuC,KAAKhE,SAA5C;EACH,CAHD;;EAIAF,CAAC,CAACS,SAAF,CAAY+D,WAAZ,GAA0B,UAAUxE,CAAV,EAAa;IACnC,KAAK4C,WAAL,CAAiB5C,CAAjB,KAAuB,KAAKyE,gBAAL,CAAsBzE,CAAtB,CAAvB;EACH,CAFD;;EAGAA,CAAC,CAACS,SAAF,CAAYmC,WAAZ,GAA0B,UAAU5C,CAAV,EAAa;IACnC,OAAOH,MAAM,WAAN,CAAeiB,GAAf,CAAmB4D,YAAnB,GAAkC1E,CAAlC,KAAwC,CAAC,CAAhD;EACH,CAFD;;EAGAA,CAAC,CAACS,SAAF,CAAYgE,gBAAZ,GAA+B,UAAUzE,CAAV,EAAa;IACxC,IAAIW,CAAC,GAAGd,MAAM,WAAN,CAAeiB,GAAf,CAAmB4D,YAAnB,EAAR;;IACA/D,CAAC,CAACX,CAAD,CAAD,GAAO,CAAC,CAAR;;IACAH,MAAM,WAAN,CAAeiB,GAAf,CAAmB6D,YAAnB,CAAgChE,CAAhC;EACH,CAJD;;EAKAX,CAAC,CAACS,SAAF,CAAYmE,WAAZ,GAA0B,UAAU5E,CAAV,EAAa;IACnC,IAAIW,CAAC,GAAGd,MAAM,WAAN,CAAeiB,GAAf,CAAmB4D,YAAnB,EAAR;;IACA/D,CAAC,CAACX,CAAD,CAAD,GAAO,CAAC,CAAR;;IACAH,MAAM,WAAN,CAAeiB,GAAf,CAAmB6D,YAAnB,CAAgChE,CAAhC;EACH,CAJD;;EAKAX,CAAC,CAACS,SAAF,CAAYoE,aAAZ,GAA4B,UAAU7E,CAAV,EAAa;IACrC,KAAK,IAAIW,CAAC,GAAG,KAAKD,mBAAL,CAAyBV,CAAzB,CAAR,EAAqCa,CAAC,GAAG,EAAzC,EAA6CG,CAAC,GAAG,CAAjD,EAAoDC,CAAC,GAAGN,CAAC,CAACQ,MAA/D,EAAuEH,CAAC,GAAGC,CAA3E,EAA8ED,CAAC,EAA/E,EAAmF;MAC/E,IAAII,CAAC,GAAGT,CAAC,CAACK,CAAD,CAAT;MACAI,CAAC,CAAC,CAAD,CAAD,GAAO,CAAC,CAAR;MACAP,CAAC,CAACc,IAAF,CAAOP,CAAP;IACH;;IACD,KAAKQ,mBAAL,CAAyB5B,CAAzB,EAA4Ba,CAA5B,EAA+B,CAAC,CAAhC;IACA,KAAK+D,WAAL,CAAiB5E,CAAjB;EACH,CARD;;EASA,OAAOA,CAAP;AACH,CA1MO,EAAR;;AA2MAR,OAAO,WAAP,GAAkBO,CAAlB","sourceRoot":"/","sourcesContent":["Object.defineProperty(exports, \"__esModule\", {value: !0});\nvar _idx = require(\"idx\");\nvar _global = require(\"global\");\nvar _pInfo = require(\"pInfo\");\nvar _bagMgr = require(\"bagMgr\");\nvar s = (function () {\n    function t() {\n        this.jigsawTileTotal = 105;\n        this.localData = null;\n        this.seed = 5;\n        this.saveStr =\n            \"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz!@#$%^&*()_+?><{}|[]. 亿'\\\"一二三四五六七八九十东西南北中百千万\";\n    }\n    Object.defineProperty(t, \"ins\", {\n        get: function () {\n            return this._ins || (this._ins = new t());\n        },\n        enumerable: !1,\n        configurable: !0\n    });\n    t.prototype.getJigsawTilesByIdx = function (t) {\n        var e = this.getJigsawTiles()[t] || [];\n        var o = _bagMgr.default.ins.getItemCount(\"puzzle_pieces\");\n        var n = t + 1;\n        var i = this.getTicketPoolByIdx(t);\n        if (e.length < this.jigsawTileTotal) {\n            var r = e.length;\n            var s = this.jigsawTileTotal - e.length;\n            var c = o - ((n - 1) * this.jigsawTileTotal + r);\n            if (c > 0)\n                for (var l = Math.min(s, c), u = 0; u < l; u++) {\n                    var p = i[r + u];\n                    e.push([p, -1]);\n                }\n        }\n        this.setJigsawTilesByIdx(t, e, !1);\n        return e;\n    };\n    t.prototype.getTicketPoolByIdx = function (t) {\n        var e = t + 1;\n        this.seed = 22 + e;\n        var o = [\n            0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 22, 33, 44, 55, 66, 77, 88, 99, 89, 100, 91, 101, 93, 102, 95, 103,\n            97, 104, 98, 87, 76, 65, 54, 43, 32, 21\n        ];\n        this.shuffleArray(o);\n        o.length = 10;\n        for (var n = [], i = 0; i < 105; i++) -1 == o.indexOf(i) && n.push(i);\n        this.shuffleArray(n);\n        return o.concat(n);\n    };\n    t.prototype.setJigsawTilesByIdx = function (t, e, o) {\n        void 0 === o && (o = !0);\n        for (var n = this.saveStr, i = \"\", a = 0, s = e.length; a < s; a++) {\n            var c = e[a][1];\n            var l = \"-\";\n            -1 != c && (l = n[c]);\n            i += l;\n        }\n        var u = this.getNewSaveTiles();\n        if (((u[t] = i), this.setNewSaveTiles(u), o)) {\n            var p = [t, i];\n            _pInfo.default.ins.setJigTiles(p);\n        }\n    };\n    t.prototype.isItemUnlock = function (t) {\n        var e = t * this.jigsawTileTotal;\n        var o = _bagMgr.default.ins.getItemCount(\"puzzle_pieces\");\n        var n = _pInfo.default.ins.isJigsawLocked();\n        return (0 == t || !n) && o > e;\n    };\n    t.prototype.isPieceEnough = function (t) {\n        var e = t * this.jigsawTileTotal;\n        return _bagMgr.default.ins.getItemCount(\"puzzle_pieces\") > e;\n    };\n    t.prototype.getNowJigsawLv = function () {\n        for (var t = 0, e = this.getJigsawTiles().length; t < e; t++) if (!this.IsJigsawCompletedByIdx(t)) return t + 1;\n    };\n    t.prototype.IsJigsawCompletedByIdx = function (t) {\n        var e = this.getJigsawTiles()[t];\n        if (105 == e.length) {\n            for (var o = 0, n = e; o < n.length; o++) {\n                var i = n[o];\n                if (i[0] != i[1]) return !1;\n            }\n            return !0;\n        }\n        return !1;\n    };\n    t.prototype.getAllTiles = function () {\n        for (var t = 0, e = _global.default.jisawCount; t < e; t++) this.getJigsawTilesByIdx(t);\n    };\n    t.prototype.getUnPlacedNum = function () {\n        this.getAllTiles();\n        for (var t = this.getJigsawTiles(), e = 0, o = 0, n = t.length; o < n; o++) {\n            var i = t[o];\n            if (!this.checkHasFin(o))\n                for (var r = 0, a = i.length; r < a; r++) {\n                    var s = i[r];\n                    s[1] != s[0] && e++;\n                }\n        }\n        return e;\n    };\n    t.prototype.seedRandom = function () {\n        this.seed = (9301 * this.seed + 49297) % 233280;\n        return this.seed / 233280;\n    };\n    t.prototype.shuffleArray = function (t) {\n        for (var e, o = t.length - 1; o > 0; o--) {\n            var n = Math.floor(this.seedRandom() * (o + 1));\n            e = [t[n], t[o]];\n            t[o] = e[0];\n            t[n] = e[1];\n        }\n    };\n    t.prototype.getJigsawTiles = function () {\n        var t = this.saveStr;\n        var e = _pInfo.default.ins.getJigTiles();\n        var o = this.getNewSaveTiles();\n        var n = [];\n        var i = o.length;\n        if (i) {\n            -1 != e[0] && (o[e[0]] = e[1]);\n            for (var a = 0; a < i; a++) {\n                var s = o[a];\n                if (s) {\n                    for (var c = this.getTicketPoolByIdx(a), l = [], u = 0, p = s.length; u < p; u++) {\n                        var d = c[u];\n                        var h = s[u];\n                        var f = [d, t.indexOf(h)];\n                        l.push(f);\n                    }\n                    n.push(l);\n                }\n            }\n        } else\n            for (var g = [], y = ((a = 0), (n = this.getOldSaveTiles()).length); a < y; a++) {\n                for (var m = n[a], v = \"\", _ = ((u = 0), m.length); u < _; u++) {\n                    var b = m[u][1];\n                    var w = \"-\";\n                    -1 != b && (w = t[b]);\n                    v += w;\n                }\n                g.push(v);\n                this.setNewSaveTiles(g);\n                this.setOldSaveTiles([]);\n            }\n        return n;\n    };\n    t.prototype.getNewSaveTiles = function () {\n        var t = this.getLocalJigData().jigTils;\n        return null == t ? [] : t;\n    };\n    t.prototype.setNewSaveTiles = function (t) {\n        this.setLocalJigData({jigTils: t});\n    };\n    t.prototype.getOldSaveTiles = function () {\n        var t = this.getLocalJigData().tiles;\n        return null == t ? [] : t;\n    };\n    t.prototype.setOldSaveTiles = function (t) {\n        this.setLocalJigData({tiles: t});\n    };\n    t.prototype.setLocalJigData = function (t) {\n        var e = this.getLocalJigData();\n        this.localData = Object.assign(Object.assign({}, e), t);\n        _idx.platform.setStorage(\"jigsawData\", this.localData);\n    };\n    t.prototype.getLocalJigData = function () {\n        null == this.localData && (this.localData = _idx.platform.getStorage(\"jigsawData\") || {});\n        return this.localData;\n    };\n    t.prototype.checkClearData = function () {\n        _pInfo.default.ins.getIsClearJigsawData() &&\n            (_pInfo.default.ins.setIsClearJigsawData(!1), this.clearJigsawData());\n    };\n    t.prototype.clearJigsawData = function () {\n        this.localData = {};\n        _idx.platform.setStorage(\"jigsawData\", this.localData);\n    };\n    t.prototype.checkSetFin = function (t) {\n        this.checkHasFin(t) || this.setFinfishJigsaw(t);\n    };\n    t.prototype.checkHasFin = function (t) {\n        return _pInfo.default.ins.getHasFinJig()[t] || !1;\n    };\n    t.prototype.setFinfishJigsaw = function (t) {\n        var e = _pInfo.default.ins.getHasFinJig();\n        e[t] = !0;\n        _pInfo.default.ins.setHasFinJig(e);\n    };\n    t.prototype.clearFinJig = function (t) {\n        var e = _pInfo.default.ins.getHasFinJig();\n        e[t] = !1;\n        _pInfo.default.ins.setHasFinJig(e);\n    };\n    t.prototype.resetJigByIdx = function (t) {\n        for (var e = this.getJigsawTilesByIdx(t), o = [], n = 0, i = e.length; n < i; n++) {\n            var r = e[n];\n            r[1] = -1;\n            o.push(r);\n        }\n        this.setJigsawTilesByIdx(t, o, !1);\n        this.clearFinJig(t);\n    };\n    return t;\n})();\nexports.default = s;\n"]}