{"version":3,"sources":["assets\\scripts\\loadingAni.js"],"names":["n","Object","defineProperty","exports","value","a","s","cc","_decorator","c","ccclass","l","property","t","to","back","u","e","apply","arguments","bg","ani","__extends","prototype","onLoad","on","Animation","EventType","FINISHED","playEnd","o","name","director","loadScene","newRoot","playBack","cb","node","game","removePersistRootNode","destroy","playTo","setContentSize","play","__decorate","Node","Component"],"mappings":";;;;;;AAAA,IAAIA,CAAJ;AACAC,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;EAACC,KAAK,EAAE,CAAC;AAAT,CAA7C;AACA,IAAIC,CAAJ;AACA,IAAIC,CAAC,GAAGC,EAAE,CAACC,UAAX;AACA,IAAIC,CAAC,GAAGH,CAAC,CAACI,OAAV;AACA,IAAIC,CAAC,GAAGL,CAAC,CAACM,QAAV;;AACA,CAAC,UAAUC,CAAV,EAAa;EACVA,CAAC,CAACC,EAAF,GAAO,WAAP;EACAD,CAAC,CAACE,IAAF,GAAS,aAAT;AACH,CAHD,EAGGV,CAAC,KAAKA,CAAC,GAAG,EAAT,CAHJ;;AAIA,IAAIW,CAAC,GAAI,UAAUH,CAAV,EAAa;EAClB,SAASI,CAAT,GAAa;IACT,IAAIA,CAAC,GAAI,SAASJ,CAAT,IAAcA,CAAC,CAACK,KAAF,CAAQ,IAAR,EAAcC,SAAd,CAAf,IAA4C,IAApD;IACAF,CAAC,CAACG,EAAF,GAAO,IAAP;IACAH,CAAC,CAACI,GAAF,GAAQ,IAAR;IACA,OAAOJ,CAAP;EACH;;EACDK,SAAS,CAACL,CAAD,EAAIJ,CAAJ,CAAT;;EACAI,CAAC,CAACM,SAAF,CAAYC,MAAZ,GAAqB,YAAY;IAC7B,KAAKH,GAAL,CAASI,EAAT,CAAYlB,EAAE,CAACmB,SAAH,CAAaC,SAAb,CAAuBC,QAAnC,EAA6C,KAAKC,OAAlD,EAA2D,IAA3D;EACH,CAFD;;EAGAZ,CAAC,CAACM,SAAF,CAAYM,OAAZ,GAAsB,UAAUhB,CAAV,EAAaI,CAAb,EAAgB;IAClC,IAAIa,CAAC,GAAG,IAAR;IACA,IAAIb,CAAC,CAACc,IAAF,IAAU1B,CAAC,CAACS,EAAhB,EACIP,EAAE,CAACyB,QAAH,CAAYC,SAAZ,CAAsB,KAAKC,OAA3B,EAAoC,YAAY;MAC5CJ,CAAC,CAACK,QAAF;MACAL,CAAC,CAACM,EAAF,IAAQN,CAAC,CAACM,EAAF,EAAR;IACH,CAHD,EADJ,KAKK;MACD,IAAIpC,CAAC,GAAG,KAAKqC,IAAb;MACA9B,EAAE,CAAC+B,IAAH,CAAQC,qBAAR,CAA8BvC,CAA9B;MACAA,CAAC,CAACwC,OAAF;IACH;EACJ,CAZD;;EAaAvB,CAAC,CAACM,SAAF,CAAYkB,MAAZ,GAAqB,UAAU5B,CAAV,EAAaI,CAAb,EAAgBa,CAAhB,EAAmB9B,CAAnB,EAAsB;IACvC,KAAKoB,EAAL,CAAQsB,cAAR,CAAuB7B,CAAvB,EAA0BI,CAA1B;IACA,KAAKiB,OAAL,GAAeJ,CAAf;IACA,KAAKM,EAAL,GAAUpC,CAAV;IACA,KAAKqB,GAAL,CAASsB,IAAT,CAActC,CAAC,CAACS,EAAhB;EACH,CALD;;EAMAG,CAAC,CAACM,SAAF,CAAYY,QAAZ,GAAuB,YAAY;IAC/B,KAAKd,GAAL,CAASsB,IAAT,CAActC,CAAC,CAACU,IAAhB;EACH,CAFD;;EAGA6B,UAAU,CAAC,CAACjC,CAAC,CAACJ,EAAE,CAACsC,IAAJ,CAAF,CAAD,EAAe5B,CAAC,CAACM,SAAjB,EAA4B,IAA5B,EAAkC,KAAK,CAAvC,CAAV;;EACAqB,UAAU,CAAC,CAACjC,CAAC,CAACJ,EAAE,CAACmB,SAAJ,CAAF,CAAD,EAAoBT,CAAC,CAACM,SAAtB,EAAiC,KAAjC,EAAwC,KAAK,CAA7C,CAAV;;EACA,OAAOqB,UAAU,CAAC,CAACnC,CAAD,CAAD,EAAMQ,CAAN,CAAjB;AACH,CApCO,CAoCLV,EAAE,CAACuC,SApCE,CAAR;;AAqCA3C,OAAO,WAAP,GAAkBa,CAAlB","sourceRoot":"/","sourcesContent":["var n;\nObject.defineProperty(exports, \"__esModule\", {value: !0});\nvar a;\nvar s = cc._decorator;\nvar c = s.ccclass;\nvar l = s.property;\n(function (t) {\n    t.to = \"loadingTo\";\n    t.back = \"loadingBack\";\n})(a || (a = {}));\nvar u = (function (t) {\n    function e() {\n        var e = (null !== t && t.apply(this, arguments)) || this;\n        e.bg = null;\n        e.ani = null;\n        return e;\n    }\n    __extends(e, t);\n    e.prototype.onLoad = function () {\n        this.ani.on(cc.Animation.EventType.FINISHED, this.playEnd, this);\n    };\n    e.prototype.playEnd = function (t, e) {\n        var o = this;\n        if (e.name == a.to)\n            cc.director.loadScene(this.newRoot, function () {\n                o.playBack();\n                o.cb && o.cb();\n            });\n        else {\n            var n = this.node;\n            cc.game.removePersistRootNode(n);\n            n.destroy();\n        }\n    };\n    e.prototype.playTo = function (t, e, o, n) {\n        this.bg.setContentSize(t, e);\n        this.newRoot = o;\n        this.cb = n;\n        this.ani.play(a.to);\n    };\n    e.prototype.playBack = function () {\n        this.ani.play(a.back);\n    };\n    __decorate([l(cc.Node)], e.prototype, \"bg\", void 0);\n    __decorate([l(cc.Animation)], e.prototype, \"ani\", void 0);\n    return __decorate([c], e);\n})(cc.Component);\nexports.default = u;\n"]}