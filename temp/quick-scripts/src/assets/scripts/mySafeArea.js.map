{"version":3,"sources":["assets\\scripts\\mySafeArea.js"],"names":["n","Object","defineProperty","exports","value","getSafeAreaRect","_global","require","s","cc","_decorator","c","ccclass","l","property","t","sys","padScale","Rect","platform","ALIPAY_GAME","e","o","y","WECHAT_GAME","x","width","height","u","apply","arguments","__extends","prototype","updateArea","node","getComponent","Widget","updateAlignment","position","getAnchorPoint","isAlignTop","isAlignBottom","isAlignLeft","isAlignRight","i","winSize","r","a","top","bottom","left","right","setAnchorPoint","_widgetManager","add","__decorate","SafeArea"],"mappings":"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","sourceRoot":"/","sourcesContent":["var n;\nObject.defineProperty(exports, \"__esModule\", {value: !0});\nexports.getSafeAreaRect = void 0;\nvar _global = require(\"global\");\nvar s = cc._decorator;\nvar c = s.ccclass;\nvar l = (s.property, null);\nexports.getSafeAreaRect = function () {\n    if (!l) {\n        var t = cc.sys;\n        if (_global.default.padScale) l = new cc.Rect(0, 0, 720, 1560);\n        else if (t.platform == t.ALIPAY_GAME) l = new cc.Rect(0, 62, 720, 1560);\n        else {\n            var e = cc.sys.getSafeAreaRect();\n            var o = e.y;\n            t.platform == t.WECHAT_GAME && o < 62 && (o = 62);\n            l = new cc.Rect(e.x, o, e.width, e.height);\n        }\n    }\n    return l;\n};\nvar u = (function (t) {\n    function e() {\n        return (null !== t && t.apply(this, arguments)) || this;\n    }\n    __extends(e, t);\n    e.prototype.updateArea = function () {\n        if (cc.sys.platform != cc.sys.ALIPAY_GAME) {\n            var t = this.node.getComponent(cc.Widget);\n            if (t) {\n                t.updateAlignment();\n                var e = this.node.position;\n                var n = this.node.getAnchorPoint();\n                t.isAlignTop = t.isAlignBottom = t.isAlignLeft = t.isAlignRight = !0;\n                var i = cc.winSize.width;\n                var r = cc.winSize.height;\n                var a = exports.getSafeAreaRect();\n                t.top = r - a.y - a.height;\n                t.bottom = a.y;\n                t.left = a.x;\n                t.right = i - a.x - a.width;\n                t.updateAlignment();\n                var s = this.node.position;\n                var c = n.x - (s.x - e.x) / this.node.width;\n                var l = n.y - (s.y - e.y) / this.node.height;\n                this.node.setAnchorPoint(c, l);\n                cc._widgetManager.add(t);\n            }\n        }\n    };\n    return __decorate([c], e);\n})(cc.SafeArea);\nexports.default = u;\n"]}