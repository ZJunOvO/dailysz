{"version":3,"sources":["assets\\scripts\\page_challenge.js"],"names":["n","Object","defineProperty","exports","value","_evts","require","_idx","_mySafeArea","_numberUtils","_res","_time","_cfgMgr","_global","_bagMgr","_challengeMgr","_panelMgr","_skinMgr","_pInfo","_dateItem","_packItem","T","cc","_decorator","I","ccclass","D","property","P","t","e","apply","arguments","dateNodes","dateNode0","dateNode1","dateItem","yearLb","monthLb","costLb","topNode","leftNode","rightNode","lvPerLb","finNumLb","packPro","packItems","midBg","packageNode","maskNode","topSp","spineNode","beforeRedLb","afterRedLb","bgNode","hengNode","curYear","curMonth","curDay","lvData","type","diff","isAni","isFin","gameDate","loadPackEnd","crossData","isLoad","__extends","prototype","onLoad","node","height","winSize","padScale","scaleX","parent","scale","opE","on","onOperTap","bind","ins","getBundleByString","then","load","SpriteFrame","o","isValid","spriteFrame","sp","SkeletonData","i","length","initItem","setPackPer","console","error","loadGirl","__awaiter","__generator","updateRole","getUsingSkin","role","action","UPD_MAIN_RED","updateReds","SKIN_CHG","start","scheduleOnce","adapter","initPanel","onEnable","getRequestChallengeData","status","data","setCrossNum","getSafeAreaRect","yMin","y","removeComponent","Widget","serverTime","Date","getDate","getFullYear","r","getMonth","challengeLv","a","Math","trunc","s","c","getTheMonthIsFin","string","initItems","checkBtns","getCrossData","instantiate","active","x","setItemsByDate","l","u","p","d","getLastUnFinIdx","f","getFinLvNum","setIsSelect","loadDateItem","firstYear","firstMonth","getMonthRed","getBeforeMonthRed","getAllMonthRed","getCharXOffset","rePanel","tween","by","call","getMonthData","progress","getChaPackData","setIsGet","setFinish","getfinData","children","getComponent","setDate","off","isLocked","setLocked","onBtnChgStartData","childrenCount","setSelected","getLvDataByDate","year","month","day","getLevelCost","addZeroToNum","num","onBtnStart","getPower","open","itemId","date","challengeType","worm","count","RandomInt","abs","platform","showLoading","assetManager","loadRemote","OssConfig","challengeWormUrl","JsonAsset","hideLoading","json","size","cost","crossNum","onBtnChgMonth","Number","getNewDate","serverCfg","daily_challenge","consume","onBtnPack","numreward","times","coin","puzzle_pieces","h","g","_","b","w","S","convertToWorldSpaceAR","position","worldPos","push","setChaPackData","addItem","emit","itemDatas","__decorate","Node","Prefab","Label","ProgressBar","Sprite","Component"],"mappings":"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","sourceRoot":"/","sourcesContent":["var n;\nObject.defineProperty(exports, \"__esModule\", {value: !0});\nvar _evts = require(\"evts\");\nvar _idx = require(\"idx\");\nvar _mySafeArea = require(\"mySafeArea\");\nvar _numberUtils = require(\"NumberUtils\");\nvar _res = require(\"res\");\nvar _time = require(\"time\");\nvar _cfgMgr = require(\"cfgMgr\");\nvar _global = require(\"global\");\nvar _bagMgr = require(\"bagMgr\");\nvar _challengeMgr = require(\"challengeMgr\");\nvar _panelMgr = require(\"panelMgr\");\nvar _skinMgr = require(\"skinMgr\");\nvar _pInfo = require(\"pInfo\");\nvar _dateItem = require(\"dateItem\");\nvar _packItem = require(\"packItem\");\nvar T = cc._decorator;\nvar I = T.ccclass;\nvar D = T.property;\nvar P = (function (t) {\n    function e() {\n        var e = (null !== t && t.apply(this, arguments)) || this;\n        e.dateNodes = null;\n        e.dateNode0 = null;\n        e.dateNode1 = null;\n        e.dateItem = null;\n        e.yearLb = null;\n        e.monthLb = null;\n        e.costLb = null;\n        e.topNode = null;\n        e.leftNode = null;\n        e.rightNode = null;\n        e.lvPerLb = null;\n        e.finNumLb = null;\n        e.packPro = null;\n        e.packItems = [];\n        e.midBg = null;\n        e.packageNode = null;\n        e.maskNode = null;\n        e.topSp = null;\n        e.spineNode = null;\n        e.beforeRedLb = null;\n        e.afterRedLb = null;\n        e.bgNode = null;\n        e.hengNode = null;\n        e.curYear = 0;\n        e.curMonth = 0;\n        e.curDay = 0;\n        e.lvData = {type: 1, diff: 3};\n        e.isAni = !1;\n        e.isFin = !1;\n        e.gameDate = null;\n        e.loadPackEnd = !1;\n        e.crossData = {};\n        e.isLoad = !0;\n        return e;\n    }\n    __extends(e, t);\n    e.prototype.onLoad = function () {\n        var t = this;\n        this.node.height = cc.winSize.height;\n        _global.default.padScale &&\n            (this.hengNode.scaleX = this.bgNode.scaleX = this.topSp.node.parent.scale = _global.default.padScale);\n        _evts.default.opE.on(this.onOperTap.bind(this));\n        _res.default.ins\n            .getBundleByString(\"resSps\")\n            .then(function (e) {\n                e.load(\"game/normal/top1\", cc.SpriteFrame, function (e, o) {\n                    !e && t.node && t.node.isValid && (t.topSp.spriteFrame = o);\n                }),\n                    e.load(\"spine/package/action\", sp.SkeletonData, function (e, o) {\n                        if (!e && t.node && t.node.isValid) {\n                            for (var n = 0, i = t.packItems.length; n < i; n++) t.packItems[n].initItem(n, o);\n                            t.setPackPer(), (t.loadPackEnd = !0);\n                        }\n                    });\n            })\n            .catch(function (t) {\n                console.error(\"RTool.ins.getBundleByString('resSps')\", t);\n            });\n        this.loadGirl();\n    };\n    e.prototype.loadGirl = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function () {\n                _skinMgr.default.ins.updateRole(_pInfo.default.ins.getUsingSkin().role, this.spineNode);\n                return [2];\n            });\n        });\n    };\n    e.prototype.onOperTap = function (t) {\n        var e = null == t ? void 0 : t.action;\n        if (e)\n            switch (e) {\n                case _evts.default.UPD_MAIN_RED:\n                    this.updateReds();\n                    break;\n                case _evts.default.SKIN_CHG:\n                    this.loadGirl();\n            }\n    };\n    e.prototype.start = function () {\n        var t = this;\n        this.scheduleOnce(function () {\n            t.adapter();\n            t.initPanel();\n        });\n    };\n    e.prototype.onEnable = function () {\n        var t = this;\n        this.isLoad ||\n            _challengeMgr.default.ins\n                .getRequestChallengeData(this.curYear, this.curMonth)\n                .then(function (e) {\n                    e.status && ((t.crossData = e.data), t.setCrossNum());\n                })\n                .catch(function (t) {\n                    console.error(\"getRequestChallengeDataErr\", t);\n                });\n        this.isLoad = !1;\n    };\n    e.prototype.adapter = function () {\n        var t = _mySafeArea.getSafeAreaRect().yMin;\n        var e = this.node.height - 1280 - t;\n        this.spineNode.y += e / 6;\n        this.topNode.y -= t;\n        this.topNode.removeComponent(cc.Widget);\n    };\n    e.prototype.initPanel = function () {\n        var t = this;\n        var e = 1e3 * _time.default.ins.serverTime;\n        var o = new Date(e);\n        var n = o.getDate();\n        var i = o.getFullYear();\n        var r = o.getMonth() + 1;\n        if (_global.default.challengeLv) {\n            var a = Math.trunc;\n            var s = a(_global.default.challengeLv / 1e4);\n            var c = a((_global.default.challengeLv % 1e4) / 100);\n            _challengeMgr.default.ins.getTheMonthIsFin(i, r) || ((i = s), (r = c));\n        }\n        this.curYear = i;\n        this.curMonth = r;\n        this.curDay = n;\n        this.yearLb.string = this.curYear + \"年\";\n        this.monthLb.string = this.curMonth + \"\";\n        this.initItems();\n        this.checkBtns();\n        this.getCrossData();\n        _res.default.ins\n            .getBundleByString(\"resSps\")\n            .then(function (e) {\n                e.load(\"spine/package/action\", sp.SkeletonData, function (e, o) {\n                    if (!e && t.node && t.node.isValid) {\n                        for (var n = 0, i = t.packItems.length; n < i; n++) t.packItems[n].initItem(n, o);\n                        t.setPackPer();\n                        t.loadPackEnd = !0;\n                    }\n                });\n            })\n            .catch(function (t) {\n                console.error(\"RTool.ins.getBundleByString('resSps')\", t);\n            });\n    };\n    e.prototype.initItems = function () {\n        for (var t = this.curYear, e = this.curMonth, o = 0, n = 0, i = 0; i < 42; i++) {\n            var r = cc.instantiate(this.dateItem);\n            r.active = !0;\n            r.parent = this.dateNode1;\n            r.x = 92 * o;\n            r.y = -86 * n;\n            ++o > 6 && ((o = 0), n++);\n        }\n        this.setItemsByDate(this.dateNode1, t, e);\n        var a = 1e3 * _time.default.ins.serverTime;\n        var s = new Date(a);\n        var c = s.getFullYear();\n        var l = s.getMonth() + 1;\n        var u = s.getDate();\n        var p = _challengeMgr.default.ins;\n        var d = p.getLastUnFinIdx(t, e);\n        var f = p.getFinLvNum(t, e);\n        c == t && l == e && u == f && (d = u - 1);\n        this.setIsSelect(d);\n        this.dateNode0.y += 516;\n        o = 0;\n        n = 0;\n        this.loadDateItem(0, o, n);\n    };\n    e.prototype.loadDateItem = function (t, e, o) {\n        var n = this;\n        if (!(t >= 42)) {\n            var i = cc.instantiate(this.dateItem);\n            i.active = !0;\n            i.parent = this.dateNode0;\n            i.x = 92 * e;\n            i.y = -86 * o;\n            ++e > 6 && ((e = 0), o++);\n            t++;\n            this.scheduleOnce(function () {\n                n.loadDateItem(t, e, o);\n            }, 0);\n        }\n    };\n    e.prototype.checkBtns = function () {\n        var t = 1e3 * _time.default.ins.serverTime;\n        var e = new Date(t);\n        var o = e.getFullYear();\n        var n = e.getMonth() + 1;\n        var i = _challengeMgr.default.ins;\n        var r = this.curYear;\n        var a = this.curMonth;\n        this.rightNode.active = o != r || n != a;\n        r == i.firstYear && a == i.firstMonth ? (this.leftNode.active = !1) : (this.leftNode.active = !0);\n        this.updateReds();\n    };\n    e.prototype.updateReds = function () {\n        var t = _challengeMgr.default.ins;\n        var e = this.curYear;\n        var o = this.curMonth;\n        var n = t.getMonthRed(e, o);\n        var i = t.getBeforeMonthRed(e, o);\n        var r = i - n;\n        var a = t.getAllMonthRed() - i;\n        r > 0\n            ? ((this.beforeRedLb.node.parent.active = !0),\n              (this.beforeRedLb.string = r + \"\"),\n              (this.beforeRedLb.node.x = _global.default.getCharXOffset(this.beforeRedLb.string)))\n            : (this.beforeRedLb.node.parent.active = !1);\n        a > 0\n            ? ((this.afterRedLb.node.parent.active = !0),\n              (this.afterRedLb.string = a + \"\"),\n              (this.afterRedLb.node.x = _global.default.getCharXOffset(this.afterRedLb.string)))\n            : (this.afterRedLb.node.parent.active = !1);\n    };\n    e.prototype.rePanel = function (t) {\n        var e = this;\n        var o = this.curYear;\n        var n = this.curMonth;\n        var i = 516 * t;\n        var r = this.dateNode0.active ? this.dateNode0 : this.dateNode1;\n        var a = this.dateNode0.active ? this.dateNode1 : this.dateNode0;\n        a.y = r.y - i;\n        this.setItemsByDate(a, o, n);\n        this.dateNode0.active = !0;\n        this.dateNode1.active = !0;\n        this.isAni = !0;\n        cc.tween(this.dateNodes)\n            .by(0.2, {y: i})\n            .call(function () {\n                (e.isAni = !1), (r.active = !1), (a.active = !0);\n                var t = _challengeMgr.default.ins.getLastUnFinIdx(e.curYear, e.curMonth);\n                e.setIsSelect(t);\n            })\n            .start();\n        this.yearLb.string = o + \"年\";\n        this.monthLb.string = n + \"\";\n        this.loadPackEnd && this.setPackPer();\n        this.getCrossData();\n    };\n    e.prototype.setPackPer = function () {\n        var t = _challengeMgr.default.ins;\n        var e = this.curYear;\n        var o = this.curMonth;\n        var n = t.getMonthData(e, o);\n        var i = (n[0], n[1]);\n        var r = t.getFinLvNum(e, o);\n        this.lvPerLb.string = r + \"/\" + i;\n        this.packPro.progress = r / 28;\n        for (var a = t.getChaPackData(e, o), s = 0, c = this.packItems.length; s < c; s++) {\n            var l = 7 * (s + 1);\n            var u = this.packItems[s];\n            u.setIsGet(!1);\n            u.setFinish(!1);\n            r >= l && u.setFinish(!0);\n            a[s] && u.setIsGet(!0);\n        }\n    };\n    e.prototype.setItemsByDate = function (t, e, o) {\n        for (\n            var n = this,\n                i = _challengeMgr.default.ins,\n                r = i.getfinData(e, o),\n                a = i.getMonthData(e, o),\n                s = a[0],\n                c = a[1],\n                l = function (a) {\n                    var l = t.children[a];\n                    var p = a - s + 1;\n                    var d = l.getComponent(_dateItem.default);\n                    p < 0 || p >= c\n                        ? (l.active = !1)\n                        : ((l.active = !0),\n                          d.setDate(p + 1),\n                          l.off(\"click\"),\n                          i.isLocked(e, o, p)\n                              ? d.setLocked(!0)\n                              : (l.on(\n                                    \"click\",\n                                    function () {\n                                        n.onBtnChgStartData(p);\n                                    },\n                                    u\n                                ),\n                                d.setLocked(!1)),\n                          d.setFinish(r[p]));\n                },\n                u = this,\n                p = 0,\n                d = t.childrenCount;\n            p < d;\n            p++\n        )\n            l(p);\n    };\n    e.prototype.setIsSelect = function (t) {\n        for (var e = this.dateNode0.active ? this.dateNode0 : this.dateNode1, o = 0, n = e.childrenCount; o < n; o++) {\n            var i = e.children[o];\n            i && i.getComponent(_dateItem.default).setSelected(!1);\n        }\n        var r = _challengeMgr.default.ins;\n        var a = r.getMonthData(this.curYear, this.curMonth);\n        var s = a[0];\n        var c = (a[1], t + s - 1);\n        var l = r.getfinData(this.curYear, this.curMonth);\n        this.isFin = l[t];\n        var u = e.children[c];\n        u && u.getComponent(_dateItem.default).setSelected(!0);\n        this.lvData = r.getLvDataByDate(this.curYear, this.curMonth, t);\n        var p = {};\n        p.year = this.curYear;\n        p.month = this.curMonth;\n        p.day = t + 1;\n        p.isFin = l[t];\n        this.gameDate = p;\n        this.setCrossNum();\n        var d = this.getLevelCost();\n        this.costLb.string = \"-\" + d;\n    };\n    e.prototype.getCrossData = function () {\n        var t = this;\n        var e = _challengeMgr.default.ins.getRequestChallengeData(this.curYear, this.curMonth);\n        this.crossData = {};\n        e.then(function (e) {\n            e.status && ((t.crossData = e.data), t.setCrossNum());\n        }).catch(function (t) {\n            console.error(\"getRequestChallengeDataErr\", t);\n        });\n    };\n    e.prototype.setCrossNum = function () {\n        var t = this.gameDate;\n        var e = _challengeMgr.default.ins;\n        var o = e.addZeroToNum(t.month);\n        var n = e.addZeroToNum(t.day);\n        var i = t.year + \"-\" + o + \"-\" + n;\n        var r = e.getfinData(t.year, t.month);\n        var a = r[t.day - 1] ? 1 : 0;\n        var s = this.crossData[i] || a;\n        this.finNumLb.string = s + \"\";\n        var c = r[t.day - 1] ? s : s + 1;\n        this.gameDate.num = c;\n    };\n    e.prototype.onBtnChgStartData = function (t) {\n        this.isAni || this.setIsSelect(t);\n    };\n    e.prototype.onBtnStart = function () {\n        var t = this;\n        if (!this.isAni) {\n            var e = this.getLevelCost();\n            if (_pInfo.default.ins.getPower() < e) _panelMgr.default.ins.open(\"ui/ui_getRes\", {itemId: \"times\"});\n            else {\n                var o = this.lvData;\n                if (((o.date = this.gameDate), o.type === _pInfo.challengeType.worm)) {\n                    var n = o.count || _numberUtils.default.RandomInt(1, 460);\n                    (n < 0 || n > 460) && (n = Math.abs(n) % 460);\n                    o.count = n;\n                    _idx.platform.showLoading();\n                    cc.assetManager.loadRemote(\n                        _global.OssConfig.challengeWormUrl + n + \".json\",\n                        cc.JsonAsset,\n                        function (n, i) {\n                            _idx.platform.hideLoading();\n                            !n && i && i.json\n                                ? (o.data = i.json)\n                                : (o.data = {\n                                      size: 15,\n                                      data: [\n                                          [\n                                              188, 203, 218, 219, 220, 221, 206, 191, 192, 193, 194, 179, 164, 149, 148,\n                                              147, 132, 117, 102, 87, 72, 71, 70, 69, 84, 99, 114, 113, 112, 111, 110,\n                                              95, 80, 65, 50, 49, 48, 47, 62, 77, 76, 75, 90, 105, 120\n                                          ],\n                                          [\n                                              186, 185, 170, 155, 154, 153, 138, 123, 108, 107, 122, 137, 152, 151, 166,\n                                              167, 182, 197\n                                          ],\n                                          [\n                                              74, 59, 44, 43, 28, 13, 12, 11, 26, 41, 40, 39, 38, 23, 22, 21, 6, 5, 4,\n                                              3, 18, 17, 16, 15\n                                          ],\n                                          [160, 159, 158, 157, 142, 143, 144, 145]\n                                      ]\n                                  });\n                            _panelMgr.default.ins.open(\"ui/ui_challengeInfo\", {\n                                lvData: o,\n                                cost: e,\n                                crossNum: t.finNumLb.string\n                            });\n                        }\n                    );\n                } else\n                    _panelMgr.default.ins.open(\"ui/ui_challengeInfo\", {\n                        lvData: o,\n                        cost: e,\n                        crossNum: this.finNumLb.string\n                    });\n            }\n        }\n    };\n    e.prototype.onBtnChgMonth = function (t, e) {\n        if (!this.isAni) {\n            var o = Number(e);\n            var n = this.getNewDate(o);\n            var i = n[0];\n            var r = n[1];\n            this.curYear = i;\n            this.curMonth = r;\n            var a = _challengeMgr.default.ins;\n            var s = 1e3 * _time.default.ins.serverTime;\n            var c = new Date(s);\n            var l = c.getFullYear();\n            var u = c.getMonth() + 1;\n            this.curYear == a.firstYear && this.curMonth < a.firstMonth\n                ? (this.curMonth = a.firstMonth)\n                : this.curYear == l && this.curMonth > u\n                ? (this.curMonth = u)\n                : (this.checkBtns(), this.rePanel(o));\n        }\n    };\n    e.prototype.getNewDate = function (t) {\n        var e = t;\n        var o = this.curYear;\n        var n = this.curMonth;\n        (n += e) < 1 ? ((o -= 1), (n = 12)) : n > 12 && ((o += 1), (n = 1));\n        return [o, n];\n    };\n    e.prototype.getLevelCost = function () {\n        var t;\n        var e;\n        var o =\n            (null === (e = null === (t = _cfgMgr.default.serverCfg) || void 0 === t ? void 0 : t.daily_challenge) ||\n            void 0 === e\n                ? void 0\n                : e.consume) || 30;\n        this.isFin && (o = 0);\n        return o;\n    };\n    e.prototype.onBtnPack = function (t, e) {\n        var o;\n        var n;\n        if (!this.isAni) {\n            var i = Number(e);\n            var r = this.curYear;\n            var a = this.curMonth;\n            var s = _challengeMgr.default.ins;\n            var l = s.getFinLvNum(r, a);\n            var u = s.getChaPackData(r, a);\n            var p = 7 * (i + 1);\n            var d = (null ===\n                (n = null === (o = _cfgMgr.default.serverCfg) || void 0 === o ? void 0 : o.daily_challenge) ||\n            void 0 === n\n                ? void 0\n                : n.numreward)[i] || {times: 150, coin: 150, puzzle_pieces: 20};\n            var h = this.packItems[i];\n            var g = [];\n            for (var _ in d) {\n                var b = d[_];\n                var w = h.node;\n                var S = w.parent.convertToWorldSpaceAR(w.position);\n                var T = {};\n                T.itemId = _;\n                T.worldPos = S;\n                T.value = Number(b);\n                g.push(T);\n            }\n            if (g.length)\n                if (l >= p && !u[i]) {\n                    for (var _ in (h.setIsGet(!0), s.setChaPackData(r, a, i), d))\n                        (b = d[_]), _bagMgr.default.ins.addItem(_, Number(b));\n                    _evts.default.opE.emit({action: _evts.default.UPD_MAIN_RED});\n                    _panelMgr.default.ins.open(\"ui/ui_flyAni\", {itemDatas: g});\n                } else _panelMgr.default.ins.open(\"ui/ui_preReward\", {itemDatas: g});\n        }\n    };\n    __decorate([D(cc.Node)], e.prototype, \"dateNodes\", void 0);\n    __decorate([D(cc.Node)], e.prototype, \"dateNode0\", void 0);\n    __decorate([D(cc.Node)], e.prototype, \"dateNode1\", void 0);\n    __decorate([D(cc.Prefab)], e.prototype, \"dateItem\", void 0);\n    __decorate([D(cc.Label)], e.prototype, \"yearLb\", void 0);\n    __decorate([D(cc.Label)], e.prototype, \"monthLb\", void 0);\n    __decorate([D(cc.Label)], e.prototype, \"costLb\", void 0);\n    __decorate([D(cc.Node)], e.prototype, \"topNode\", void 0);\n    __decorate([D(cc.Node)], e.prototype, \"leftNode\", void 0);\n    __decorate([D(cc.Node)], e.prototype, \"rightNode\", void 0);\n    __decorate([D(cc.Label)], e.prototype, \"lvPerLb\", void 0);\n    __decorate([D(cc.Label)], e.prototype, \"finNumLb\", void 0);\n    __decorate([D(cc.ProgressBar)], e.prototype, \"packPro\", void 0);\n    __decorate([D([_packItem.default])], e.prototype, \"packItems\", void 0);\n    __decorate([D(cc.Node)], e.prototype, \"midBg\", void 0);\n    __decorate([D(cc.Node)], e.prototype, \"packageNode\", void 0);\n    __decorate([D(cc.Node)], e.prototype, \"maskNode\", void 0);\n    __decorate([D(cc.Sprite)], e.prototype, \"topSp\", void 0);\n    __decorate([D(cc.Node)], e.prototype, \"spineNode\", void 0);\n    __decorate([D(cc.Label)], e.prototype, \"beforeRedLb\", void 0);\n    __decorate([D(cc.Label)], e.prototype, \"afterRedLb\", void 0);\n    __decorate([D(cc.Node)], e.prototype, \"bgNode\", void 0);\n    __decorate([D(cc.Node)], e.prototype, \"hengNode\", void 0);\n    return __decorate([I], e);\n})(cc.Component);\nexports.default = P;\n"]}