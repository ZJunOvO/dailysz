{"version":3,"sources":["assets\\scripts\\tt.js"],"names":["Object","defineProperty","exports","value","_c","require","_com","_env","_errorCode","_evts","_idx","_pConst","_request","_time","_uData","_tipMgr","y","m","v","_","t","isSharing","sdkSwitch","DefaultSDKSwitch","videoCheckedMap","videoCheckedLastT","uniqueVideoUnitId","isLoading","isLoggedIn","onHideT","noAd","noVideo","lastInterAdShowT","switchesInitd","gameRecorder","ta","m_nStartRecordT","m_nRecordT","m_bIsRecording","m_nAutoStopVideoId","m_strVideoPath","onKeyboardComplete","tt","prototype","get","enumerable","configurable","string","PFCode","Bytedance","init","initVersion","initByteDanceListener","initCommonSetting","initTga","initVideoRecorder","uploadAdEvent","getLaunchOptionsSync","e","scene","bySlider","version","getEnvInfoSync","microapp","mpVersion","isSwitchedInitd","onShow","ins","syncLaunchOption","reenter","startStopRecordTimeout","Math","max","VIDEO_RECORD_LIMIT","launch_from","location","opE","emit","action","Slider_Chg","abs","Date","now","syncTime","then","sync","plE","checkScene","success","sidebarExist","isExist","fail","onHide","serverTime","clearStopRecordTimeout","onError","env","mode","EM","PROD","showModal","title","message","content","stack","showCancel","confirmText","canIUse","onMemoryWarning","triggerGC","onShareAppMessage","SDKConfig","shareData","showShareMenu","o","getUpdateManager","onCheckForUpdate","onUpdateFailed","onUpdateReady","confirm","applyUpdate","getNetworkType","chE","on","initCloud","Promise","login","createCloud","platform","cloud","envID","serviceID","setAccountID","TEST","__awaiter","__generator","n","code","i","callContainer","path","method","header","timeout","data","JSON","parse","openid","unionid","j","errorCode","PF_CLOUD_ERR","console","warn","LOGIN_ERR","errMsg","getCloudData","label","database","sent","collection","_check","isCheck","length","dbId","_id","uData","r","setCloudData","a","isSaving","resolve","doc","update","add","id","error","getStorage","getStorageSync","setStorage","setStorageSync","stringify","clearStorage","clearStorageSync","removeStorage","removeStorageSync","trackLogin","trackUserSet","trackUserSetOnce","trackEvent","getSeq","consumeSeq","sequenceInfo","type","STDSeqType","VIDEO","doWatchAD","doShare","reject","VideoFailCode","NO_AD","adE","ADE","videoAd","createRewardedVideoAd","adUnitId","showLoading","onClose","s","offClose","isEnded","VIDEO_END","step","unit","videoSource","item","CANCELED","show","destroy","hideLoading","_askReShare","canUse","compareVersion","getSystemData","SDKVersion","systemInfoCache","getSystemInfoSync","DefaultSystemInfo","getSwitches","vibrate","VEnum4","SHORT","vibrateShort","LONG","vibrateLong","preloadVideo","assign","cancel","refreshGame","restartMiniProgramSync","exitMiniProgram","mask","log","getMenuBounding","createShareImage","preloadInterstitialAD","showInterstitialAD","canShowBanner","getBannerSize","cc","Size","showBanner","hideBanner","getSubscribeCnt","subscribe","getGameRecorderManager","onStart","onVideoRecordStart","bind","onStop","onVideoRecordEnd","onVideoRecordError","startVideoRecord","start","duration","isMarkOpen","pauseVideoRecord","pause","resumeVideoRecord","resume","stopVideoRecord","stop","setTimeout","autoStopVideoRecord","getTime","clearTimeout","videoPath","SHOWVIDEOSHARE","hasVideoRecord","shareVideoRecord","shareAppMessage","name","channel","desc","query","extra","withVideoId","video_title","videoTopics","showTip","PostMessage","getOpenDataContext","postMessage","Even","Value1","Value2","SetUserCloudStorage","setUserCloudStorage","KVDataList","key","toString","GetOpenDataContext","addShortcut","ADD_DESKTOP","share","imageUrl","getUserInfo","getSetting","authSetting","_getUserInfo","showRefuseTip","cancelText","openSetting","userInfo","navigateToScene","reportEvent","reportAnalytics","setFriendRankData","setImRankData","call","dataType","zoneId","showFriendRank","getImRankList","ttZoneId","normal","relationType","rankType","suffix","rankTitle","payment","system","indexOf","checkSession","openId","c","l","u","cp_orderno","creation_time","money","gift_id","gift_num","status","is_double","phone","p","getUserToken","token","requestGamePayment","currencyType","buyQuantity","customId","extraInfo","paymentResult","errCode","complete","openService","openCustomerServiceConversation"],"mappings":"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","sourceRoot":"/","sourcesContent":["Object.defineProperty(exports, \"__esModule\", {value: !0});\nvar _c = require(\"c\");\nvar _com = require(\"com\");\nvar _env = require(\"env\");\nvar _errorCode = require(\"errorCode\");\nvar _evts = require(\"evts\");\nvar _idx = require(\"idx\");\nvar _pConst = require(\"pConst\");\nvar _request = require(\"request\");\nvar _time = require(\"time\");\nvar _uData = require(\"uData\");\nvar _tipMgr = require(\"tipMgr\");\nvar y = \"env-nBT5qFlz3P\";\nvar m = \"1jtw3wjabr0ui\";\nvar v = \"4m29365j0d2k3agn5c\";\nvar _ = (function () {\n    function t() {\n        this.isSharing = !1;\n        this.sdkSwitch = _pConst.DefaultSDKSwitch;\n        this.videoCheckedMap = {};\n        this.videoCheckedLastT = {};\n        this.uniqueVideoUnitId = v;\n        this.isLoading = !1;\n        this.isLoggedIn = !1;\n        this.onHideT = 0;\n        this.noAd = !1;\n        this.noVideo = !1;\n        this.lastInterAdShowT = 0;\n        this.switchesInitd = !1;\n        this.gameRecorder = null;\n        this.ta = null;\n        this.m_nStartRecordT = 0;\n        this.m_nRecordT = 0;\n        this.m_bIsRecording = !1;\n        this.m_nAutoStopVideoId = 0;\n        this.m_strVideoPath = \"\";\n        this.onKeyboardComplete = tt.onKeyboardComplete;\n    }\n    Object.defineProperty(t.prototype, \"appId\", {\n        get: function () {\n            return \"tt6d2c1b91f21d474902\";\n        },\n        enumerable: !1,\n        configurable: !0\n    });\n    t.prototype.string = function () {\n        return _pConst.PFCode.Bytedance;\n    };\n    t.prototype.init = function () {\n        this.initVersion();\n        this.initByteDanceListener();\n        this.initCommonSetting();\n        this.initTga();\n        this.initVideoRecorder();\n        this.uploadAdEvent(\"active\", {});\n        var t = tt.getLaunchOptionsSync();\n        var e = (null == t ? void 0 : t.scene) || \"0\";\n        this.bySlider = \"021036\" == e;\n    };\n    t.prototype.initVersion = function () {\n        var t;\n        var e;\n        this.version =\n            tt.getEnvInfoSync &&\n            (null === (e = null === (t = tt.getEnvInfoSync()) || void 0 === t ? void 0 : t.microapp) || void 0 === e\n                ? void 0\n                : e.mpVersion);\n    };\n    t.prototype.initTga = function () {};\n    t.prototype.isSwitchedInitd = function () {\n        return this.switchesInitd;\n    };\n    t.prototype.initByteDanceListener = function () {\n        var t = this;\n        var e = this;\n        tt.onShow(function (t) {\n            _uData.default.ins.syncLaunchOption(t),\n                e.isSharing || e.reenter(),\n                e.startStopRecordTimeout(Math.max(1e3, _pConst.VIDEO_RECORD_LIMIT - e.m_nRecordT)),\n                (e.bySlider = \"homepage\" == t.launch_from && \"sidebar_card\" == t.location),\n                _evts.default.opE.emit({action: _evts.default.Slider_Chg}),\n                Math.abs(Date.now() / 1e3 - e.onHideT) > 300\n                    ? e.syncTime().then(function (t) {\n                          t && _time.default.ins.sync(t), _evts.default.plE.emit({onShow: !0, isSharing: e.isSharing});\n                      })\n                    : _evts.default.plE.emit({onShow: !0, isSharing: e.isSharing});\n        });\n        tt.checkScene &&\n            tt.checkScene({\n                scene: \"sidebar\",\n                success: function (e) {\n                    t.sidebarExist = e.isExist;\n                },\n                fail: function () {}\n            });\n        tt.onHide(function () {\n            (e.onHideT = _time.default.ins.serverTime),\n                _evts.default.plE.emit({onHide: !0}),\n                e.clearStopRecordTimeout();\n        });\n        tt.onError(function (t) {\n            _env.env.mode !== _env.EM.PROD &&\n                tt.showModal({\n                    title: t.message || \"异常报错\",\n                    content: t.stack || t + \"\",\n                    showCancel: !1,\n                    confirmText: \"好的\"\n                });\n        });\n        tt.canIUse(\"onMemoryWarning\") &&\n            tt.onMemoryWarning(function () {\n                tt.triggerGC();\n            });\n        tt.onShareAppMessage(function () {\n            return _pConst.SDKConfig.shareData();\n        });\n        tt.showShareMenu({success: function () {}, fail: function () {}});\n        var o = tt.getUpdateManager();\n        o.onCheckForUpdate(function () {});\n        o.onUpdateFailed(function () {});\n        o.onUpdateReady(function () {\n            tt.showModal({\n                title: \"更新提示\",\n                content: \"新版本已经准备好，是否重启小游戏？\",\n                success: function (t) {\n                    t.confirm && o.applyUpdate();\n                }\n            });\n        });\n    };\n    t.prototype.initCommonSetting = function () {\n        _uData.default.ins.syncLaunchOption(tt.getLaunchOptionsSync());\n        tt.getNetworkType({success: function () {}, fail: function () {}});\n        _evts.default.chE.on(function () {});\n    };\n    t.prototype.initCloud = function () {\n        return new Promise(function (t) {\n            tt.login({\n                success: function () {\n                    tt.createCloud &&\n                        tt.canIUse(\"createCloud\") &&\n                        (_idx.platform.cloud = tt.createCloud({envID: y, serviceID: m}));\n                    t(_idx.platform.syncTime());\n                },\n                fail: function () {\n                    t(null);\n                }\n            });\n        });\n    };\n    t.prototype.setAccountID = function () {\n        _env.env.mode;\n        _env.EM.TEST;\n    };\n    t.prototype.login = function (t) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function () {\n                return [\n                    2,\n                    new Promise(function (e, o) {\n                        tt.login({\n                            success: function (n) {\n                                if (n && n.code) {\n                                    var i =\n                                        _idx.platform.cloud ||\n                                        (_idx.platform.cloud =\n                                            tt.createCloud &&\n                                            tt.canIUse(\"createCloud\") &&\n                                            tt.createCloud({envID: y, serviceID: m}));\n                                    if (t > 2 || !i) return void e(n);\n                                    i.callContainer({\n                                        path: \"/index\",\n                                        init: {\n                                            method: \"GET\",\n                                            header: {\"content-type\": \"application/json\"},\n                                            timeout: 2e3\n                                        },\n                                        success: function (t) {\n                                            var o = t.data;\n                                            if (o)\n                                                if (\"string\" == typeof o)\n                                                    try {\n                                                        var i = JSON.parse(o);\n                                                        n.openid = i.i;\n                                                        n.unionid = i.j;\n                                                    } catch (t) {}\n                                                else (n.openid = o.i), (n.unionid = o.j);\n                                            e(n);\n                                        },\n                                        fail: function () {\n                                            return o(_errorCode.errorCode.PF_CLOUD_ERR);\n                                        }\n                                    });\n                                } else console.warn(\"头条登陆失败：empty code\"), o(_errorCode.errorCode.LOGIN_ERR);\n                            },\n                            fail: function (t) {\n                                var e = \"\";\n                                null != t && null != t.errMsg && (e = t.errMsg);\n                                console.warn(\"头条登陆失败：\", e);\n                                o(_errorCode.errorCode.LOGIN_ERR);\n                            }\n                        });\n                    })\n                ];\n            });\n        });\n    };\n    t.prototype.syncTime = function () {\n        return new Promise(function (t) {\n            var e =\n                _idx.platform.cloud ||\n                (_idx.platform.cloud =\n                    tt.createCloud && tt.canIUse(\"createCloud\") && tt.createCloud({envID: y, serviceID: m}));\n            e\n                ? e.callContainer({\n                      path: \"/gTime\",\n                      init: {method: \"GET\", header: {\"content-type\": \"application/json\"}, timeout: 2e3},\n                      success: function (e) {\n                          var o;\n                          var n = e.data;\n                          if (n)\n                              if (\"string\" == typeof n)\n                                  try {\n                                      o = JSON.parse(n).t;\n                                  } catch (e) {}\n                              else o = n.t;\n                          t(o || null);\n                      },\n                      fail: function () {\n                          return t(null);\n                      }\n                  })\n                : t(null);\n        });\n    };\n    t.prototype.reenter = function () {};\n    t.prototype.getCloudData = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var t;\n            var e;\n            var o;\n            var n;\n            return __generator(this, function (i) {\n                switch (i.label) {\n                    case 0:\n                        return (t =\n                            _idx.platform.cloud ||\n                            (_idx.platform.cloud =\n                                tt.createCloud &&\n                                tt.canIUse(\"createCloud\") &&\n                                tt.createCloud({envID: y, serviceID: m})))\n                            ? [4, t.database()]\n                            : [3, 3];\n                    case 1:\n                        return (o = i.sent()) ? ((n = o.collection(\"userData\")), [4, _idx.platform._check(n)]) : [3, 3];\n                    case 2:\n                        (e = i.sent()), (i.label = 3);\n                    case 3:\n                        return [2, e];\n                }\n            });\n        });\n    };\n    t.prototype._check = function (t) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function () {\n                return [\n                    2,\n                    new Promise(function (e) {\n                        t.get(\"id\")\n                            .then(function (t) {\n                                if (t) {\n                                    _idx.platform.isCheck = !0;\n                                    var o = t.data;\n                                    if (o && o.length) {\n                                        var n = o[0];\n                                        _idx.platform.dbId = n._id;\n                                        try {\n                                            var i = JSON.parse(n.uData);\n                                            e(i);\n                                        } catch (r) {\n                                            e(null);\n                                        }\n                                    } else e(null);\n                                } else e(null);\n                            })\n                            .catch(function () {\n                                return e(null);\n                            });\n                    })\n                ];\n            });\n        });\n    };\n    t.prototype.setCloudData = function (t) {\n        return __awaiter(this, void 0, void 0, function () {\n            var e;\n            var o;\n            var n;\n            var r;\n            var a;\n            return __generator(this, function (i) {\n                switch (i.label) {\n                    case 0:\n                        return (e = this).isSaving\n                            ? [2]\n                            : (o =\n                                  e.cloud ||\n                                  (e.cloud =\n                                      tt.createCloud &&\n                                      tt.canIUse(\"createCloud\") &&\n                                      tt.createCloud({envID: y, serviceID: m})))\n                            ? [4, o.database()]\n                            : [3, 2];\n                    case 1:\n                        if (!(n = i.sent())) return [2];\n                        (e.isSaving = !0),\n                            (r = n.collection(\"userData\")),\n                            (a = Promise.resolve()),\n                            e.isCheck || (a = this._check(r)),\n                            a\n                                .then(function () {\n                                    e.dbId\n                                        ? r\n                                              .doc(e.dbId)\n                                              .update({uData: t})\n                                              .then(function () {\n                                                  _idx.platform.isSaving = !1;\n                                              })\n                                        : r.add({uData: t}).then(function (t) {\n                                              _idx.platform.dbId = t.id;\n                                              _idx.platform.isSaving = !1;\n                                          });\n                                })\n                                .catch(function (t) {\n                                    return console.error(\"写入失败\", t);\n                                }),\n                            (i.label = 2);\n                    case 2:\n                        return [2];\n                }\n            });\n        });\n    };\n    t.prototype.getStorage = function (t) {\n        try {\n            var e = tt.getStorageSync(t);\n            return null == e || \"\" == e ? null : JSON.parse(e);\n        } catch (o) {}\n    };\n    t.prototype.setStorage = function (t, e) {\n        try {\n            tt.setStorageSync(t, JSON.stringify(e));\n        } catch (o) {}\n    };\n    t.prototype.clearStorage = function () {\n        try {\n            tt.clearStorageSync();\n        } catch (t) {}\n    };\n    t.prototype.removeStorage = function (t) {\n        try {\n            tt.removeStorageSync(t);\n        } catch (e) {}\n    };\n    t.prototype.trackLogin = function () {};\n    t.prototype.trackUserSet = function () {};\n    t.prototype.trackUserSetOnce = function () {};\n    t.prototype.trackEvent = function () {};\n    t.prototype.getSeq = function () {};\n    t.prototype.consumeSeq = function (t) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (e) {\n                switch (e.label) {\n                    case 0:\n                        return t.sequenceInfo.type != _pConst.STDSeqType.VIDEO ? [3, 2] : [4, this.doWatchAD(t)];\n                    case 1:\n                        e.sent(), this.doShare(), (e.label = 2);\n                    case 2:\n                        return [2];\n                }\n            });\n        });\n    };\n    t.prototype.doWatchAD = function (t) {\n        return __awaiter(this, void 0, void 0, function () {\n            var e;\n            var o;\n            return __generator(this, function () {\n                return this.noAd\n                    ? [2]\n                    : this.noVideo\n                    ? (console.error(\"[error] no video\"), [2, Promise.reject(_pConst.VideoFailCode.NO_AD)])\n                    : (_evts.default.adE.emit(_c.ADE.VIDEO),\n                      (e = this.uniqueVideoUnitId),\n                      null == this.videoAd && (this.videoAd = tt.createRewardedVideoAd({adUnitId: e})),\n                      this.showLoading(),\n                      (o = this),\n                      [\n                          2,\n                          new Promise(function (n, i) {\n                              o.videoAd.onClose(function a(s) {\n                                  null != o.videoAd && o.videoAd.offClose(a),\n                                      null != s && s.isEnded\n                                          ? (_evts.default.adE.emit(_c.ADE.VIDEO_END),\n                                            o.trackEvent(\"video\", {\n                                                step: \"complete\",\n                                                unit: e,\n                                                type: t.videoSource,\n                                                item: t.item\n                                            }),\n                                            n(1))\n                                          : (_evts.default.adE.emit(_c.ADE.VIDEO_END),\n                                            i(_pConst.VideoFailCode.CANCELED));\n                              });\n                              o.videoAd\n                                  .show()\n                                  .then(function () {})\n                                  .catch(function () {\n                                      _evts.default.adE.emit(_c.ADE.VIDEO_END);\n                                      o.videoAd.destroy();\n                                      o.videoAd = null;\n                                      i(_pConst.VideoFailCode.NO_AD);\n                                  })\n                                  .then(function () {\n                                      o.hideLoading();\n                                  });\n                          })\n                      ]);\n            });\n        });\n    };\n    t.prototype.doShare = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function () {\n                return [2];\n            });\n        });\n    };\n    t.prototype._askReShare = function () {};\n    t.prototype.canUse = function (t) {\n        return _com.default.ins.compareVersion(_idx.platform.getSystemData().SDKVersion, t) >= 0;\n    };\n    t.prototype.getSystemData = function () {\n        if (null == this.systemInfoCache)\n            try {\n                this.systemInfoCache = tt.getSystemInfoSync();\n            } catch (t) {\n                return _pConst.DefaultSystemInfo;\n            }\n        return this.systemInfoCache;\n    };\n    t.prototype.getSwitches = function () {};\n    t.prototype.vibrate = function (t) {\n        t == _pConst.VEnum4.SHORT\n            ? tt.vibrateShort(null)\n            : t == _pConst.VEnum4.LONG && tt.vibrateLong({success: function () {}, fail: function () {}});\n    };\n    t.prototype.preloadVideo = function () {\n        return !1;\n    };\n    t.prototype.showModal = function (t) {\n        return new Promise(function (e) {\n            tt.showModal(\n                Object.assign(Object.assign({}, t), {\n                    success: function (t) {\n                        t.confirm ? e(!0) : t.cancel && e(!1);\n                    },\n                    fail: function () {\n                        e(!1);\n                    }\n                })\n            );\n        });\n    };\n    t.prototype.refreshGame = function () {\n        try {\n            tt.restartMiniProgramSync();\n        } catch (t) {\n            tt.exitMiniProgram();\n        }\n    };\n    t.prototype.showLoading = function (t) {\n        void 0 === t && (t = \"加载中\");\n        this.canUse(\"1.0.0\") && ((this.isLoading = !0), tt.showLoading({title: t, mask: !0}));\n    };\n    t.prototype.hideLoading = function () {\n        this.canUse(\"1.0.0\") && this.isLoading && (tt.hideLoading(), (this.isLoading = !1));\n    };\n    t.prototype.log = function () {};\n    t.prototype.getMenuBounding = function () {};\n    t.prototype.createShareImage = function () {};\n    t.prototype.preloadInterstitialAD = function () {};\n    t.prototype.showInterstitialAD = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function () {\n                return [2, null];\n            });\n        });\n    };\n    t.prototype.canShowBanner = function () {\n        return !1;\n    };\n    t.prototype.getBannerSize = function () {\n        return new cc.Size(0, 0);\n    };\n    t.prototype.showBanner = function () {};\n    t.prototype.hideBanner = function () {};\n    t.prototype.getSubscribeCnt = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function () {\n                return [2, 0];\n            });\n        });\n    };\n    t.prototype.subscribe = function () {};\n    t.prototype.initVideoRecorder = function () {\n        this.canUse(\"1.6.1\") &&\n            ((this.gameRecorder = tt.getGameRecorderManager()),\n            this.gameRecorder.onStart(this.onVideoRecordStart.bind(this)),\n            this.gameRecorder.onStop(this.onVideoRecordEnd.bind(this)),\n            this.gameRecorder.onError(this.onVideoRecordError.bind(this)));\n    };\n    t.prototype.startVideoRecord = function () {\n        try {\n            null != this.gameRecorder &&\n                ((this.m_bIsRecording = !0),\n                this.gameRecorder.start({duration: 0.001 * _pConst.VIDEO_RECORD_LIMIT, isMarkOpen: !1}),\n                this.startStopRecordTimeout(_pConst.VIDEO_RECORD_LIMIT));\n        } catch (t) {\n            this.gameRecorder = null;\n        }\n    };\n    t.prototype.pauseVideoRecord = function () {\n        null != this.gameRecorder && this.m_bIsRecording && (this.gameRecorder.pause(), this.clearStopRecordTimeout());\n    };\n    t.prototype.resumeVideoRecord = function () {\n        null != this.gameRecorder &&\n            this.m_bIsRecording &&\n            (this.gameRecorder.resume(),\n            this.startStopRecordTimeout(Math.max(1e3, _pConst.VIDEO_RECORD_LIMIT - this.m_nRecordT)));\n    };\n    t.prototype.stopVideoRecord = function () {\n        null != this.gameRecorder &&\n            (this.clearStopRecordTimeout(), this.gameRecorder.stop(), (this.m_bIsRecording = !1));\n    };\n    t.prototype.startStopRecordTimeout = function (t) {\n        this.m_bIsRecording &&\n            ((this.m_nAutoStopVideoId = setTimeout(this.autoStopVideoRecord.bind(this), t - 1e3)),\n            (this.m_nStartRecordT = new Date().getTime()));\n    };\n    t.prototype.clearStopRecordTimeout = function () {\n        this.m_bIsRecording &&\n            (0 !== this.m_nAutoStopVideoId && clearTimeout(this.m_nAutoStopVideoId),\n            (this.m_nAutoStopVideoId = 0),\n            (this.m_nRecordT += new Date().getTime() - this.m_nStartRecordT),\n            (this.m_nStartRecordT = 0));\n    };\n    t.prototype.autoStopVideoRecord = function () {\n        this.m_nAutoStopVideoId = 0;\n        this.stopVideoRecord();\n        setTimeout(this.startVideoRecord.bind(this), 100);\n    };\n    t.prototype.onVideoRecordStart = function () {\n        this.m_strVideoPath = \"\";\n        this.m_nRecordT = 0;\n    };\n    t.prototype.onVideoRecordEnd = function (t) {\n        var e;\n        null != t && null != t.videoPath && (e = this.m_strVideoPath = t.videoPath);\n        e && _evts.default.opE.emit({action: _evts.default.SHOWVIDEOSHARE});\n    };\n    t.prototype.onVideoRecordError = function () {};\n    t.prototype.hasVideoRecord = function () {\n        return null != this.m_strVideoPath && \"\" !== this.m_strVideoPath;\n    };\n    t.prototype.shareVideoRecord = function () {\n        var t;\n        var e = new Promise(function (e) {\n            t = e;\n        });\n        if (this.hasVideoRecord() && tt.shareAppMessage) {\n            var o = [_env.env.name, \"女生游戏推荐\", \"脑洞游戏\", \"烧脑益智\"];\n            var n = _pConst.SDKConfig.shareData();\n            tt.shareAppMessage({\n                title: \"我欲修仙\",\n                channel: \"video\",\n                desc: \"来挑战一下\",\n                query: n.query,\n                extra: {withVideoId: !0, videoPath: this.m_strVideoPath, video_title: n.title, videoTopics: o},\n                success: function () {\n                    _tipMgr.default.ins.showTip(\"分享成功\");\n                    t(1);\n                },\n                fail: function () {\n                    _tipMgr.default.ins.showTip(\"分享失败\");\n                    t(0);\n                }\n            });\n        } else t(0);\n        return e;\n    };\n    t.prototype.uploadAdEvent = function () {};\n    t.prototype.PostMessage = function (t, e, o) {\n        tt.getOpenDataContext().postMessage({Even: t, Value1: e, Value2: o});\n    };\n    t.prototype.SetUserCloudStorage = function (t, e, o) {\n        var n = new Date();\n        tt.setUserCloudStorage({\n            KVDataList: [\n                {\n                    key: \"level\",\n                    value: t.toString() + \"#\" + n.getTime().toString() + \"#\" + e.toString() + \"#\" + o.toString()\n                }\n            ],\n            success: function () {},\n            fail: function () {}\n        });\n    };\n    t.prototype.GetOpenDataContext = function () {\n        return tt.getOpenDataContext();\n    };\n    t.prototype.addShortcut = function () {\n        tt.addShortcut({\n            success: function () {\n                _evts.default.opE.emit({action: _evts.default.ADD_DESKTOP, data: !0});\n            },\n            fail: function () {\n                _evts.default.opE.emit({action: _evts.default.ADD_DESKTOP, data: !1});\n                _tipMgr.default.ins.showTip(\"添加失败\");\n            }\n        });\n    };\n    t.prototype.share = function () {\n        return new Promise(function (t) {\n            var e = _pConst.SDKConfig.shareData();\n            tt.shareAppMessage({\n                title: e.title,\n                imageUrl: e.imageUrl,\n                query: e.query,\n                channel: \"invite\",\n                success: function (e) {\n                    t(e.data);\n                },\n                fail: function () {\n                    t(0);\n                }\n            });\n        });\n    };\n    t.prototype.getUserInfo = function () {\n        var t = this;\n        return new Promise(function (e, o) {\n            if (tt.canIUse(\"getUserInfo\")) {\n                var n = t;\n                tt.getSetting({\n                    success: function (t) {\n                        t.authSetting[\"scope.userInfo\"]\n                            ? n._getUserInfo(e, o)\n                            : !1 === t.authSetting[\"scope.userInfo\"]\n                            ? n.showRefuseTip(e, o)\n                            : n._getUserInfo(e, o);\n                    },\n                    fail: function () {\n                        o();\n                    }\n                });\n            } else o();\n        });\n    };\n    t.prototype.showRefuseTip = function (t, e) {\n        if (\n            this.showModal({\n                title: \"友情提示\",\n                content: \"申请使用您的用户信息，展示排行榜。\",\n                confirmText: \"允许\",\n                cancelText: \"拒绝\"\n            })\n        ) {\n            var o = this;\n            tt.openSetting({\n                success: function () {\n                    o._getUserInfo(t, e);\n                },\n                fail: function () {\n                    e();\n                }\n            });\n        } else e();\n    };\n    t.prototype._getUserInfo = function (t, e) {\n        tt.getUserInfo({\n            success: function (e) {\n                t(e.userInfo);\n            },\n            fail: function () {\n                e();\n            }\n        });\n    };\n    t.prototype.navigateToScene = function (t) {\n        void 0 === t && (t = \"sidebar\");\n        tt.navigateToScene({scene: t, success: function () {}, fail: function () {}});\n    };\n    t.prototype.reportEvent = function (t, e) {\n        void 0 === e && (e = {});\n        tt.reportAnalytics(t, e);\n    };\n    t.prototype.setFriendRankData = function (t, e) {\n        var o;\n        tt &&\n            (null === (o = tt.setImRankData) ||\n                void 0 === o ||\n                o.call(tt, {\n                    dataType: 0,\n                    value: t.toString(),\n                    zoneId: e,\n                    success: function () {},\n                    fail: function () {}\n                }));\n    };\n    t.prototype.showFriendRank = function (t) {\n        if (tt)\n            if (tt.getImRankList) {\n                var e = t === _pConst.SDKConfig.ttZoneId.normal ? \"关\" : \"分\";\n                var o = t === _pConst.SDKConfig.ttZoneId.normal ? \"主线排行\" : \"好友趣味赛排行\";\n                var n = (_pConst.SDKConfig.ttZoneId.normal, \"all\");\n                var i = t === _pConst.SDKConfig.ttZoneId.normal ? \"all\" : \"friend\";\n                tt.getImRankList({\n                    relationType: i,\n                    dataType: 0,\n                    rankType: n,\n                    suffix: e,\n                    rankTitle: o,\n                    zoneId: t,\n                    success: function () {},\n                    fail: function () {}\n                });\n            } else\n                tt.showModal({\n                    title: \"提示\",\n                    content: \"当前客户端版本过低，无法使用该功能，请升级客户端或关闭后重启更新。\"\n                });\n    };\n    t.prototype.payment = function (t, e, o, n) {\n        var i = this;\n        void 0 === t && (t = \"1\");\n        void 0 === e && (e = 1);\n        void 0 === o && (o = 0);\n        var r = _idx.platform.getSystemData();\n        var a = \"android\";\n        r && -1 != r.system.indexOf(\"iOS\") && (a = \"iOS\");\n        return new Promise(function (r, s) {\n            i.checkSession()\n                .then(function () {\n                    var i = _request.default.ins.openId;\n                    var c = _time.default.ins.serverTime;\n                    var l = t + i + c;\n                    var u = {};\n                    u.cp_orderno = l;\n                    u.creation_time = c;\n                    u.openid = i;\n                    u.money = e;\n                    u.gift_id = t;\n                    u.gift_num = 1;\n                    u.status = 0;\n                    u.is_double = o;\n                    u.package = n;\n                    u.phone = a;\n                    var p = {};\n                    p.openid = i;\n                    p.gift_id = t;\n                    p.gift_num = 1;\n                    p.money = e;\n                    p.is_double = o;\n                    p.package = n;\n                    p.phone = a;\n                    _request.default.ins\n                        .getUserToken()\n                        .then(function (t) {\n                            if (t) {\n                                p.token = t;\n                                var o = JSON.stringify(p);\n                                tt.requestGamePayment({\n                                    mode: \"game\",\n                                    env: 0,\n                                    currencyType: \"CNY\",\n                                    platform: a,\n                                    buyQuantity: e,\n                                    zoneId: \"1\",\n                                    customId: l,\n                                    extraInfo: o,\n                                    success: function () {\n                                        u.status = 1;\n                                        _request.default.ins.paymentResult(u);\n                                        r(1);\n                                    },\n                                    fail: function (t) {\n                                        u.status = 2;\n                                        var e = (u.errCode = (t && t.errCode) || 0);\n                                        _request.default.ins.paymentResult(u);\n                                        s(\"支付失败: \" + e);\n                                    },\n                                    complete: function () {}\n                                });\n                            }\n                        })\n                        .catch(function () {});\n                })\n                .catch(function (t) {\n                    s(\"支付异常: \" + t);\n                });\n        });\n    };\n    t.prototype.checkSession = function () {\n        var t = this;\n        return new Promise(function (e, o) {\n            tt.checkSession({\n                success: function () {\n                    e(1);\n                },\n                fail: function () {\n                    t.login(0)\n                        .then(function () {\n                            e(1);\n                        })\n                        .catch(function (t) {\n                            o(t);\n                        });\n                }\n            });\n        });\n    };\n    t.prototype.openService = function (t) {\n        tt.openCustomerServiceConversation &&\n            tt.openCustomerServiceConversation({type: t, success: function () {}, fail: function () {}});\n    };\n    return t;\n})();\nexports.default = _;\n"]}