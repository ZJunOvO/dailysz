{"version":3,"sources":["assets\\scripts\\uData.js"],"names":["Object","defineProperty","exports","value","_cfgMgr","require","_global","_bagMgr","_taskMgr","_pInfo","_adC","_evts","_idx","_numberUtils","_pConst","_request","_time","g","t","basic","name","uid","userId","openId","sessionKey","headImg","isAuth","isNew","anonymous_openid","setting","effectSound","bgmSound","vibrate","effectVolume","bgmVolume","tip","localData","network","networkType","launchOption","scene","query","flushTimeoutKeys","enterAt","Date","now","loginAt","get","_ins","enumerable","configurable","prototype","onLogin","e","o","n","i","loadSetting","r","getLocalData","a","puzzleLvl","s","bag","puzzle_pieces","p","d","guideDone","setLocalData","ins","serverTime","h","recordFlag","getLocalDataByKey","register_date","getTime","platform","reportEvent","ERepEvt","createNewRole","login","login_date","checkNewDay","preloadVideo","VEnum","y","Math","floor","setTimeout","setInterval","plE","on","onOperTap","bind","onHide","timeId","_setLocalAndCloudData","isSameDay","taskReset","clearDailyData","serverCfg","qw_line_rules","rules","times","set","basic_times","val","chgItemCount","Number","opE","emit","action","UPD_MAIN_RED","loginT","twoDaysLeft","c","RandomInt","UPD_PANEL","keys","getStorage","forEach","setSetting","assign","usE","userData","kind","setStorage","getSetting","restoreData","clearItem","isReStore","cc","game","restart","setUserId","getUserId","getUid","setName","getName","setHeadImg","getHeadImg","setIsAuth","getIsAuth","getIsNewUser","syncLaunchOption","getLaunchParam","ad_type","addict_type","clickid","getLaunchOption","delayFlush","clearTimeout","syncLoginData","nickname","avatar","game_uid","openid","session_key","is_new_user","UPD_TOP_HEADINFO","is_register","SDKConfig","comQuery"],"mappings":"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","sourceRoot":"/","sourcesContent":["Object.defineProperty(exports, \"__esModule\", { value: !0 });\nvar _cfgMgr = require(\"cfgMgr\");\nvar _global = require(\"global\");\nvar _bagMgr = require(\"bagMgr\");\nvar _taskMgr = require(\"taskMgr\");\nvar _pInfo = require(\"pInfo\");\nvar _adC = require(\"adC\");\nvar _evts = require(\"evts\");\nvar _idx = require(\"idx\");\nvar _numberUtils = require(\"NumberUtils\");\nvar _pConst = require(\"pConst\");\nvar _request = require(\"request\");\nvar _time = require(\"time\");\nvar g = (function() {\n    function t() {\n        this.basic = {\n            name: \"\",\n            uid: 0,\n            userId: \"123\",\n            openId: \"test2\",\n            sessionKey: \"\",\n            headImg: \"\",\n            isAuth: null,\n            isNew: null,\n            anonymous_openid: null\n        };\n        this.setting = { effectSound: !0, bgmSound: !0, vibrate: !0, effectVolume: 0.5, bgmVolume: 0.5, tip: !0 };\n        this.localData = null;\n        this.network = { networkType: \"none\" };\n        this.launchOption = { scene: 0, query: {} };\n        this.flushTimeoutKeys = {};\n        this.enterAt = Date.now();\n        this.loginAt = null;\n    }\n    Object.defineProperty(t, \"ins\", {\n        get: function() {\n            this._ins || (this._ins = new t());\n            return this._ins;\n        },\n        enumerable: !1,\n        configurable: !0\n    });\n    t.prototype.onLogin = function(t) {\n        var e;\n        var o;\n        var n = this;\n        if (!this.loginAt) {\n            var i;\n            this.loadSetting();\n            var r = this.getLocalData();\n            if (t) {\n                var a = t.puzzleLvl || 0;\n                var s = (null === (e = null == t ? void 0 : t.bag) || void 0 === e ? void 0 : e.puzzle_pieces) || 0;\n                var p = (null == r ? void 0 : r.puzzleLvl) || 0;\n                var d = (null === (o = null == r ? void 0 : r.bag) || void 0 === o ? void 0 : o.puzzle_pieces) || 0;\n                (a > p || s > d || !r.guideDone) && this.setLocalData(t);\n            }\n            this.loginAt = _time.default.ins.serverTime;\n            var h = this.basic;\n            if (\n                ((h.recordFlag = null !== (i = h.recordFlag) && void 0 !== i ? i : {}),\n                    null == this.getLocalDataByKey(\"register_date\"))\n            ) {\n                var g = new Date();\n                this.setLocalData({ register_date: g.getTime() });\n                _idx.platform.reportEvent(_idx.ERepEvt.createNewRole);\n            } else _idx.platform.reportEvent(_idx.ERepEvt.login);\n            this.getLocalDataByKey(\"login_date\") || this.setLocalData({ login_date: this.loginAt - 864e5 });\n            this.checkNewDay();\n            _idx.platform.preloadVideo(_adC.VEnum[60]);\n            var y = (_time.default.ins.serverTime || Math.floor(new Date().getTime() / 1e3)) % 60;\n            0 != y && (y = 60 - y);\n            setTimeout(function() {\n                n.checkNewDay(),\n                    setInterval(function() {\n                        n.checkNewDay();\n                    }, 6e4);\n            }, 1e3 * y);\n            _evts.default.plE.on(this.onOperTap.bind(this));\n        }\n    };\n    t.prototype.onOperTap = function(t) {\n        (null == t ? void 0 : t.onHide) && this.timeId && this._setLocalAndCloudData();\n    };\n    t.prototype.checkNewDay = function(t) {\n        if ((void 0 === t && (t = !0), !t || !_time.default.ins.isSameDay)) {\n            _taskMgr.default.taskReset();\n            _pInfo.default.ins.clearDailyData();\n            var e = _cfgMgr.default.serverCfg.qw_line_rules.rules.times.set.basic_times.val;\n            _bagMgr.default.ins.chgItemCount(\"qw_line_ticket\", Number(e));\n            _evts.default.opE.emit({ action: _evts.default.UPD_MAIN_RED });\n            this.loginAt = _time.default.ins.serverTime;\n            _time.default.ins.loginT = _time.default.ins.serverTime;\n            var o = this.getLocalDataByKey(\"login_date\");\n            if (\n                (_time.default.ins.serverTime - o >= 1728e5 && (_global.default.twoDaysLeft = !0),\n                    this.setLocalData({ login_date: this.loginAt }),\n                    t && !this.basic.isNew)\n            ) {\n                var c = 1e3 * _numberUtils.default.RandomInt(1, 30);\n                this.timeId = setTimeout(this._setLocalAndCloudData.bind(this), c);\n            }\n            _evts.default.opE.emit({ action: _evts.default.UPD_PANEL });\n        }\n    };\n    t.prototype.loadSetting = function() {\n        var t = this;\n        var e = Object.keys(this.setting);\n        var o = this.setting;\n        this.setting = _idx.platform.getStorage(\"setting\") || this.setting;\n        e.forEach(function(e) {\n            var n;\n            null == t.setting[e] && t.setSetting((((n = {})[e] = o[e]), n));\n        });\n    };\n    t.prototype.setSetting = function(t, e) {\n        void 0 === e && (e = !0);\n        this.setting = Object.assign(Object.assign({}, this.setting), t);\n        _evts.default.usE.emit({ userData: this, kind: \"setting\" });\n        e && _idx.platform.setStorage(\"setting\", this.setting);\n    };\n    t.prototype.getSetting = function() {\n        return this.setting;\n    };\n    t.prototype.setLocalData = function(t, e) {\n        void 0 === e && (e = 10);\n        var o = this.getLocalData();\n        var n = (this.localData = Object.assign(Object.assign({}, o), t));\n        _idx.platform.setStorage(\"localData\", this.localData);\n        n && !this.timeId && (this.timeId = setTimeout(this._setLocalAndCloudData.bind(this), 1e3 * e));\n    };\n    t.prototype._setLocalAndCloudData = function() {\n        // var t;\n        // var e;\n        // var o = this.localData;\n        // if (o) {\n        //     clearTimeout(this.timeId);\n        //     this.timeId = null;\n        //     var i =\n        //         (null ===\n        //             (e = null === (t = _cfgMgr.default.serverCfg) || void 0 === t ? void 0 : t.upload_user_backup) ||\n        //         void 0 === e\n        //             ? void 0\n        //             : e.val) || 5;\n        //     o.puzzleLvl > i && _request.default.ins.updateServerData(this.localData, \"localData\");\n        //     _idx.platform.setCloudData && _idx.platform.setCloudData(JSON.stringify(this.localData));\n        // }\n    };\n    t.prototype.restoreData = function(t) {\n        t &&\n            ((this.localData = t),\n                _bagMgr.default.ins.clearItem(),\n                _idx.platform.setStorage(\"localData\", this.localData),\n                this.checkNewDay(),\n                this._setLocalAndCloudData(),\n                (_global.default.isReStore = 1),\n                cc.game.restart());\n    };\n    t.prototype.getLocalData = function() {\n        null == this.localData && (this.localData = _idx.platform.getStorage(\"localData\") || {});\n        return this.localData;\n    };\n    t.prototype.getLocalDataByKey = function(t) {\n        return null == this.localData ? null : this.localData[t];\n    };\n    Object.defineProperty(t.prototype, \"fakeUID\", {\n        get: function() {\n            return 10005 + 2 * this.basic.uid;\n        },\n        enumerable: !1,\n        configurable: !0\n    });\n    t.prototype.setUserId = function(t) {\n        this.basic.userId = t;\n    };\n    t.prototype.getUserId = function() {\n        return this.basic.userId;\n    };\n    t.prototype.getUid = function() {\n        return this.basic.uid;\n    };\n    t.prototype.setName = function(t) {\n        this.basic.name = t;\n    };\n    t.prototype.getName = function() {\n        return this.basic.name;\n    };\n    t.prototype.setHeadImg = function(t) {\n        this.basic.headImg = t;\n    };\n    t.prototype.getHeadImg = function() {\n        return this.basic.headImg;\n    };\n    t.prototype.setIsAuth = function(t) {\n        this.basic.isAuth = t;\n    };\n    t.prototype.getIsAuth = function() {\n        return this.basic.isAuth;\n    };\n    t.prototype.getIsNewUser = function() {\n        return this.basic.isNew;\n    };\n    t.prototype.syncLaunchOption = function(t) {\n        if (\n            ((this.launchOption.query = {}),\n                (this.launchOption = Object.assign(Object.assign({}, this.launchOption), t)),\n                null == this.getLocalDataByKey(\"register_date\"))\n        ) {\n            var e = this.getLaunchParam(\"ad_type\", \"\");\n            if (\"\" !== e) {\n                this.setLocalData({ ad_type: e });\n                var o = this.getLaunchParam(\"addict_type\", \"\");\n                \"\" !== o && this.setLocalData({ addict_type: o });\n                var n = this.getLaunchParam(\"clickid\", \"\");\n                \"\" !== n && this.setLocalData({ clickid: n });\n            }\n        }\n    };\n    t.prototype.getLaunchParam = function(t, e) {\n        if (null == this.launchOption) return e;\n        var o = this.launchOption[t];\n        return null == o && null != this.launchOption.query && null != this.launchOption.query[t] ?\n            (o = this.launchOption.query[t]) :\n            e;\n    };\n    t.prototype.getLaunchOption = function() {\n        return this.launchOption;\n    };\n    t.prototype.delayFlush = function(t, e, o) {\n        void 0 === o && (o = 0);\n        var n = this;\n        var i = this.flushTimeoutKeys[e];\n        i\n            ?\n            0 === o && (clearTimeout(i), (this.flushTimeoutKeys[e] = null), _idx.platform.setStorage(e, t)) :\n            (this.flushTimeoutKeys[e] = setTimeout(function() {\n                n.flushTimeoutKeys[e] = null;\n                _idx.platform.setStorage(e, t);\n            }, 1e3 * o));\n    };\n    t.prototype.syncLoginData = function(t) {\n        void 0 === t && (t = {});\n        var e = this.basic;\n        e.name = t.nickname;\n        e.headImg = t.avatar;\n        e.uid = t.game_uid;\n        e.openId = t.openid;\n        e.sessionKey = t.session_key;\n        e.anonymous_openid = t.anonymous_openid;\n        e.isNew = t.is_new_user;\n        _evts.default.opE.emit({ action: _evts.default.UPD_TOP_HEADINFO });\n        var o = !t.is_register;\n        var n = null == _idx.platform.getStorage(\"localData\");\n        _pConst.SDKConfig.comQuery = \"from_game_uid=\" + t.game_uid + \"&share_time=\";\n        return [false, n];\n    };\n    return t;\n})();\nexports.default = g;"]}