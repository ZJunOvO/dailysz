{"version":3,"sources":["assets\\scripts\\ui_getHeart.js"],"names":["n","Object","defineProperty","exports","value","_idx","require","_cfgMgr","_lang","_panelMgr","_pInfo","_baseUI","d","cc","_decorator","h","ccclass","f","property","g","t","e","apply","arguments","curConsLbls","restLifeLbls","needGoldLbl","normalNode","adNode","needGold","eventFunc","__extends","prototype","onLoad","call","serverCfg","qw_line_rules","rules","relive","set","coin","val","o","string","init","time","cb","closeCb","i","gType","active","gameType","race","challenge","node","y","ins","getConsWinTimes","getCb","initAdDotEvent","adDotData","normal","practice","onGet","getCoin","open","itemId","useTo","getCoinFor","Rebirth","addCoin","hideThis","eventDot","onAdGet","isMaxAdCount","platform","reportEvent","ERepEvt","dungeonReview","way","raceReview","onClose","hide","__decorate","Label","Node"],"mappings":"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","sourceRoot":"/","sourcesContent":["var n;\nObject.defineProperty(exports, \"__esModule\", {value: !0});\nvar _idx = require(\"idx\");\nvar _cfgMgr = require(\"cfgMgr\");\nvar _lang = require(\"lang\");\nvar _panelMgr = require(\"panelMgr\");\nvar _pInfo = require(\"pInfo\");\nvar _baseUI = require(\"baseUI\");\nvar d = cc._decorator;\nvar h = d.ccclass;\nvar f = d.property;\nvar g = (function (t) {\n    function e() {\n        var e = (null !== t && t.apply(this, arguments)) || this;\n        e.curConsLbls = null;\n        e.restLifeLbls = null;\n        e.needGoldLbl = null;\n        e.normalNode = null;\n        e.adNode = null;\n        e.needGold = 300;\n        e.eventFunc = null;\n        return e;\n    }\n    __extends(e, t);\n    e.prototype.onLoad = function () {\n        t.prototype.onLoad.call(this);\n        var e = this.needGold;\n        try {\n            e = this.needGold = _cfgMgr.default.serverCfg.qw_line_rules.rules.relive.set.coin.val || 300;\n        } catch (o) {}\n        this.needGoldLbl.string = e + \"\";\n    };\n    e.prototype.init = function (t) {\n        var e = t.time;\n        var o = t.cb;\n        var n = t.closeCb;\n        var i = t.gType;\n        (this.normalNode.active = i != _pInfo.gameType.race && i != _pInfo.gameType.challenge) ||\n            (this.restLifeLbls.node.y = 30);\n        this.curConsLbls.string = \"当前连胜：\" + _pInfo.default.ins.getConsWinTimes();\n        e < 0 ? (this.restLifeLbls.node.active = !1) : (this.restLifeLbls.string = \"剩余复活次数：\" + e);\n        this.getCb = o;\n        this.closeCb = n;\n        this.gType = i;\n        this.initAdDotEvent(i);\n    };\n    e.prototype.initAdDotEvent = function (t) {\n        switch (t) {\n            case _pInfo.gameType.challenge:\n                this.adNode.adDotData = \"每日挑战-复活\";\n                break;\n            case _pInfo.gameType.normal:\n                this.adNode.adDotData = \"主线-复活\";\n                break;\n            case _pInfo.gameType.practice:\n                this.adNode.adDotData = \"练习模式-复活\";\n                break;\n            case _pInfo.gameType.race:\n                this.adNode.adDotData = \"趣味赛-复活\";\n        }\n    };\n    e.prototype.onGet = function () {\n        var t = _pInfo.default.ins;\n        t.getCoin() < this.needGold\n            ? _panelMgr.default.ins.open(\"ui/ui_getRes\", {\n                  itemId: \"coin\",\n                  gType: this.gType,\n                  useTo: _lang.getCoinFor.Rebirth\n              })\n            : (t.addCoin(-this.needGold), this.hideThis(), this.getCb(), this.eventDot(\"使用元宝\"));\n    };\n    e.prototype.onAdGet = function () {\n        this.hideThis();\n        this.getCb();\n        this.eventDot(\"看广告\");\n    };\n    e.prototype.eventDot = function (t) {\n        var e = \"使用元宝\" == t;\n        this.gType == _pInfo.gameType.normal\n            ? (e || !_pInfo.default.ins.isMaxAdCount()) &&\n              _idx.platform.reportEvent(_idx.ERepEvt.dungeonReview, {way: t})\n            : this.gType == _pInfo.gameType.race &&\n              (e || !_pInfo.default.ins.isMaxAdCount()) &&\n              _idx.platform.reportEvent(_idx.ERepEvt.raceReview, {way: t});\n    };\n    e.prototype.onClose = function () {\n        this.hideThis();\n        this.closeCb();\n    };\n    e.prototype.hideThis = function () {\n        this.hide();\n    };\n    __decorate([f(cc.Label)], e.prototype, \"curConsLbls\", void 0);\n    __decorate([f(cc.Label)], e.prototype, \"restLifeLbls\", void 0);\n    __decorate([f(cc.Label)], e.prototype, \"needGoldLbl\", void 0);\n    __decorate([f(cc.Node)], e.prototype, \"normalNode\", void 0);\n    __decorate([f(cc.Node)], e.prototype, \"adNode\", void 0);\n    return __decorate([h], e);\n})(_baseUI.default);\nexports.default = g;\n"]}