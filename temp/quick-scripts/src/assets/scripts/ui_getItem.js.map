{"version":3,"sources":["assets\\scripts\\ui_getItem.js"],"names":["n","Object","defineProperty","exports","value","_idx","require","_res","_cfgMgr","_lang","_bagMgr","_panelMgr","_tipMgr","_pInfo","_baseUI","g","cc","_decorator","y","ccclass","m","property","v","t","e","apply","arguments","typeSps","getBtnNode","adGetBtn","needGoldLbl","getNumLbl","getNum2Lbl","tipLbl","adNormal","adGray","nowGold","__extends","prototype","init","o","itemId","cb","i","closeCb","r","gType","getCb","a","serverCfg","l","data","u","p","node","active","d","props","set","string","ins","getCoin","f","getTicketAdTimes","qw_line_rules","rules","times","ad_times","max_val","ticketIsMax","normalGet","adGet","val","enabled","length","_","key","needGold","price","ad_to_nums","title","b","w","S","k","daily_limit_times","Number","T","getJigsawAdTimes","I","D","P","R","getNewJigAdTimes","N","C","O","M","L","A","x","getBundleByString","then","load","SpriteFrame","isValid","forEach","spriteFrame","console","error","initAdDotEvent","gemeTypeKey","adDotData","reportKey","hideThis","hide","call","onGet","open","useTo","getCoinFor","Item","getItem","buyEventDot","onAdGet","showTip","isMaxAdCount","platform","reportEvent","ERepEvt","buyItem","way","gameType","parent","convertToWorldSpaceAR","position","itemDatas","worldPos","hideCb","addTicketAdTimes","addItem","addCoin","addJigsawAdTimes","addNewJigAdTimes","__decorate","Sprite","Node","Button","Label"],"mappings":"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","sourceRoot":"/","sourcesContent":["var n;\nObject.defineProperty(exports, \"__esModule\", {value: !0});\nvar _idx = require(\"idx\");\nvar _res = require(\"res\");\nvar _cfgMgr = require(\"cfgMgr\");\nvar _lang = require(\"lang\");\nvar _bagMgr = require(\"bagMgr\");\nvar _panelMgr = require(\"panelMgr\");\nvar _tipMgr = require(\"tipMgr\");\nvar _pInfo = require(\"pInfo\");\nvar _baseUI = require(\"baseUI\");\nvar g = cc._decorator;\nvar y = g.ccclass;\nvar m = g.property;\nvar v = (function (t) {\n    function e() {\n        var e = (null !== t && t.apply(this, arguments)) || this;\n        e.typeSps = [];\n        e.getBtnNode = null;\n        e.adGetBtn = null;\n        e.needGoldLbl = null;\n        e.getNumLbl = null;\n        e.getNum2Lbl = null;\n        e.tipLbl = null;\n        e.adNormal = null;\n        e.adGray = null;\n        e.nowGold = null;\n        return e;\n    }\n    __extends(e, t);\n    e.prototype.init = function (t) {\n        var e = this;\n        var o = t.itemId;\n        var n = t.cb;\n        var i = t.closeCb;\n        var r = t.gType;\n        this.gType = r;\n        this.itemId = o;\n        this.getCb = n;\n        this.closeCb = i;\n        var a = _cfgMgr.default.serverCfg;\n        var l = (this.data = {});\n        var u = \"道具\";\n        var p = \"\";\n        this.tipLbl.node.active = !1;\n        this.adNormal.active = !0;\n        this.adGray.active = !1;\n        var d = a.props.set;\n        switch (((this.nowGold.string = _pInfo.default.ins.getCoin() + \"\"), o)) {\n            case \"qw_line_ticket\":\n                var f = _pInfo.default.ins.getTicketAdTimes(),\n                    g = a.qw_line_rules.rules.times.set.ad_times,\n                    y = g.max_val;\n                (this.ticketIsMax = f >= y),\n                    (l.normalGet = l.adGet = g.val),\n                    (u = \"挑战券\"),\n                    (this.tipLbl.node.active = !0),\n                    (this.tipLbl.string = \"今日剩余\" + (y - f) + \"次\"),\n                    this.ticketIsMax\n                        ? ((this.adGetBtn.enabled = !1), (this.adNormal.active = !1), (this.adGray.active = !0))\n                        : ((this.adGetBtn.enabled = !0), (this.adNormal.active = !0), (this.adGray.active = !1)),\n                    (p = \"购买\" + u);\n                break;\n            case \"notice\":\n            case \"random_notice\":\n            case \"full_row_col\":\n                for (var m = 0, v = d; m < v.length; m++) {\n                    var _ = v[m];\n                    if (_.key == o) {\n                        l.needGold = _.price;\n                        l.normalGet = l.adGet = _.ad_to_nums;\n                        u = _.title;\n                        break;\n                    }\n                }\n                p = \"购买\" + u;\n                break;\n            case \"puzzle_pieces\":\n                for (var b = 5, w = 0, S = d; w < S.length; w++)\n                    if ((k = S[w]).key == o) {\n                        l.needGold = k.price;\n                        l.normalGet = l.adGet = k.ad_to_nums;\n                        u = k.title;\n                        k.daily_limit_times && (b = Number(k.daily_limit_times) || 5);\n                        break;\n                    }\n                var T = _pInfo.default.ins.getJigsawAdTimes();\n                (this.ticketIsMax = T >= b),\n                    (this.tipLbl.node.active = !0),\n                    (this.tipLbl.string = \"今日剩余\" + (b - T) + \"次\"),\n                    this.ticketIsMax\n                        ? ((this.adGetBtn.enabled = !1), (this.adNormal.active = !1), (this.adGray.active = !0))\n                        : ((this.adGetBtn.enabled = !0), (this.adNormal.active = !0), (this.adGray.active = !1)),\n                    (p = \"拼图碎片用于拼图玩法，\\n可以通过每日任务及主线关卡获得。\");\n                break;\n            case \"newYear_pieces\":\n                for (var I = 5, D = 0, P = d; D < P.length; D++) {\n                    var k;\n                    if ((k = P[D]).key == o) {\n                        l.needGold = k.price;\n                        l.normalGet = l.adGet = k.ad_to_nums;\n                        u = k.title;\n                        k.daily_limit_times && (I = Number(k.daily_limit_times) || 5);\n                        break;\n                    }\n                }\n                (l.needGold = 0), (l.normalGet = l.adGet = 5), (u = \"新春拼图碎片\");\n                var R = _pInfo.default.ins.getNewJigAdTimes();\n                (this.ticketIsMax = R >= I),\n                    (this.tipLbl.node.active = !0),\n                    (this.tipLbl.string = \"今日剩余\" + (I - R) + \"次\"),\n                    this.ticketIsMax\n                        ? ((this.adGetBtn.enabled = !1), (this.adNormal.active = !1), (this.adGray.active = !0))\n                        : ((this.adGetBtn.enabled = !0), (this.adNormal.active = !0), (this.adGray.active = !1)),\n                    (p = \"新春活动获取\");\n                break;\n            case \"puzzle_notice\":\n                for (var N = 0, C = d; N < C.length; N++) {\n                    var O = C[N];\n                    if (O.key == o) {\n                        l.needGold = O.price;\n                        l.normalGet = l.adGet = O.ad_to_nums;\n                        u = O.title;\n                        break;\n                    }\n                }\n                p = \"使用提示可以随机拼好一个碎片。\";\n                break;\n            case \"puzzle_background\":\n                for (var M = 0, L = d; M < L.length; M++) {\n                    var A = L[M];\n                    if (A.key == o) {\n                        l.needGold = A.price;\n                        l.normalGet = l.adGet = A.ad_to_nums;\n                        u = A.title;\n                        break;\n                    }\n                }\n                p = \"开启背景可获得一定时间的背景显示。\";\n        }\n        l.needGold\n            ? (this.needGoldLbl.string = l.needGold + \"\")\n            : ((this.getBtnNode.active = !1), (this.adGetBtn.node.x = 0));\n        this.getNumLbl.string = \"x\" + l.normalGet;\n        this.getNum2Lbl.string = p;\n        _res.default.ins\n            .getBundleByString(\"resSps\")\n            .then(function (t) {\n                t.load(\"item/\" + o, cc.SpriteFrame, function (t, o) {\n                    !t &&\n                        e.node &&\n                        e.node.isValid &&\n                        e.typeSps.forEach(function (t) {\n                            t.spriteFrame = o;\n                        });\n                });\n            })\n            .catch(function (t) {\n                console.error(\"RTool.ins.getBundleByString('resSps')\", t);\n            });\n        this.initAdDotEvent();\n    };\n    e.prototype.initAdDotEvent = function () {\n        var t = \"拼图\";\n        _lang.gemeTypeKey[this.gType] && (t = _lang.gemeTypeKey[this.gType]);\n        this.adGetBtn.node.adDotData = t + \"-道具-\" + _lang.reportKey[this.itemId];\n    };\n    e.prototype.hideThis = function () {\n        this.hide();\n    };\n    e.prototype.hide = function () {\n        var e;\n        null === (e = this.closeCb) || void 0 === e || e.call(this);\n        return t.prototype.hide.call(this);\n    };\n    e.prototype.onGet = function () {\n        _pInfo.default.ins.getCoin() < this.data.needGold\n            ? _panelMgr.default.ins.open(\"ui/ui_getRes\", {\n                  itemId: \"coin\",\n                  gType: this.gType,\n                  useTo: _lang.getCoinFor.Item\n              })\n            : (this.getItem(!1), this.buyEventDot(\"使用元宝\"));\n    };\n    e.prototype.onAdGet = function () {\n        this.ticketIsMax ? _tipMgr.default.ins.showTip(\"今日已达上限\") : (this.getItem(!0), this.buyEventDot(\"看广告\"));\n    };\n    e.prototype.buyEventDot = function (t) {\n        var e = \"拼图\";\n        _lang.gemeTypeKey[this.gType] && (e = _lang.gemeTypeKey[this.gType]);\n        !_pInfo.default.ins.isMaxAdCount() &&\n            _idx.platform.reportEvent(_idx.ERepEvt.buyItem, {\n                way: t,\n                gameType: e,\n                itemId: _lang.reportKey[this.itemId]\n            });\n    };\n    e.prototype.getItem = function (t) {\n        var e = this;\n        var o = this.data;\n        var n = t ? o.normalGet : o.adGet;\n        var i = this.typeSps[0].node;\n        var r = i.parent.convertToWorldSpaceAR(i.position);\n        _panelMgr.default.ins.open(\"ui/ui_flyAni\", {\n            itemDatas: [{itemId: this.itemId, worldPos: r, value: n}],\n            hideCb: function () {\n                var o;\n                switch (e.itemId) {\n                    case \"qw_line_ticket\":\n                        _pInfo.default.ins.addTicketAdTimes(), _bagMgr.default.ins.addItem(e.itemId, n);\n                        break;\n                    case \"notice\":\n                    case \"random_notice\":\n                    case \"full_row_col\":\n                        _bagMgr.default.ins.addItem(e.itemId, n), t || _pInfo.default.ins.addCoin(-e.data.needGold);\n                        break;\n                    case \"puzzle_pieces\":\n                        _pInfo.default.ins.addJigsawAdTimes(), _bagMgr.default.ins.addItem(e.itemId, n);\n                        break;\n                    case \"newYear_pieces\":\n                        _pInfo.default.ins.addNewJigAdTimes(), _bagMgr.default.ins.addItem(e.itemId, n);\n                        break;\n                    case \"puzzle_notice\":\n                    case \"puzzle_background\":\n                        _bagMgr.default.ins.addItem(e.itemId, n);\n                }\n                null === (o = e.getCb) || void 0 === o || o.call(e);\n                e.hideThis();\n            }\n        });\n    };\n    __decorate([m([cc.Sprite])], e.prototype, \"typeSps\", void 0);\n    __decorate([m(cc.Node)], e.prototype, \"getBtnNode\", void 0);\n    __decorate([m(cc.Button)], e.prototype, \"adGetBtn\", void 0);\n    __decorate([m(cc.Label)], e.prototype, \"needGoldLbl\", void 0);\n    __decorate([m(cc.Label)], e.prototype, \"getNumLbl\", void 0);\n    __decorate([m(cc.Label)], e.prototype, \"getNum2Lbl\", void 0);\n    __decorate([m(cc.Label)], e.prototype, \"tipLbl\", void 0);\n    __decorate([m(cc.Node)], e.prototype, \"adNormal\", void 0);\n    __decorate([m(cc.Node)], e.prototype, \"adGray\", void 0);\n    __decorate([m(cc.Label)], e.prototype, \"nowGold\", void 0);\n    return __decorate([y], e);\n})(_baseUI.default);\nexports.default = v;\n"]}