{"version":3,"sources":["assets\\scripts\\ui_getRes.js"],"names":["n","Object","defineProperty","exports","value","_evts","require","_idx","_res","_uData","_cfgMgr","_lang","_item","_bagMgr","_panelMgr","_tipMgr","_pInfo","_baseUI","v","cc","_decorator","_","ccclass","b","property","w","t","e","apply","arguments","typeSps","iconSps","titleLb","iconSpr","proNodes","tarNodes","getLbs","tarNums","adNode","giftNode","packNode","doubleNode","packItems","priceLb","eventFunc","shopData","isDouble","__extends","prototype","init","o","itemId","cb","i","gType","r","useTo","active","closeCb","a","s","serverCfg","d","data","string","spriteFrame","h","ins","getPowerAdTimes","f","getIsNewUser","times","forUser","new_user","rules","level","all","g","normalGet","adGet","val","adDotData","m","getCoinAdTimes","ad_coin_rules","gemeTypeKey","getBundleByString","then","load","SpriteFrame","node","isValid","forEach","sp","SkeletonData","Node","addComponent","Skeleton","skeletonData","animation","parent","console","error","initPack","hideThis","call","hide","buy_stamina","stamina","buy_gold_coins","gold_coins","key","getShopUnreset","c","l","props","p","Number","initByData","price","onAdGet","getItem","addPower","addPowerAdTimes","isMaxAdCount","platform","reportEvent","ERepEvt","buyTimes","addCoin","addCoinAdTimes","buyCoins","convertToWorldSpaceAR","position","open","itemDatas","worldPos","hideCb","opE","emit","action","POWER_CHG","COIN_CHG","onDestroy","assetManager","releaseAsset","onBtnBuy","JSON","stringify","susPayment","payment","addItem","push","addShopUnreset","paymentResult","success","showTip","onBtnShop","MAINJUMP","UPD_MAIN_RED","__decorate","Sprite","Label"],"mappings":"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","sourceRoot":"/","sourcesContent":["var n;\nObject.defineProperty(exports, \"__esModule\", {value: !0});\nvar _evts = require(\"evts\");\nvar _idx = require(\"idx\");\nvar _res = require(\"res\");\nvar _uData = require(\"uData\");\nvar _cfgMgr = require(\"cfgMgr\");\nvar _lang = require(\"lang\");\nvar _item = require(\"item\");\nvar _bagMgr = require(\"bagMgr\");\nvar _panelMgr = require(\"panelMgr\");\nvar _tipMgr = require(\"tipMgr\");\nvar _pInfo = require(\"pInfo\");\nvar _baseUI = require(\"baseUI\");\nvar v = cc._decorator;\nvar _ = v.ccclass;\nvar b = v.property;\nvar w = (function (t) {\n    function e() {\n        var e = (null !== t && t.apply(this, arguments)) || this;\n        e.typeSps = [];\n        e.iconSps = [];\n        e.titleLb = null;\n        e.iconSpr = null;\n        e.proNodes = [];\n        e.tarNodes = [];\n        e.getLbs = [];\n        e.tarNums = [];\n        e.adNode = null;\n        e.giftNode = null;\n        e.packNode = null;\n        e.doubleNode = null;\n        e.packItems = [];\n        e.priceLb = null;\n        e.eventFunc = null;\n        e.shopData = null;\n        e.isDouble = !1;\n        return e;\n    }\n    __extends(e, t);\n    e.prototype.init = function (t) {\n        var e = this;\n        var o = t.itemId;\n        var n = t.cb;\n        var i = t.gType;\n        var r = t.useTo;\n        this.tarNodes[0].active = !1;\n        this.tarNodes[1].active = !1;\n        this.tarNodes[2].active = !1;\n        this.itemId = o;\n        this.closeCb = n;\n        var a = r || \"\";\n        var s = _cfgMgr.default.serverCfg;\n        var d = (this.data = {});\n        switch (o) {\n            case \"times\":\n                (this.titleLb.string = \"体力不足\"), (this.iconSpr.spriteFrame = this.iconSps[1]);\n                var h = _pInfo.default.ins.getPowerAdTimes(),\n                    f = _uData.default.ins.getIsNewUser()\n                        ? s.times.forUser.new_user.rules.level\n                        : s.times.forUser.all.rules.level,\n                    g = f[h];\n                (d.normalGet = d.adGet = g.rules.val),\n                    (this.proNodes[1].active = !1),\n                    (this.getLbs[0].string = \"+\" + f[0].rules.val),\n                    (this.getLbs[2].string = \"+\" + f[1].rules.val),\n                    (this.tarNums[0].string = h + \"/1\"),\n                    (this.tarNums[2].string = h + \"/2\"),\n                    1 === h && (this.tarNodes[0].active = !0),\n                    (this.adNode.adDotData = \"主线-体力\");\n                break;\n            case \"coin\":\n                (this.titleLb.string = \"元宝不足\"), (this.iconSpr.spriteFrame = this.iconSps[0]);\n                var m = _pInfo.default.ins.getCoinAdTimes(),\n                    v = s.ad_coin_rules.rules.level,\n                    _ = v[m];\n                d.normalGet = d.adGet = _.rules.val;\n                for (var b = 0; b < 3; b++)\n                    (this.proNodes[b].active = !0),\n                        (this.getLbs[b].string = \"+\" + v[b].rules.val),\n                        m > b\n                            ? ((this.tarNums[b].string = b + 1 + \"/\" + (b + 1)), (this.tarNodes[b].active = !0))\n                            : (this.tarNums[b].string = m + \"/\" + (b + 1));\n                var w = \"主线\";\n                _lang.gemeTypeKey[i] && (w = _lang.gemeTypeKey[i]), (this.adNode.adDotData = w + \"-元宝-\" + a);\n        }\n        _res.default.ins\n            .getBundleByString(\"resSps\")\n            .then(function (t) {\n                t.load(\"item/\" + o, cc.SpriteFrame, function (t, o) {\n                    !t &&\n                        e.node &&\n                        e.node.isValid &&\n                        e.typeSps.forEach(function (t) {\n                            t.spriteFrame = o;\n                        });\n                }),\n                    t.load(\"spine/light/action\", sp.SkeletonData, function (t, o) {\n                        if (!t && e.node && e.node.isValid) {\n                            var n = new cc.Node();\n                            var i = n.addComponent(sp.Skeleton);\n                            (i.skeletonData = o), (i.animation = \"animation\"), (n.parent = e.iconSpr.node);\n                        }\n                    });\n            })\n            .catch(function (t) {\n                console.error(\"RTool.ins.getBundleByString('resSps')\", t);\n            });\n        this.initPack();\n    };\n    e.prototype.hideThis = function () {\n        var t;\n        null === (t = this.closeCb) || void 0 === t || t.call(this);\n        this.hide();\n    };\n    e.prototype.initPack = function () {\n        var t;\n        var e;\n        var o = _cfgMgr.default.serverCfg;\n        var n = (\n            \"times\" === this.itemId\n                ? null === (t = null == o ? void 0 : o.buy_stamina) || void 0 === t\n                    ? void 0\n                    : t.stamina\n                : null === (e = null == o ? void 0 : o.buy_gold_coins) || void 0 === e\n                ? void 0\n                : e.gold_coins\n        )[\"times\" === this.itemId ? \"times2\" : \"coin7\"];\n        if (n) {\n            this.packNode.active = !0;\n            this.shopData = n;\n            var i = n.key;\n            var r = _pInfo.default.ins.getShopUnreset();\n            var a = n.double || 0;\n            var s = r[i] || 0;\n            var c = (this.isDouble = this.doubleNode.active = s < a);\n            this.packItems.forEach(function (t) {\n                t.node.active = !0;\n            });\n            var l = n.props;\n            for (var p in l) {\n                var d = Number(l[p]);\n                c\n                    ? (this.packItems[0].initByData(p, 2 * d),\n                      this.packItems[1].initByData(p, d),\n                      this.packItems[2].initByData(p, d))\n                    : (this.packItems[0].initByData(p, d),\n                      this.packItems[1].initByData(p, d),\n                      (this.packItems[2].node.active = !1));\n            }\n            this.priceLb.string = \"¥\" + n.price;\n        } else this.packNode.active = !1;\n    };\n    e.prototype.onAdGet = function () {\n        this.getItem(!0);\n    };\n    e.prototype.getItem = function (t) {\n        this.tarNodes[0].active = !1;\n        this.tarNodes[1].active = !1;\n        this.tarNodes[2].active = !1;\n        var e = this.data;\n        var o = t ? e.normalGet : e.adGet;\n        var n = _pInfo.default.ins;\n        var i = _cfgMgr.default.serverCfg;\n        switch (this.itemId) {\n            case \"times\":\n                n.addPower(o, !1), n.addPowerAdTimes(), (this.proNodes[1].active = !1);\n                var r = _uData.default.ins.getIsNewUser()\n                        ? i.times.forUser.new_user.rules.level\n                        : i.times.forUser.all.rules.level,\n                    c = n.getPowerAdTimes(),\n                    p = r[c];\n                (e.normalGet = e.adGet = p.rules.val),\n                    1 === c\n                        ? ((this.tarNodes[0].active = !0),\n                          (this.tarNums[0].string = c + \"/1\"),\n                          (this.tarNums[2].string = c + \"/2\"))\n                        : 0 === c &&\n                          ((this.tarNodes[0].active = !0),\n                          (this.tarNodes[2].active = !0),\n                          (this.tarNums[0].string = \"1/1\"),\n                          (this.tarNums[2].string = \"2/2\")),\n                    !_pInfo.default.ins.isMaxAdCount() && _idx.platform.reportEvent(_idx.ERepEvt.buyTimes);\n                break;\n            case \"coin\":\n                n.addCoin(o, !1), n.addCoinAdTimes();\n                var d = _pInfo.default.ins.getCoinAdTimes(),\n                    h = i.ad_coin_rules.rules.level[d];\n                e.normalGet = e.adGet = h.rules.val;\n                for (var g = 0; g < 3; g++)\n                    (this.proNodes[g].active = !0),\n                        d > g\n                            ? ((this.tarNums[g].string = g + 1 + \"/\" + (g + 1)), (this.tarNodes[g].active = !0))\n                            : (this.tarNums[g].string = d + \"/\" + (g + 1));\n                !_pInfo.default.ins.isMaxAdCount() && _idx.platform.reportEvent(_idx.ERepEvt.buyCoins);\n        }\n        var m = this.iconSpr.node;\n        var v = m.parent.convertToWorldSpaceAR(m.position);\n        _panelMgr.default.ins.open(\"ui/ui_flyAni\", {\n            itemDatas: [{itemId: this.itemId, worldPos: v, value: o}],\n            hideCb: function () {\n                _evts.default.opE.emit({action: _evts.default.POWER_CHG});\n                _evts.default.opE.emit({action: _evts.default.COIN_CHG});\n            }\n        });\n    };\n    e.prototype.onDestroy = function () {\n        cc.assetManager.releaseAsset(this.iconSpr.spriteFrame);\n    };\n    e.prototype.onBtnBuy = function () {\n        var t = this;\n        if (this.shopData) {\n            var e = this.isDouble ? 1 : 0;\n            var o = this.shopData.props;\n            var n = JSON.stringify(this.shopData.props);\n            _idx.platform.reportEvent(_idx.ERepEvt.susPayment, {key: this.shopData.key});\n            _idx.platform\n                .payment(this.shopData.key, this.shopData.price, e, n)\n                .then(function () {\n                    var e = [];\n                    for (var n in o) {\n                        var i = o[n];\n                        t.isDouble && (i *= 2);\n                        _bagMgr.default.ins.addItem(n, i);\n                        var r = {};\n                        r.itemId = n;\n                        r.worldPos = t.packItems[0].node.parent.convertToWorldSpaceAR(t.packItems[0].node.position);\n                        r.value = i;\n                        e.push(r);\n                    }\n                    _panelMgr.default.ins.open(\"ui/ui_flyAni\", {itemDatas: e});\n                    _pInfo.default.ins.addShopUnreset(t.shopData.key);\n                    t.initPack();\n                    _idx.platform.reportEvent(_idx.ERepEvt.paymentResult, {key: t.shopData.key, success: 1});\n                })\n                .catch(function (e) {\n                    _tipMgr.default.ins.showTip(e, !0);\n                    _idx.platform.reportEvent(_idx.ERepEvt.paymentResult, {key: t.shopData.key, success: 0});\n                });\n        }\n    };\n    e.prototype.onBtnShop = function () {\n        this.hideThis();\n        _evts.default.opE.emit({action: _evts.default.MAINJUMP, data: 0});\n        _panelMgr.default.ins.open(\"ui/ui_shopPack\", null).then(function () {\n            _evts.default.opE.emit({action: _evts.default.UPD_MAIN_RED});\n        });\n    };\n    __decorate([b([cc.Sprite])], e.prototype, \"typeSps\", void 0);\n    __decorate([b([cc.SpriteFrame])], e.prototype, \"iconSps\", void 0);\n    __decorate([b(cc.Label)], e.prototype, \"titleLb\", void 0);\n    __decorate([b(cc.Sprite)], e.prototype, \"iconSpr\", void 0);\n    __decorate([b([cc.Node])], e.prototype, \"proNodes\", void 0);\n    __decorate([b([cc.Node])], e.prototype, \"tarNodes\", void 0);\n    __decorate([b([cc.Label])], e.prototype, \"getLbs\", void 0);\n    __decorate([b([cc.Label])], e.prototype, \"tarNums\", void 0);\n    __decorate([b(cc.Node)], e.prototype, \"adNode\", void 0);\n    __decorate([b(cc.Node)], e.prototype, \"giftNode\", void 0);\n    __decorate([b(cc.Node)], e.prototype, \"packNode\", void 0);\n    __decorate([b(cc.Node)], e.prototype, \"doubleNode\", void 0);\n    __decorate([b([_item.default])], e.prototype, \"packItems\", void 0);\n    __decorate([b(cc.Label)], e.prototype, \"priceLb\", void 0);\n    return __decorate([_], e);\n})(_baseUI.default);\nexports.default = w;\n"]}