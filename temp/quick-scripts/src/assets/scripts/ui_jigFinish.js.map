{"version":3,"sources":["assets\\scripts\\ui_jigFinish.js"],"names":["n","Object","defineProperty","exports","value","_evts","require","_res","_global","_jigsawMgr","_newJigMgr","_panelMgr","_baseUI","h","cc","_decorator","f","ccclass","g","property","y","t","e","apply","arguments","finishSpr","lightNode","__extends","prototype","onLoad","tween","by","angle","repeatForever","start","init","o","themeId","themeType","i","r","ins","getBundleByString","then","load","SpriteFrame","node","isValid","spriteFrame","console","error","assetManager","loadRemote","OssConfig","jigswawUrl","ext","headImgExt","hideThis","hide","onBtnBack","closeAllPanel","opE","emit","action","MAINJUMP","data","UPDJIGSAWGAME","onBtnNext","__decorate","Sprite","Node"],"mappings":";;;;;;AAAA,IAAIA,CAAJ;AACAC,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;EAAEC,KAAK,EAAE,CAAC;AAAV,CAA7C;;AACA,IAAIC,KAAK,GAAGC,OAAO,CAAC,MAAD,CAAnB;;AACA,IAAIC,IAAI,GAAGD,OAAO,CAAC,KAAD,CAAlB;;AACA,IAAIE,OAAO,GAAGF,OAAO,CAAC,QAAD,CAArB;;AACA,IAAIG,UAAU,GAAGH,OAAO,CAAC,WAAD,CAAxB;;AACA,IAAII,UAAU,GAAGJ,OAAO,CAAC,WAAD,CAAxB;;AACA,IAAIK,SAAS,GAAGL,OAAO,CAAC,UAAD,CAAvB;;AACA,IAAIM,OAAO,GAAGN,OAAO,CAAC,QAAD,CAArB;;AACA,IAAIO,CAAC,GAAGC,EAAE,CAACC,UAAX;AACA,IAAIC,CAAC,GAAGH,CAAC,CAACI,OAAV;AACA,IAAIC,CAAC,GAAGL,CAAC,CAACM,QAAV;;AACA,IAAIC,CAAC,GAAI,UAASC,CAAT,EAAY;EACjB,SAASC,CAAT,GAAa;IACT,IAAIA,CAAC,GAAI,SAASD,CAAT,IAAcA,CAAC,CAACE,KAAF,CAAQ,IAAR,EAAcC,SAAd,CAAf,IAA4C,IAApD;IACAF,CAAC,CAACG,SAAF,GAAc,IAAd;IACAH,CAAC,CAACI,SAAF,GAAc,IAAd;IACA,OAAOJ,CAAP;EACH;;EACDK,SAAS,CAACL,CAAD,EAAID,CAAJ,CAAT;;EACAC,CAAC,CAACM,SAAF,CAAYC,MAAZ,GAAqB,YAAW;IAC5Bf,EAAE,CAACgB,KAAH,CAAS,KAAKJ,SAAd,EAAyBK,EAAzB,CAA4B,CAA5B,EAA+B;MAAEC,KAAK,EAAE,CAAC;IAAV,CAA/B,EAAgDC,aAAhD,GAAgEC,KAAhE;EACH,CAFD;;EAGAZ,CAAC,CAACM,SAAF,CAAYO,IAAZ,GAAmB,UAASd,CAAT,EAAY;IAC3B,IAAIC,CAAC,GAAG,IAAR;IACA,IAAIc,CAAC,GAAGf,CAAC,CAACgB,OAAV;IACA,IAAIrC,CAAC,GAAGqB,CAAC,CAACiB,SAAV;IACA,IAAIC,CAAC,GAAGH,CAAC,GAAG,CAAZ;IACA,IAAII,CAAC,GAAG,WAAWD,CAAnB;IACA,MAAMvC,CAAN,GAAUS,UAAU,WAAV,CAAmBgC,GAA7B,GAAmC,MAAMzC,CAAN,KAAYU,UAAU,WAAV,CAAmB+B,GAAnB,EAAyBD,CAAC,GAAG,SAASD,CAAlD,CAAnC;IACA,MAAMvC,CAAN,GACIuC,CAAC,GAAG,EAAJ,GACAhC,IAAI,WAAJ,CAAakC,GAAb,CACCC,iBADD,CACmB,QADnB,EAECC,IAFD,CAEM,UAAStB,CAAT,EAAY;MACdA,CAAC,CAACuB,IAAF,CAAOJ,CAAP,EAAU1B,EAAE,CAAC+B,WAAb,EAA0B,UAASxB,CAAT,EAAYe,CAAZ,EAAe;QACrC,CAACf,CAAD,IAAMC,CAAC,CAACwB,IAAR,IAAgBxB,CAAC,CAACwB,IAAF,CAAOC,OAAvB,KAAmCzB,CAAC,CAACG,SAAF,CAAYuB,WAAZ,GAA0BZ,CAA7D;MACH,CAFD;IAGH,CAND,WAOO,UAASf,CAAT,EAAY;MACf4B,OAAO,CAACC,KAAR,CAAc,uCAAd,EAAuD7B,CAAvD;IACH,CATD,CADA,GAWAP,EAAE,CAACqC,YAAH,CAAgBC,UAAhB,CACI5C,OAAO,CAAC6C,SAAR,CAAkBC,UAAlB,GAA+Bd,CAA/B,GAAmC,MADvC,EAC+C;MAAEe,GAAG,EAAE/C,OAAO,CAACgD;IAAf,CAD/C,EAEI,UAASnC,CAAT,EAAYe,CAAZ,EAAe;MACX,CAACf,CAAD,IAAMC,CAAC,CAACwB,IAAR,IAAgBxB,CAAC,CAACwB,IAAF,CAAOC,OAAvB,KAAmCzB,CAAC,CAACG,SAAF,CAAYuB,WAAZ,GAA0B,IAAIlC,EAAE,CAAC+B,WAAP,CAAmBT,CAAnB,CAA7D;IACH,CAJL,CAZJ,GAkBI7B,IAAI,WAAJ,CAAakC,GAAb,CACCC,iBADD,CACmB,QADnB,EAECC,IAFD,CAEM,UAAStB,CAAT,EAAY;MACdA,CAAC,CAACuB,IAAF,CAAOJ,CAAP,EAAU1B,EAAE,CAAC+B,WAAb,EAA0B,UAASxB,CAAT,EAAYe,CAAZ,EAAe;QACrC,CAACf,CAAD,IAAMC,CAAC,CAACwB,IAAR,IAAgBxB,CAAC,CAACwB,IAAF,CAAOC,OAAvB,KAAmCzB,CAAC,CAACG,SAAF,CAAYuB,WAAZ,GAA0BZ,CAA7D;MACH,CAFD;IAGH,CAND,WAOO,UAASf,CAAT,EAAY;MACf4B,OAAO,CAACC,KAAR,CAAc,uCAAd,EAAuD7B,CAAvD;IACH,CATD,CAlBJ;EA4BH,CAnCD;;EAoCAC,CAAC,CAACM,SAAF,CAAY6B,QAAZ,GAAuB,YAAW;IAC9B,KAAKC,IAAL;EACH,CAFD;;EAGApC,CAAC,CAACM,SAAF,CAAY+B,SAAZ,GAAwB,YAAW;IAC/BhD,SAAS,WAAT,CAAkB8B,GAAlB,CAAsBmB,aAAtB;;IACAvD,KAAK,WAAL,CAAcwD,GAAd,CAAkBC,IAAlB,CAAuB;MAAEC,MAAM,EAAE1D,KAAK,WAAL,CAAc2D,QAAxB;MAAkCC,IAAI,EAAE;IAAxC,CAAvB;;IACA5D,KAAK,WAAL,CAAcwD,GAAd,CAAkBC,IAAlB,CAAuB;MAAEC,MAAM,EAAE1D,KAAK,WAAL,CAAc6D;IAAxB,CAAvB;EACH,CAJD;;EAKA5C,CAAC,CAACM,SAAF,CAAYuC,SAAZ,GAAwB,YAAW;IAC/BxD,SAAS,WAAT,CAAkB8B,GAAlB,CAAsBmB,aAAtB;;IACAvD,KAAK,WAAL,CAAcwD,GAAd,CAAkBC,IAAlB,CAAuB;MAAEC,MAAM,EAAE1D,KAAK,WAAL,CAAc6D;IAAxB,CAAvB;EACH,CAHD;;EAIAE,UAAU,CAAC,CAAClD,CAAC,CAACJ,EAAE,CAACuD,MAAJ,CAAF,CAAD,EAAiB/C,CAAC,CAACM,SAAnB,EAA8B,WAA9B,EAA2C,KAAK,CAAhD,CAAV;;EACAwC,UAAU,CAAC,CAAClD,CAAC,CAACJ,EAAE,CAACwD,IAAJ,CAAF,CAAD,EAAehD,CAAC,CAACM,SAAjB,EAA4B,WAA5B,EAAyC,KAAK,CAA9C,CAAV;;EACA,OAAOwC,UAAU,CAAC,CAACpD,CAAD,CAAD,EAAMM,CAAN,CAAjB;AACH,CA9DO,CA8DLV,OAAO,WA9DF,CAAR;;AA+DAT,OAAO,WAAP,GAAkBiB,CAAlB","sourceRoot":"/","sourcesContent":["var n;\nObject.defineProperty(exports, \"__esModule\", { value: !0 });\nvar _evts = require(\"evts\");\nvar _res = require(\"res\");\nvar _global = require(\"global\");\nvar _jigsawMgr = require(\"jigsawMgr\");\nvar _newJigMgr = require(\"newJigMgr\");\nvar _panelMgr = require(\"panelMgr\");\nvar _baseUI = require(\"baseUI\");\nvar h = cc._decorator;\nvar f = h.ccclass;\nvar g = h.property;\nvar y = (function(t) {\n    function e() {\n        var e = (null !== t && t.apply(this, arguments)) || this;\n        e.finishSpr = null;\n        e.lightNode = null;\n        return e;\n    }\n    __extends(e, t);\n    e.prototype.onLoad = function() {\n        cc.tween(this.lightNode).by(3, { angle: -360 }).repeatForever().start();\n    };\n    e.prototype.init = function(t) {\n        var e = this;\n        var o = t.themeId;\n        var n = t.themeType;\n        var i = o + 1;\n        var r = \"pintu_\" + i;\n        1 === n ? _jigsawMgr.default.ins : 2 === n && (_newJigMgr.default.ins, (r = \"fes_\" + i));\n        1 === n ?\n            i < 61 ?\n            _res.default.ins\n            .getBundleByString(\"jigsaw\")\n            .then(function(t) {\n                t.load(r, cc.SpriteFrame, function(t, o) {\n                    !t && e.node && e.node.isValid && (e.finishSpr.spriteFrame = o);\n                });\n            })\n            .catch(function(t) {\n                console.error(\"RTool.ins.getBundleByString('jigsaw')\", t);\n            }) :\n            cc.assetManager.loadRemote(\n                _global.OssConfig.jigswawUrl + r + \".jpg\", { ext: _global.headImgExt },\n                function(t, o) {\n                    !t && e.node && e.node.isValid && (e.finishSpr.spriteFrame = new cc.SpriteFrame(o));\n                }\n            ) :\n            _res.default.ins\n            .getBundleByString(\"jigsaw\")\n            .then(function(t) {\n                t.load(r, cc.SpriteFrame, function(t, o) {\n                    !t && e.node && e.node.isValid && (e.finishSpr.spriteFrame = o);\n                });\n            })\n            .catch(function(t) {\n                console.error(\"RTool.ins.getBundleByString('jigsaw')\", t);\n            });\n    };\n    e.prototype.hideThis = function() {\n        this.hide();\n    };\n    e.prototype.onBtnBack = function() {\n        _panelMgr.default.ins.closeAllPanel();\n        _evts.default.opE.emit({ action: _evts.default.MAINJUMP, data: 2 });\n        _evts.default.opE.emit({ action: _evts.default.UPDJIGSAWGAME });\n    };\n    e.prototype.onBtnNext = function() {\n        _panelMgr.default.ins.closeAllPanel();\n        _evts.default.opE.emit({ action: _evts.default.UPDJIGSAWGAME });\n    };\n    __decorate([g(cc.Sprite)], e.prototype, \"finishSpr\", void 0);\n    __decorate([g(cc.Node)], e.prototype, \"lightNode\", void 0);\n    return __decorate([f], e);\n})(_baseUI.default);\nexports.default = y;"]}