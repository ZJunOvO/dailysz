# 🧪 功能测试指南

## 🚀 启动测试

### 桌面端测试
1. 直接双击打开 `index.html` 文件
2. 或者在浏览器中输入文件路径

### 移动端测试
1. 将文件复制到手机
2. 用手机浏览器打开 `index.html`
3. 或者使用简单的HTTP服务器：
   ```bash
   # Python 3
   python -m http.server 8000
   
   # Node.js (如果安装了)
   npx serve .
   ```

## ✅ 功能测试清单

### 主界面测试
- [ ] 页面正常加载，显示"卷宝专属数织游戏"标题
- [ ] 头部显示用户名"卷卷大王"和👸头像
- [ ] 显示初始现金¥5.00
- [ ] 统计信息显示正确（连胜次数、完成关卡、累计奖励）
- [ ] 三个主要按钮可点击：开始游戏、关卡选择、练习模式

### 游戏核心功能测试
- [ ] 点击"开始游戏"进入游戏界面
- [ ] 游戏板正确显示（提示数字 + 游戏网格）
- [ ] 左键点击填充格子 (变成粉色)
- [ ] 右键点击标记X (显示✕符号)
- [ ] 再次点击可以清除标记
- [ ] 进度百分比实时更新
- [ ] 完成关卡时显示胜利弹窗

### 移动端特殊功能测试
- [ ] 短按：填充/清除格子
- [ ] 长按500ms：标记/清除X
- [ ] 触摸反馈正常 (格子变色、缩放效果)
- [ ] 页面不会意外滚动或缩放
- [ ] iOS Safari 兼容性正常

### 奖励系统测试
- [ ] 完成关卡获得现金奖励
- [ ] 奖励金额根据难度正确计算
- [ ] 连胜次数正确累加
- [ ] 特殊日期检测 (可修改系统时间测试)
- [ ] 胜利弹窗显示详细奖励分解

### 关卡选择测试
- [ ] 关卡网格正确显示
- [ ] 已完成关卡显示绿色+✓标记
- [ ] 锁定关卡显示灰色且不可点击
- [ ] 自动解锁设置生效 (前51关)
- [ ] 点击关卡正确跳转到游戏

### 辅助功能测试
- [ ] 💡提示按钮：随机填充一个正确格子
- [ ] ↶撤销按钮：恢复上一步操作
- [ ] ↷重做按钮：重新执行被撤销的操作
- [ ] 返回按钮正确返回主菜单

### 设置功能测试
- [ ] 设置界面正确打开
- [ ] 音效开关可切换 (设置保存)
- [ ] 背景音乐开关可切换 (设置保存)
- [ ] 自动解锁开关影响关卡选择
- [ ] 重置数据按钮清除所有进度

### 数据持久化测试
- [ ] 刷新页面后数据保持不变
- [ ] 现金数量正确保存
- [ ] 连胜次数正确保存
- [ ] 完成关卡记录正确保存
- [ ] 设置选项正确保存

## 🐛 常见问题排查

### 问题1：页面空白或按钮无响应
**可能原因**：JavaScript 加载失败
**解决方案**：
1. 检查浏览器控制台是否有错误
2. 确保所有 `.js` 文件在正确位置
3. 尝试刷新页面

### 问题2：移动端操作不响应
**可能原因**：触摸事件处理问题
**解决方案**：
1. 确保是在移动设备或模拟器中测试
2. 检查是否启用了触摸模式
3. 尝试长按和短按不同操作

### 问题3：iOS Safari 特殊问题
**可能原因**：iOS 特殊限制
**解决方案**：
1. 确保字体大小 ≥ 16px (防止缩放)
2. 检查 `-webkit-` 前缀样式
3. 禁用橡皮筋效果和双击缩放

### 问题4：数据丢失
**可能原因**：localStorage 访问问题
**解决方案**：
1. 检查浏览器是否支持 localStorage
2. 确保不是在隐私模式下浏览
3. 手动清除浏览器缓存重试

## 📊 性能测试

### 加载性能
- [ ] 首屏加载时间 < 3秒
- [ ] 图片资源加载正常
- [ ] CSS 样式正确应用

### 运行性能
- [ ] 游戏操作响应 < 100ms
- [ ] 动画效果流畅
- [ ] 内存使用稳定

### 兼容性测试
- [ ] Chrome (桌面 + 移动)
- [ ] Firefox (桌面 + 移动)
- [ ] Safari (桌面 + iOS)
- [ ] Edge (桌面)

## 🎯 测试成功标准

### 基础功能 (必须100%通过)
- 页面正常加载显示
- 游戏核心玩法正常
- 奖励系统计算正确
- 数据持久化工作

### 移动端功能 (必须90%通过)
- 触摸操作响应正常
- 界面适配良好
- iOS 兼容性良好

### 高级功能 (建议80%通过)
- 所有辅助功能正常
- 设置系统完整
- 特殊日期检测准确

## 📝 测试报告模板

```
测试日期：____
测试设备：____
浏览器：____
测试结果：____

发现问题：
1. ____
2. ____

建议改进：
1. ____
2. ____

总体评分：____/10
```

---

**测试愉快！如有问题请及时反馈 💕**