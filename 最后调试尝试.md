# 🔧 最后调试尝试

## 尝试查找正确的组件名称

```javascript
// 1. 列出所有场景中的组件
function listAllComponents() {
    var scene = cc.director.getScene();
    function traverse(node, depth) {
        var indent = "  ".repeat(depth);
        var components = [];
        if (node._components) {
            components = node._components.map(c => c.constructor.name || c.__classname__ || 'Unknown');
        }
        console.log(indent + node.name + " -> " + components.join(", "));
        
        if (node.children) {
            node.children.forEach(child => traverse(child, depth + 1));
        }
    }
    traverse(scene, 0);
}
listAllComponents();

// 2. 专门查找包含win、game、reward等关键词的方法
function findGameMethods() {
    var scene = cc.director.getScene();
    function searchMethods(node, path) {
        if (node._components) {
            node._components.forEach(comp => {
                var methods = Object.getOwnPropertyNames(comp.__proto__);
                var gameMethods = methods.filter(m => 
                    m.includes('win') || m.includes('game') || m.includes('reward') || m.includes('Win')
                );
                if (gameMethods.length > 0) {
                    console.log("🎯 在", path + "/" + node.name, "找到相关方法:", gameMethods);
                    console.log("组件类型:", comp.constructor.name);
                    window.foundGameComp = comp; // 保存到全局变量
                }
            });
        }
        
        if (node.children) {
            node.children.forEach(child => searchMethods(child, path + "/" + node.name));
        }
    }
    searchMethods(scene, "");
}
findGameMethods();

// 3. 如果找到了，尝试调用
if (window.foundGameComp && window.foundGameComp.directWin) {
    console.log("🚀 尝试调用directWin");
    window.foundGameComp.directWin();
}
```

## 如果还是不行，尝试直接修改数据来测试

```javascript
// 直接测试现金奖励系统
try {
    // 方法1：通过require获取
    var rewardMgr = require("rewardMgr");
    if (rewardMgr && rewardMgr.default) {
        console.log("✅ 找到rewardMgr");
        console.log("当前余额:", rewardMgr.default.getCashDisplay());
        
        // 强制添加现金
        rewardMgr.default.addCash(520);
        console.log("添加后余额:", rewardMgr.default.getCashDisplay());
    }
} catch (e) {
    console.log("❌ require方式失败:", e);
}

// 方法2：通过全局查找
if (typeof window !== 'undefined') {
    // 查看是否有全局的测试方法
    console.log("全局测试方法:", typeof window.testCashReward);
    if (window.testCashReward) {
        window.testCashReward();
    }
}
```