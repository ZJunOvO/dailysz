# ğŸ® è°ƒè¯•æµ‹è¯•æŒ‡å—

## ğŸš€ ä¸€é”®é€šå…³æµ‹è¯•

### æ–¹æ³•1ï¼šæ‰¾åˆ°æ¸¸æˆç»„ä»¶å¹¶è°ƒç”¨
è¿›å…¥æ¸¸æˆå…³å¡åï¼Œåœ¨æµè§ˆå™¨æ§åˆ¶å°æ‰§è¡Œï¼š

```javascript
// æŸ¥æ‰¾æ¸¸æˆåœºæ™¯ä¸­çš„gameç»„ä»¶
var gameNode = cc.find("game");
if (gameNode) {
    var gameComp = gameNode.getComponent("game");
    if (gameComp) {
        // ä¸€é”®é€šå…³
        gameComp.oneClickWin();
        
        // æˆ–è€…ç›´æ¥èƒœåˆ©
        gameComp.directWin();
        
        // å¼ºåˆ¶ç°é‡‘å¥–åŠ±
        gameComp.forceCashReward();
    }
}
```

### æ–¹æ³•2ï¼šé€šè¿‡åœºæ™¯æŸ¥æ‰¾
```javascript
// è·å–å½“å‰åœºæ™¯çš„æ‰€æœ‰èŠ‚ç‚¹ï¼ŒæŸ¥æ‰¾gameç»„ä»¶
var scene = cc.director.getScene();
function findGameComponent(node) {
    var gameComp = node.getComponent("game");
    if (gameComp) {
        console.log("æ‰¾åˆ°gameç»„ä»¶ï¼");
        return gameComp;
    }
    
    for (var i = 0; i < node.children.length; i++) {
        var result = findGameComponent(node.children[i]);
        if (result) return result;
    }
    return null;
}

var gameComp = findGameComponent(scene);
if (gameComp) {
    gameComp.directWin(); // ç›´æ¥èƒœåˆ©
}
```

### æ–¹æ³•3ï¼šæš´åŠ›æœç´¢
```javascript
// éå†æ‰€æœ‰æ´»è·ƒçš„æ¸¸æˆç»„ä»¶
var allNodes = cc.director.getScene().children;
function searchGameComp(nodes) {
    for (var i = 0; i < nodes.length; i++) {
        var node = nodes[i];
        if (node.getComponent && node.getComponent("game")) {
            console.log("ğŸ¯ æ‰¾åˆ°gameç»„ä»¶ï¼", node.name);
            return node.getComponent("game");
        }
        if (node.children && node.children.length > 0) {
            var result = searchGameComp(node.children);
            if (result) return result;
        }
    }
    return null;
}

var gameComp = searchGameComp(allNodes);
if (gameComp) {
    console.log("æ‰§è¡Œä¸€é”®é€šå…³...");
    gameComp.directWin();
}
```

## ğŸ’° ç°é‡‘å¥–åŠ±æµ‹è¯•

### æ–¹æ³•1ï¼šé€šè¿‡rewardMgrç›´æ¥æµ‹è¯•
```javascript
// è·å–ç°é‡‘ä½™é¢
var rewardMgr = require("rewardMgr").default;
console.log("å½“å‰ä½™é¢:", rewardMgr.getCashDisplay());

// å¼ºåˆ¶æ·»åŠ ç°é‡‘ï¼ˆç»•è¿‡éšæœºæ¦‚ç‡ï¼‰
rewardMgr.addCash(520); // æ·»åŠ 5.20å…ƒ
console.log("æ–°ä½™é¢:", rewardMgr.getCashDisplay());

// æµ‹è¯•å¥–åŠ±è®¡ç®—
rewardMgr.onPuzzleComplete('expert', true);
```

### æ–¹æ³•2ï¼šé€šè¿‡topç»„ä»¶æµ‹è¯•
```javascript
// æŸ¥æ‰¾topç»„ä»¶å¹¶è°ƒç”¨æµ‹è¯•æ–¹æ³•
function findTopComponent() {
    var canvas = cc.find("Canvas");
    if (canvas) {
        var topNodes = canvas.getComponentsInChildren("top");
        if (topNodes && topNodes.length > 0) {
            return topNodes[0];
        }
    }
    return null;
}

var topComp = findTopComponent();
if (topComp) {
    topComp.testCashRewardSystem();
}
```

## ğŸ” è°ƒè¯•æ—¥å¿—æ£€æŸ¥

### æ¸¸æˆå®Œæˆæ—¶åº”è¯¥çœ‹åˆ°çš„æ—¥å¿—ï¼š
```
ğŸ’ å·å®ä¸“å±ç°é‡‘å¥–åŠ±ç³»ç»Ÿåˆå§‹åŒ–å®Œæˆ
ğŸ® æ¸¸æˆå®Œæˆæ£€æµ‹ - ç±»å‹: 0 å…³å¡: 52
ğŸ” æ¸¸æˆç±»å‹æ£€æŸ¥ - æ˜¯å¦æ™®é€šæ¸¸æˆ: true æ¸¸æˆç±»å‹å€¼: 0 æ™®é€šç±»å‹å€¼: 0
ğŸ¯ å…³å¡52å®Œæˆï¼Œéš¾åº¦: expert
ğŸ‰ å·å®è·å¾—ç°é‡‘å¥–åŠ±ï¼
ğŸ’° å·å®è·å¾—ç°é‡‘å¥–åŠ±: Â¥X.XX
```

### å¦‚æœæ²¡æœ‰çœ‹åˆ°è¿™äº›æ—¥å¿—ï¼Œå¯èƒ½çš„é—®é¢˜ï¼š
1. **æ¸¸æˆç±»å‹ä¸åŒ¹é…** - æ£€æŸ¥æ¸¸æˆç±»å‹å€¼
2. **rewardMgræœªæ­£ç¡®åŠ è½½** - æ£€æŸ¥æ¨¡å—å¼•ç”¨
3. **éšæœºæ¦‚ç‡æœªè§¦å‘** - è¿ç»­æµ‹è¯•å‡ æ¬¡

## ğŸ¯ å¿«é€Ÿæµ‹è¯•æµç¨‹

1. **è¿›å…¥ä»»æ„å…³å¡**
2. **æ‰“å¼€æµè§ˆå™¨æ§åˆ¶å°**
3. **æ‰§è¡Œä¸€é”®é€šå…³ä»£ç **ï¼š
   ```javascript
   // æœ€ç®€å•çš„æ–¹æ³•
   cc.director.getScene().getComponentInChildren("game").directWin();
   ```
4. **è§‚å¯Ÿæ§åˆ¶å°æ—¥å¿—è¾“å‡º**
5. **æ£€æŸ¥topRmbåŒºåŸŸæ•°å€¼å˜åŒ–**

## ğŸ› ï¸ å¦‚æœé‡åˆ°é—®é¢˜

### é—®é¢˜1ï¼šæ‰¾ä¸åˆ°gameç»„ä»¶
```javascript
// åˆ—å‡ºæ‰€æœ‰èŠ‚ç‚¹å’Œç»„ä»¶
function listAllComponents() {
    var scene = cc.director.getScene();
    function traverse(node, depth) {
        var indent = "  ".repeat(depth);
        console.log(indent + node.name, node._components.map(c => c.constructor.name));
        node.children.forEach(child => traverse(child, depth + 1));
    }
    traverse(scene, 0);
}
listAllComponents();
```

### é—®é¢˜2ï¼šrewardMgræœªåŠ è½½
```javascript
// æ£€æŸ¥æ¨¡å—æ˜¯å¦å¯ç”¨
try {
    var rewardMgr = require("rewardMgr");
    console.log("âœ… rewardMgrå¯ç”¨");
} catch (e) {
    console.log("âŒ rewardMgrä¸å¯ç”¨:", e);
}
```

### é—®é¢˜3ï¼šç°é‡‘ä¸æ›´æ–°
```javascript
// æ‰‹åŠ¨è§¦å‘ç°é‡‘æ›´æ–°äº‹ä»¶
require("evts").default.opE.emit({ action: 'CASH_CHG' });
```

## ğŸ’¡ å°æŠ€å·§

- ä½¿ç”¨ `cc.director.pause()` æš‚åœæ¸¸æˆè¿›è¡Œè°ƒè¯•
- ä½¿ç”¨ `cc.director.resume()` æ¢å¤æ¸¸æˆ
- æŒ‰F12æ‰“å¼€å¼€å‘è€…å·¥å…·ï¼Œåœ¨Consoleæ ‡ç­¾é¡µæ‰§è¡Œä»£ç 
- å¦‚æœä»£ç æ‰§è¡Œå¤±è´¥ï¼Œå°è¯•åœ¨æ¸¸æˆåŠ è½½å®Œæˆåå†æ‰§è¡Œ